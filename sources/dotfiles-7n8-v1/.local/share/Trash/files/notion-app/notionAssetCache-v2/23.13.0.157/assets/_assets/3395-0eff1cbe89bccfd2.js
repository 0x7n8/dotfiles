"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3395],{83023:(e,t,o)=>{o(67294),o(480),o(24405);var r=o(45238),i=o(85893);(0,r.IU)("gift",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M7.95789 3.54464C8.00247 3.30845 8.16614 2.97748 8.48043 2.66319C8.84104 2.30258 9.38851 1.92751 9.87755 1.74943C10.1088 1.66523 10.237 1.65112 10.2972 1.65266C10.6256 1.99575 10.8618 2.39413 10.9488 2.70912C10.9917 2.86422 10.9849 2.94927 10.9797 2.97718L10.9792 2.98003C10.9777 2.9894 10.9767 2.99539 10.9553 3.01675C10.5461 3.42596 10.0755 3.57832 9.4321 3.60836C9.09223 3.62423 8.7328 3.60413 8.31688 3.57258C8.25969 3.56824 8.20022 3.56356 8.13892 3.55874L7.95789 3.54464ZM6.97082 2.14136C7.10128 1.95114 7.25234 1.76996 7.41977 1.60253C8.39608 0.626221 10.3325 -0.434439 11.3089 0.541871C12.2852 1.51818 12.9923 3.10109 12.016 4.07741C11.4993 4.59409 10.9264 4.86563 10.3362 4.99913H14V7.99913H13H8V5.05253C7.65076 5.02523 7.31443 4.99913 7.00006 4.99913C6.99017 4.98924 6.98043 4.9793 6.97082 4.96932C6.96122 4.9793 6.95148 4.98924 6.94159 4.99913C6.64476 4.99913 6.32836 5.0224 6 5.04797V7.99913H1H0V4.99913H3.60548C3.01529 4.86563 2.44237 4.59409 1.92569 4.07741C0.949377 3.10109 1.65648 1.51818 2.6328 0.541871C3.60911 -0.434439 5.54557 0.626221 6.52188 1.60253C6.68931 1.76996 6.84037 1.95114 6.97082 2.14136ZM10.3411 1.66021C10.3418 1.65908 10.3348 1.65588 10.3179 1.65399C10.3319 1.6604 10.3404 1.66134 10.3411 1.66021ZM1 8.99913V13.9991H6V8.99913H1ZM8 8.99913V13.9991H13V8.99913H8ZM5.46122 2.66319C5.77551 2.97748 5.93918 3.30845 5.98376 3.54464L5.80273 3.55874C5.74143 3.56356 5.68196 3.56824 5.62477 3.57258C5.20886 3.60413 4.84942 3.62423 4.50955 3.60836C3.86611 3.57832 3.39557 3.42596 2.98635 3.01675C2.965 2.99539 2.96399 2.9894 2.96241 2.98003L2.96191 2.97718C2.95674 2.94927 2.94998 2.86422 2.99284 2.70912C3.07987 2.39413 3.31602 1.99575 3.64441 1.65266C3.70469 1.65112 3.83287 1.66523 4.0641 1.74943C4.55314 1.92751 5.10061 2.30258 5.46122 2.66319ZM3.60056 1.66021C3.59983 1.65908 3.60685 1.65588 3.6238 1.65399C3.60977 1.6604 3.60129 1.66134 3.60056 1.66021Z"})});o(9291),o(95477),o(4023),o(84076),o(26388),o(14694)},27556:(e,t,o)=>{o.d(t,{Ke:()=>r.LazyOutlinerViewAllButton,k4:()=>i,uO:()=>n,vJ:()=>r.LazyOutlinerViewAllPopup});var r=o(77907);const i=30,n=20},21130:(e,t,o)=>{o.d(t,{Z:()=>l});var r=o(480),i=o(59054),n=o(1898),s=o(54642),a=o(77080);function l(){const e=(0,r.O7)(),[{status:t,error:o,value:l}]=(0,i.r5)((async()=>{if(!a.default.checkGate("admin_console_enabled"))return{organizationsInfo:[]};const t=await s.getUserOrganizations(e,{});if("success"===t.type)return t.data;if("failed"===t.type)throw t.error;return(0,n.t1)(t)}),[e]);return{organizationsInfo:(null==l?void 0:l.organizationsInfo)??[],loading:"pending"===t||"idle"===t,error:o}}},51811:(e,t,o)=>{o.d(t,{EX:()=>r,HB:()=>l,IS:()=>d,Tj:()=>a,yW:()=>s});let r=function(e){return e[e.Sidebar=0]="Sidebar",e[e.SidebarMobile=1]="SidebarMobile",e[e.MobileBottomBarPhone=2]="MobileBottomBarPhone",e[e.MobileBottomBarTablet=3]="MobileBottomBarTablet",e[e.TopbarMobile=4]="TopbarMobile",e[e.RenderAsPage=5]="RenderAsPage",e[e.SidebarIcon=6]="SidebarIcon",e}({});const i=new Map,n=new Map;function s(e,t){i.set(c(e),t)}function a(e){return i.get(c(e))}function l(e,t){n.set(u(e),t)}function d(e){return n.get(u(e))??[]}function c(e){return Object.keys(e).sort().map((t=>{const o=e[t];return JSON.stringify(o)})).join("-")}function u(e){return Object.keys(e).sort().map((t=>{const o=e[t];return JSON.stringify(o)})).join("-")}},46770:(e,t,o)=>{o.d(t,{Z:()=>V});var r=o(67294),i=o(480),n=o(86628),s=o(24405),a=o(15145),l=o(56996),d=o(9291),c=o(37810),u=o(58261),g=o(84076),p=o(74420),h=o(26388),m=o(14694),b=o(27068),f=o(30806),C=o(94841),x=o(4023),S=o(80444),v=o(77080),y=o(77999),M=o(85893);function j(e){const{styles:t}=e,o=(0,i.O7)(),j=(0,n.VK)((()=>{const{currentSpaceViewStore:e}=S.default.state;if(e)return C.Al(e)}),[]),V=(0,n.VK)((()=>v.default.checkGate("sidebar_redesign")),[]),I=(0,n.VK)((()=>{const e=S.default.state.mainEditorCurrentBlockStore;return!!e&&C.Kj(e.id)}),[]),Z=(0,n.VK)((()=>C.pr(o)),[o]),w=(0,n.VK)((()=>"home_available"===y.default.getState().type),[]),k=(0,r.useCallback)((()=>{(0,b.nJ)(o),(0,f.$X)({environment:o,from:"sidebar"}),w&&(0,b.hR)(o)}),[o,w]),B=(0,s.yK)((e=>({tooltip:{width:200},shortcutLabel:{color:e.mediumInvertedTextColor},sidebarItem:{...I&&{fontWeight:c.Z.fontWeight.semibold,background:e.sidebarItemSelectedBackground,color:e.regularTextColor}},icon:{fill:V?e.accentColors.gray[900]:I?e.regularTextColor:e.mediumIconColor,width:20,height:20}})),[I,V]),T=(0,n.VK)((()=>{var e;return null==j||null===(e=j.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:null==j?void 0:j.getRecordModel,pageVisitSource:a.tY.SidebarHome})}),[j]);return T?(0,M.jsx)(h.ZP,{renderTooltip:()=>(0,M.jsxs)("div",{style:B.tooltip,children:[(0,M.jsx)("div",{children:(0,M.jsx)(d.FormattedMessage,{id:"sidebarPersonalHomeButton.tooltip",defaultMessage:"View recent pages and more"})}),(0,M.jsx)(u.Z,{style:B.shortcutLabel,name:"openHome"})]}),disableTooltip:w,originGap:6,textWrap:!0,placement:x.u.Right,render:e=>(0,M.jsx)(g.Z,{...e,style:{...B.sidebarItem,...t.sidebarItemButtonStyle},hoveredStyle:t.buttonHoveredStyle,href:T,onClick:k,children:(0,M.jsx)(m.Z,{left:(0,l.z)(B.icon),right:Z&&(0,M.jsx)(p.Z,{}),disableMobileBorder:!0,children:(0,M.jsx)(d.FormattedMessage,{id:"sidebarPersonalHomeButton.label",defaultMessage:"Home"})})})}):null}const V=r.memo(j)},31271:(e,t,o)=>{o.d(t,{u:()=>H});var r=o(67294),i=o(480),n=o(86628),s=o(69246),a=o(53965),l=o(150),d=o(79131),c=o(28020);var u=o(80444),g=o(73292),p=o(82593),h=o(24646),m=o(77999),b=o(24405),f=o(56666),C=o(9291),x=o(37810),S=o(64921),v=o(58261),y=o(26388),M=o(14694),j=o(98742),V=o(50659),I=o(4023),Z=o(77080),w=o(9867),k=o(85893);function B(){const e=(0,i.O7)(),t=(0,n.VK)((()=>Z.default.checkGate("sidebar_redesign")),[]),o=(0,n.VK)((()=>(0,V.G$)({isMobile:!1})),[]),r=(0,b.yK)((e=>({shortcutLabel:{color:e.mediumInvertedTextColor},icon:{fill:e.mediumIconColor,width:14},button:{...o,height:t?32:void 0},buttonHovered:{background:e.newSidebarItemSelectedBackground},sidebarItem:{fontWeight:x.Z.fontWeight.regular,color:e.mediumTextColor}})),[o,t]);return(0,k.jsx)(y.ZP,{renderTooltip:()=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{children:(0,k.jsx)(C.FormattedMessage,{defaultMessage:"Browse all teamspaces",id:"sidebar.openSidebarTeamBrowserButton.tooltip"})}),(0,k.jsx)(v.Z,{style:r.shortcutLabel,name:"toggleAllTeams"})]}),originGap:6,placement:I.u.Right,render:o=>(0,k.jsx)(S.Z,{onClick:()=>(0,w.tn)(e,{from:"sidebar_browse_team_item"}),style:r.button,hoveredStyle:t?r.buttonHovered:void 0,...(0,j.Z)(o,{}),children:(0,k.jsx)(M.Z,{left:(0,f.o)(r.icon),childrenStyle:r.sidebarItem,children:(0,k.jsx)(C.FormattedMessage,{defaultMessage:"All teamspaces",id:"sidebar.openSidebarTeamBrowserButton"})})})})}const T=r.memo(B);var K=o(29165);function H(e){let{teams:t,reorderable:o,onNavigate:b,id:f}=e;const C=(0,i.O7)(),x=function(){const e=(0,i.O7)();return(0,n.VK)((()=>(0,c.k_)(e).state),[e])}(),{currentSpaceViewStore:S,currentSpaceStore:v}=(0,n.VK)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=u.default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),y=(0,n.VK)((()=>t.map((e=>e.id))),[t]),M=(0,n.VK)((()=>a.KX(t,"id")),[t]),[j,V]=(0,r.useState)({});(0,r.useEffect)((()=>{(null==v?void 0:v.id)&&V((e=>g.oO({teamIds:y,oldState:e,spaceId:v.id,userId:C.currentUser.id})))}),[null==v?void 0:v.id,C.currentUser.id,y]);const I=(0,n.VK)((()=>{const e=m.default.state.initialTeamStoreId;return y.find((t=>t===e))??a.Ps(y)}),[y]),Z=(0,p.Z)(),w=(0,n.VK)((()=>0!==Z.length&&(0,h.vG)({environment:C})),[C,Z.length]);return S&&x?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.ZP,{id:f,direction:"vertical",keys:y,disabled:!o,renderKey:e=>j[e]&&(0,k.jsx)(K.O,{shouldPersistToggleState:!0,teamStore:M[e],sidebarState:x,isLastTeam:a.Z$(y)===e,teamOutlinerType:s.kg,customToggleStore:j[e],onNavigate:b,sidebarTourStep:I===e?"prebuilt_templates":void 0},e),onDrop:(e,t)=>{l.Ct({environment:C,currentSpaceViewStore:S,orderedTeamIds:e,userAction:"SidebarOutliner.SidebarOutliner",isExplicitUserAction:!0,dropArgs:t})}}),w&&(0,k.jsx)(T,{})]}):(0,k.jsx)(k.Fragment,{})}},22709:(e,t,o)=>{o.d(t,{_S:()=>_,ZP:()=>D});var r=o(67294),i=o(480),n=o(86628),s=o(49085),a=o(80503),l=o(14720),d=o(66324),c=o(65452),u=o(64921),g=o(31945),p=o(39849),h=o(92955),m=o(21130),b=o(24405),f=o(37240),C=o(37810),x=o(4708),S=o(48779),v=o(19034),y=o(56496),M=o(31278),j=o(14694),V=o(46783),I=o(85893);const Z=function(e){const{showIcon:t}=e,o=(0,b.Fg)(),r=(0,b.yK)((e=>{const o=Math.ceil(60),r=Math.floor(85),i=`${Math.floor(Math.random()*(r-o+1))+o}%`;return{placeholderPageStyle:{height:28,display:"flex",alignItems:"center",width:"100%",padding:t?"0 15px":"0 0px"},placeholderTextWrapStyle:{flexGrow:1,marginLeft:t?10:0,height:28,display:"flex",alignItems:"center"},placeholderTextStyle:{height:4,background:e.buttonHoveredBackground,width:i}}}),[t]);return(0,I.jsxs)("div",{style:r.placeholderPageStyle,children:[t&&(0,V.w)({width:16,height:16,fill:o.buttonHoveredBackground}),(0,I.jsx)("div",{style:r.placeholderTextWrapStyle,children:(0,I.jsx)("div",{style:r.placeholderTextStyle})})]})},w={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};const k=function(e){const t=(0,b.Fg)(),o=(0,i.O7)(),{device:s}=o,a=(0,n.VK)((()=>"store"===e.type?(0,S.rn)(o,e.spaceStore):e.spaceName),[o,e]);return(0,r.useEffect)((()=>{"store"===e.type&&e.spaceStore.getValue()}),[e]),(0,I.jsxs)(j.Z,{style:{overflow:"hidden",...e.isMobile&&{fontSize:14,padding:0,marginRight:12},...!e.isMobile&&{paddingLeft:10,paddingRight:10},...e.style?e.style:{}},left:a?(0,I.jsx)(K,{title:a,icon:"store"===e.type?void 0:e.spaceIcon,isMobile:e.isMobile,spaceStore:"store"===e.type?e.spaceStore:void 0}):(0,I.jsx)(B,{}),disableMobileBorder:!0,children:[!a&&(0,I.jsx)(T,{}),a&&(0,I.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:e.activeUserEmailAddress?"space-between":"start"},className:"notranslate",children:[(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:6,marginTop:s.isAndroid?3:0,...w},children:[(0,I.jsx)("div",{style:{color:t.regularTextColor,fontWeight:C.Z.fontWeight.medium,...w},children:a}),(0,I.jsx)("div",{style:{color:t.mediumTextColor,fontSize:11,lineHeight:"12px",fontWeight:C.Z.fontWeight.regular,...w},children:e.activeUserEmailAddress})]}),e.showExpand&&(0,I.jsx)("div",{style:{flexGrow:0,flexShrink:0,width:10,height:10,fill:t.mediumIconColor},children:(0,f.s)()})]})]})};function B(){return(0,I.jsx)("div",{style:{opacity:.25},children:(0,I.jsx)(y.Z,{size:20,title:void 0})})}function T(){return(0,I.jsx)(Z,{showIcon:!1})}function K(e){let{title:t,icon:o,isMobile:r,spaceStore:s}=e;const a=(0,b.Fg)(),l=(0,i.O7)(),d=(0,n.VK)((()=>s?(0,S.Wd)(l,s):o?{icon:o,pointer:{table:"space",id:"undefined"}}:void 0),[s,l,o]),c=(0,n.VK)((()=>s?(0,S.rn)(l,s):t),[s,l,t]),u=(0,n.VK)((()=>v.Z.getUnreadMentionsCountForOtherSpaces()>0&&"control"!==(0,x.Lo)(l)),[l]);return(0,I.jsxs)("div",{style:{position:"relative"},children:[u&&(0,I.jsx)(H,{}),(0,I.jsx)(M.Z,{disabled:!0,icon:d,isEmptyPage:!1,title:c,size:r?24:22,style:{marginTop:1,color:a.regularTextColor,fontWeight:C.Z.fontWeight.medium}})]})}function H(){const e=(0,b.yK)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",right:-3,width:8,height:8,borderRadius:4}})),[]);return(0,I.jsx)("div",{style:e.unreadBadge})}var L=o(22165),O=o(43250),R=o(80444),U=o(77080),P=o(30278),W=o(85974),z=o(28517),A=o(97852),E=o(78861);let _=function(e){return e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile",e}({});const F={[_.Regular]:a.Aj-8,[_.DesktopMac]:a.br,[_.Mobile]:"auto"},G={display:"flex",alignItems:"center",minWidth:0,height:"100%",width:"100%"},N=s.default.createClass(!1);const D=function(e){let{shouldShowUnexpandButton:t,disabled:o,format:r,buttonStyle:s,redirectURL:a,disableLoginLink:b,onSpaceClick:f}=e;const C=(0,i.O7)(),S=(0,n.qz)(void 0,N),y=(0,n.qz)(void 0,P.Z),M=(0,n.qz)(void 0,W.Z),{device:j}=C,{currentSpaceStore:V,currentUserStore:Z}=(0,n.VK)((()=>R.default.state),[]),w=C.currentUser.loggedInUserIds,B=(0,n.VK)((()=>w.length>1?null==Z?void 0:Z.getEmail():void 0),[w,Z]),T=(0,n.VK)((()=>v.Z.getUnreadMentionsCountForOtherSpaces()),[]),K=(0,n.VK)((()=>S.state),[S]),H=(0,n.VK)((()=>"control"!==(0,x.Lo)(C)),[C]),{organizationsInfo:_}=(0,m.Z)(),D=(0,n.VK)((()=>U.default.checkGate("admin_console_enabled")),[]);if(!V||!Z)return null;const $=Boolean(o);return(0,I.jsx)(g.ZP,{popupType:j.isMobile?g.Z4.SlideUp:g.Z4.Popup,buttonPopupStore:A.Z,renderOrigin:()=>(0,I.jsxs)(u.Z,{style:{...G,height:F[r],marginLeft:4,marginRight:4,marginTop:j.isMobile?0:4,width:"calc(100% - 8px)",borderRadius:4,marginBottom:B?j.isMobile?0:8:0,padding:0,...s},mobileFeedback:j.isMobile,onClick:()=>function(e){A.Z.setState({...A.Z.state,open:!0}),d.ai(e),e.currentUser.loggedInUserIds.forEach((t=>{E.Z.getSpaceViewStores(e,t).forEach((o=>{const r=o.getSpaceId();r&&(c.h({environment:e,spaceId:r,userId:t}),z.I({environment:e,spaceId:r,userId:t}))}))}))}(C),disabled:$,className:O.rli,hovered:K,ignoreLocalHoverState:!0,onMouseEnter:()=>S.setState(!0),onMouseLeave:()=>S.setState(!1),children:[(0,I.jsx)(k,{isMobile:J(r),spaceStore:V,activeUserEmailAddress:B,showExpand:!$&&!H,type:"store",style:{marginLeft:0}}),(0,I.jsxs)("div",{className:O.JiD,style:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",marginRight:T||H?0:12},children:[t&&(0,I.jsx)(L.V,{}),!H&&(0,I.jsx)(h.Z,{type:"otherSpaces",color:p.N.Red,style:{marginLeft:10,marginRight:10}})]})]}),originGap:0,disableMutationObserver:!0,forceInitialInbound:!0,style:j.isMobile?{}:{width:320,overflow:"hidden"},render:e=>(0,I.jsx)(l.Rv,{parent:e,redirectURL:a,disableLoginLink:b,onSpaceClick:f,loginStore:M,loginPermissionsStore:y,organizationsInfo:D?_:void 0})})};function J(e){return e===_.Mobile}},30278:(e,t,o)=>{o.d(t,{Z:()=>n});var r=o(49085);class i extends r.default{getInitialState(){return{contacts:!1}}}const n=i},59078:(e,t,o)=>{o.d(t,{W:()=>n});o(67294);var r=o(45238),i=o(85893);const n=(0,r.IU)("sidebarInbox",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M4.61084 16.0537C3.90837 16.0537 3.37305 15.8717 3.00488 15.5078C2.64095 15.1481 2.45898 14.6191 2.45898 13.9209V10.1504C2.45898 9.89225 2.47168 9.67432 2.49707 9.49658C2.52669 9.31462 2.57536 9.15169 2.64307 9.00781C2.71077 8.86393 2.80387 8.71794 2.92236 8.56982L4.94092 6.09424C5.20752 5.76416 5.44238 5.50602 5.64551 5.31982C5.85286 5.12939 6.07715 4.99609 6.31836 4.91992C6.5638 4.83952 6.88118 4.79932 7.27051 4.79932H12.7358C13.1252 4.79932 13.4404 4.83952 13.6816 4.91992C13.9271 4.99609 14.1514 5.12939 14.3545 5.31982C14.5576 5.50602 14.7946 5.76416 15.0654 6.09424L17.0776 8.56982C17.2004 8.71794 17.2956 8.86393 17.3633 9.00781C17.431 9.15169 17.4775 9.31462 17.5029 9.49658C17.5283 9.67432 17.541 9.89225 17.541 10.1504V13.9209C17.541 14.6191 17.359 15.1481 16.9951 15.5078C16.6312 15.8717 16.098 16.0537 15.3955 16.0537H4.61084ZM4.69971 14.6445H15.3066C15.5817 14.6445 15.7912 14.5747 15.9351 14.4351C16.0832 14.2912 16.1572 14.0711 16.1572 13.7749V10.7852H12.4946C12.4142 11.1533 12.2576 11.4813 12.0249 11.769C11.7964 12.0568 11.5086 12.2853 11.1616 12.4546C10.8146 12.6196 10.4274 12.7021 10 12.7021C9.57682 12.7021 9.19173 12.6196 8.84473 12.4546C8.49772 12.2896 8.20785 12.0632 7.9751 11.7754C7.74235 11.4834 7.58789 11.1533 7.51172 10.7852H3.84277V13.7749C3.84277 14.0711 3.91471 14.2912 4.05859 14.4351C4.20671 14.5747 4.42041 14.6445 4.69971 14.6445ZM10 11.4072C10.2751 11.4072 10.512 11.3395 10.7109 11.2041C10.9098 11.0687 11.0643 10.8973 11.1743 10.6899C11.2843 10.4784 11.3394 10.2646 11.3394 10.0488V10.0298C11.3394 9.90706 11.3774 9.79915 11.4536 9.70605C11.5298 9.60872 11.6525 9.56006 11.8218 9.56006H15.8335C15.9351 9.56006 15.9964 9.52409 16.0176 9.45215C16.043 9.38021 16.0303 9.3125 15.9795 9.24902L13.7197 6.43701C13.5885 6.26774 13.4447 6.14502 13.2881 6.06885C13.1315 5.98844 12.9495 5.94824 12.7422 5.94824H7.25781C7.05469 5.94824 6.87484 5.98844 6.71826 6.06885C6.56169 6.14502 6.41569 6.26774 6.28027 6.43701L4.0332 9.24902C3.97819 9.3125 3.96126 9.38021 3.98242 9.45215C4.00781 9.52409 4.07129 9.56006 4.17285 9.56006H8.18457C8.35384 9.56006 8.47656 9.60872 8.55273 9.70605C8.62891 9.79915 8.66699 9.90706 8.66699 10.0298V10.0488C8.66699 10.2646 8.71989 10.4784 8.82568 10.6899C8.93571 10.8973 9.09017 11.0687 9.28906 11.2041C9.48796 11.3395 9.72493 11.4072 10 11.4072Z"})})}}]);