"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5126],{80671:(e,n,t)=>{t.d(n,{Cl:()=>g,Kj:()=>S,jw:()=>h,k2:()=>_,v5:()=>b});t(21703);var a=t(72141),o=t(19889),r=t(90965),s=t(896),i=t(12139),c=t(53965),d=t(7032),u=t(86572),p=t(6258),m=t(88893),l=t(63423),f=t(88280);function _(){l.Z.setState({open:!0,stage:"limit_reached",addOnUpgradeId:(0,d.ZP)(),tax:0})}function b(){l.Z.setState({open:!1})}function g(e){const n=l.Z.state;n.open&&l.Z.setState({...n,stage:"confirm_purchase",coupon:e&&!(0,s.$v)(e)?e:void 0})}function S(){l.Z.setState({open:!0,stage:"cancel_plan",addOnUpgradeId:(0,d.ZP)(),tax:0})}async function h(e){const{environment:n,spaceStore:t,from:s}=e,d=function(){const e=f.subscriptionDataStoreInstance.state,n=(e?m.CM(e):[]).filter((e=>(0,r.CF)(e)&&(0,a.zz)(e.role))).map((e=>e.userId));if(!n||0===n.length)throw new Error("No admins found in the current space");return(0,c.UP)(n)}(),l=t.getName(),_=p.U6.createChildStore(t,{table:o.KJ,id:d});await _.load();const b=_.getEmail();b?u.bf(n,{admin_id:d,admin_email:b,space_name:l,from:s}):i.IE(new Error("Could not get email for admin in sendMemberRequestForAddOn"))}},173:(e,n,t)=>{t.r(n),t.d(n,{SubscriptionDebugCommands:()=>i});var a=t(480),o=t(92595),r=t(80444),s=t(80671);function i(){const e=(0,a.O7)();return(0,o.exposeDebugValue)("subscriptions",{sendMemberRequestForAddOn:()=>{const n=r.default.state.currentSpaceStore;n&&s.jw({environment:e,spaceStore:n,from:"ai_qna_limit_in_app"})}}),null}}}]);