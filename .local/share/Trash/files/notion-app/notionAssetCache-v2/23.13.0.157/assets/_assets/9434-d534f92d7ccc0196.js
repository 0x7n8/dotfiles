"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9434],{46564:(e,t,i)=>{i.d(t,{xj:()=>$,lA:()=>Q,YV:()=>D,NZ:()=>R,Hh:()=>Y,F0:()=>_,xI:()=>O,LK:()=>E,sH:()=>q,cK:()=>L,cx:()=>W,yY:()=>B,sY:()=>N});i(57658),i(67294);var o=i(480),n=i(86628),a=i(24405),s=i(41432),r=i(12970),l=i(91856),c=i(56666),d=i(75e3),m=i(25651),p=i(11751),u=i(45238),g=i(85893);const f=(0,u.IU)("upLeftArrow",{viewBox:"0 0 16 16",svg:(0,g.jsx)("path",{d:"M2.8457 10.5869C2.8457 11.0312 3.19434 11.373 3.59766 11.373C4.00098 11.373 4.3291 11.0176 4.3291 10.6074V8.05762L4.21973 5.22754L5.32031 6.47168L11.8418 12.9932C11.999 13.1504 12.1904 13.2256 12.3818 13.2256C12.7852 13.2256 13.1543 12.8564 13.1543 12.46C13.1543 12.2686 13.0654 12.0771 12.9082 11.9199L6.40039 5.39844L5.15625 4.30469L8.10254 4.40039H10.5361C10.9463 4.40039 11.2881 4.07227 11.2881 3.67578C11.2881 3.27246 10.9736 2.93066 10.5156 2.93066H3.64551C3.16016 2.93066 2.85254 3.25195 2.85254 3.72363L2.8457 10.5869Z"})});var y=i(9291),h=i(31701),w=i(1898),v=i(42858),b=i(13447),k=i(84654),M=i(72495),T=i(19037),C=i(78663),P=i(99417),x=i(19124),S=i(40959),I=i(16772),V=i(27724),j=i(89941),F=i(62967);const N=(0,y.defineMessages)({notionAI:{defaultMessage:"Notion AI",id:"completions.completionActions.AIAssist"},more:{defaultMessage:"See more",id:"completions.completionActions.more"},alternativeUiString:{defaultMessage:"{text}",id:"completions.completionActions.alternativeUiString"},aiSummaryBlockDisplayName:{defaultMessage:"Summary",id:"completions.completionActions.aiSummaryBlockDisplayName"},aiActionItemsBlockDisplayName:{defaultMessage:"Action items",id:"completions.completionActions.aiActionItemsBlockDisplayName"},aiFreePromptBlockDisplayName:{defaultMessage:"Custom AI block",id:"completions.completionActions.aiFreePromptBlockDisplayName"},aiSectionBlockDisplayName:{defaultMessage:"Custom AI section",id:"completions.completionActions.aiSectionBlockDisplayName"}});function B(e){return function(t){return(0,g.jsx)(M.Z,{...t,title:(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.t)({width:16,height:16,marginRight:4}),(0,g.jsx)("div",{children:t.title})]}),right:e})}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const i=[];if(i.push(...e.slice(0,t)),e.length>t){const o=(0,F.$J)({key:"more actions",render:e=>(0,g.jsx)(M.Z,{...e}),actions:e.slice(t)});i.push((0,F.MV)({key:"more",displayName:N.more,analyticsName:"Completions - more",validators:j.Pz,svg:()=>(0,g.jsx)(J,{}),subActions:()=>[o],collapseSubActionsIntoParent:!0,width:350}))}return i}function H(){return(0,g.jsx)(Q,{svg:m.R,svgFill:h.FN.light.purple[500]})}const Z=1e3;function L(e){const{key:t,name:i,analyticsName:o,textToInsert:n,onUpdatePromptState:a,right:s,renderTooltip:r,showEllipsis:l,userProvidedSearchName:c,executeImmediately:d,gtmFavoriteId:m}=e,p=i.length>Z?`${i.slice(0,Z)}…`:i;return(0,F.cN)({key:t,analyticsName:`Completions - insert text into prompt - ${o}`,...(u=l?`${p}…`:p,{displayName:N.alternativeUiString,displayNameInterpolatedValues:{text:u}}),validators:[],closeParentMenu:!1,svg:H,action(){a({insertText:n??i,analyticsName:o,gtmFavoriteId:m,executeImmediately:d})},right:s??W("updatePrompt"),renderTooltip:r,userProvidedSearchName:c});var u}function E(e){const{from:t,type:i,onUpdatePromptState:o}=e;function n(e){return L({key:`completions.${e.key}`,name:(0,P.t8)(e),analyticsName:e.key,textToInsert:(0,C.$W)(e),onUpdatePromptState:o,showEllipsis:!0})}const a="cursor"===i?{selectionType:i,isPageEmpty:!T.IC9()}:{selectionType:i},s=(0,P.up)(a),r=(0,P.pv)(s,a),l=[];for(const[c,d]of r){const e=[],o=j.Pz;for(const s of d)"helpMeDraft"!==s.key&&"helpMeEdit"!==s.key&&"helpMeWrite"!==s.key&&("translate"===s.key?e.push(K(s,o,i,t)):"changeTone"===s.key?e.push(U(s,o,i,t)):s.steps?e.push(n(s)):e.push(R({prompt:s,validators:o,type:i,from:t})));const a=(0,F.$J)({key:`completions.${c}`,title:(0,P.Mh)(c,"cursor"===i?"page":"selection"),render:e=>(0,g.jsx)(M.Z,{...e}),actions:D(e.filter(w.$K),7)});l.push(a)}return"cursor"===i&&l.push((0,F.$J)({key:"completions.aiBlocks",title:P.Dr.aiBlocks,render:e=>(0,g.jsx)(M.Z,{...e}),actions:S.O5.map((e=>function(e){const t=S.Hc[e.aiBlockType],{displayName:i,svg:o}=A[e.aiBlockType],n=e=>!t.shouldShow||t.shouldShow(e);return(0,F.cN)({key:`completions.aiBlocks.${t.key}`,analyticsName:`Completions - ${t.key}`,closeParentMenu:!0,svg:o,displayName:i,validators:[...j.vE,n],action:e=>{let{environment:i}=e;b.createAndCommit({userAction:"completionActions.createAiBlockAction",environment:i,perform:e=>{v.at({environment:i,selection:V.default.state.stores,createBlockItem:t,analyticsFrom:"ai_prompt",transaction:e})}})}})}({aiBlockType:e})))})),l}const A={[s.MF.aiSummaryBlock]:{displayName:N.aiSummaryBlockDisplayName,svg:()=>(0,g.jsx)(X,{svg:l.Y})},[s.MF.aiActionItemsBlock]:{displayName:N.aiActionItemsBlockDisplayName,svg:()=>(0,g.jsx)(X,{svg:r.O})},[s.MF.aiFreePromptBlock]:{displayName:N.aiFreePromptBlockDisplayName,svg:()=>(0,g.jsx)(X,{svg:p.t})}};function O(e){return(0,F.$J)({key:"completions",title:N.notionAI,render:B(),actions:z(e)})}function z(e){const{store:t,from:i}=e,o=[];for(const n of(0,x.G9)()){if("helpMeWrite"===n.key)continue;const e=R({prompt:n,validators:j.vE,type:"aiBlock",from:i,store:t});e&&o.push(e)}return o}function _(e){const{environment:t,inputValue:i,store:o}=e,n=(0,x.qB)({customPrompt:i,isPageEmpty:!1});k.triggerCompletionForAiBlock({environment:t,store:o,prompt:n,additionalContext:{prompt:i}})}function K(e,t,i,o){const{key:n,name:a,svg:s,svgFill:r,steps:l}=e;if("translate"!==n||!l||1!==l.length||"language"!==l[0].key||"dropdown"!==l[0].type)return;const c=l[0].dropdownOptions.map((n=>{let{key:a,name:s}=n;return(0,F.cN)({key:`completions.translate.${a}`,analyticsName:`Completions - translate - ${a}`,displayName:s,validators:t,closeParentMenu:!0,right:W("submitPrompt"),action:t=>{let{environment:n}=t;G({environment:n,prompt:e,from:o,type:i,additionalContext:{language:a}})}})})),d=(0,F.$J)({key:"translate language actions",render:e=>(0,g.jsx)(M.Z,{...e}),actions:c}),m=s?()=>(0,g.jsx)(Q,{svg:s,svgFill:r}):void 0;return(0,F.MV)({key:"translate",displayName:a,analyticsName:`Completions - ${n}`,validators:t,svg:m,subActions:()=>[d]})}function U(e,t,i,o){const{key:n,name:a,svg:s,svgFill:r,steps:l}=e;if("changeTone"!==n||!l||1!==l.length||"tone"!==l[0].key||"dropdown"!==l[0].type)return;const c=l[0].dropdownOptions.map((n=>{let{key:a,name:s}=n;return(0,F.cN)({key:`completions.changeTone.${a}`,analyticsName:`Completions - changeTone - ${a}`,displayName:s,validators:t,closeParentMenu:!0,right:W("submitPrompt"),action:t=>{let{environment:n}=t;G({environment:n,prompt:e,from:o,type:i,additionalContext:{tone:a}})}})})),d=(0,F.$J)({key:"changeTone tone actions",render:e=>(0,g.jsx)(M.Z,{...e}),actions:c}),m=s?()=>(0,g.jsx)(Q,{svg:s,svgFill:r}):void 0;return(0,F.MV)({key:"changeTone",displayName:a,analyticsName:`Completions - ${n}`,validators:t,svg:m,subActions:()=>[d]})}function $(e){const{focused:t,type:i}=e,s=(0,o.O7)(),r=(0,n.VK)((()=>s.device.isPhone),[s]),l=(0,a.yK)((e=>({iconStyle:{width:14,height:14,fill:e.mediumIconColor,opacity:!r&&t?1:0},containerStyle:{width:18,height:18,display:"flex",alignItems:"center",justifyContent:"center"}})),[t,r]);switch(i){case"submitPrompt":return(0,g.jsx)("div",{style:l.containerStyle,children:(0,d.U)(l.iconStyle)});case"updatePrompt":return(0,g.jsx)("div",{style:l.containerStyle,children:f(l.iconStyle)});default:(0,w.t1)(i)}}function W(e){return t=>(0,g.jsx)($,{type:e,focused:t.focused})}function q(e){const{customPrompt:t,execute:i}=e;return(0,F.cN)({analyticsName:"Completions - execute current prompt input",key:"explicitFreeFormAction",displayName:P.Dr.genericHelpMeWrite,displayNameInterpolatedValues:{filter:t},svg:H,right:W("submitPrompt"),validators:[],closeParentMenu:!1,renderTooltip:F.zz,action(){i()}})}function R(e){const{prompt:t,validators:i,type:o,from:n,store:a,sortScoreMultiplier:s}=e,{key:r,name:l}=t;if("translate"===r&&("textSelection"===o||"blockSelection"===o||"cursor"===o))return K(t,i,o,n);if("changeTone"===r&&("textSelection"===o||"blockSelection"===o||"cursor"===o))return U(t,i,o,n);const c=function(e){const{svg:t,svgFill:i}=e;return t?()=>(0,g.jsx)(Q,{svg:t,svgFill:i}):void 0}(t),d=[...i];return t.requiresContent?d.push(T.IC9):t.requiresNoContent&&d.push(T.ffD(T.IC9)),(0,F.cN)({key:`completions.${r}`,analyticsName:`Completions - ${r}`,displayName:l,fuzzySearchKeywords:t.fuzzySearchKeywords,validators:d,closeParentMenu:!0,svg:c,right:W("submitPrompt"),sortScoreMultiplier:s,action:e=>{let{environment:i}=e;G({environment:i,prompt:t,type:o,from:n,store:a})}})}function G(e){const{environment:t,prompt:i,type:o,from:n,store:a,additionalContext:s}=e;if("textSelection"===o)k.openCompletionPopupForSavedContext({environment:t,prompt:i,from:n,additionalContext:s});else if("blockSelection"===o)k.openCompletionPopupForBlockSelectionContext({environment:t,prompt:i,from:n,additionalContext:s});else if("cursor"===o){if(i.preferToNeverInsertTextAtCursor)return void k.selectPageAndOpenCompletionPopupForBlockSelectionContext({environment:t,prompt:i,from:n,additionalContext:s});k.openCompletionPopupForCursorContext({environment:t,prompt:i,from:n,additionalContext:s})}else"aiBlock"===o?a&&k.triggerCompletionForAiBlock({environment:t,store:a,prompt:i,additionalContext:s}):(0,w.t1)(o)}function Y(e){const{inputValue:t,from:i,mode:o,environment:n}=e;switch(o){case"edit":return void function(e){const{customPrompt:t,from:i,environment:o}=e,n=(0,P.sB)(t);"closedWithContext"===I.default.state.type&&I.default.state.context&&k.openCompletionPopupForPrefilledContext({environment:o,context:I.default.state.context,prompt:n,additionalContext:{prompt:t},from:i,skipInitialForm:!0})}({environment:n,customPrompt:t,from:i});case"write":const e=(0,P.wq)(t);if(e){const{prompt:t,additionalContext:o}=e,a=(0,C.FD)();if(!a)return;return void k.openCompletionPopupForPrefilledContext({environment:n,context:a,prompt:t,additionalContext:o,from:i,skipInitialForm:!0})}return void function(e){const{environment:t,customPrompt:i,from:o}=e,n=(0,x.qB)({customPrompt:i,isPageEmpty:!T.IC9()}),a=(0,C.FD)();a&&k.openCompletionPopupForPrefilledContext({environment:t,context:a,prompt:n,additionalContext:{prompt:i},from:o,skipInitialForm:!0})}({environment:n,customPrompt:t,from:i})}(0,w.t1)(o)}function J(){const e=(0,a.Fg)();return(0,c.o)({width:12,marginLeft:2,marginRight:2,fill:e.mediumIconColor})}function Q(e){const t=(0,a.yK)((t=>({box:{height:e.fixedWidth?22:void 0,width:e.fixedWidth?22:void 0,display:"flex",alignItems:"center",justifyContent:"center",...e.boxStyles},icon:{height:16,width:16,fill:e.svgFill??(0,h.gh)({theme:"light"}).regularIconColor}})),[e]);return(0,g.jsx)("div",{style:t.box,children:e.svg(t.icon)})}function X(e){const t=(0,a.yK)((e=>({box:{background:e.fill.purple,width:24,height:24,borderRadius:4},icon:{fill:e.icon.purple}})),[]);return(0,g.jsx)(Q,{svg:e.svg,svgFill:t.icon.fill,boxStyles:t.box})}},46225:(e,t,i)=>{i.d(t,{Nc:()=>ie,vC:()=>ve,wg:()=>we});i(57658),i(67294);var o=i(14577),n=i(41892),a=i(41432),s=i(77657),r=i(74181),l=i(45953),c=i(21202),d=i(9844),m=i(9291),p=i(31701),u=i(53965),g=i(1898),f=i(62967),y=i(4727),h=i(36280),w=i(67060),v=i(42858),b=i(13447),k=i(63594),M=i(47099),T=i(72495),C=i(68204),P=i(19037),x=i(42),S=i(99417),I=i(40959),V=i(33929),j=i(89014),F=i(5162),N=i(77080),B=i(30874),D=i(27724),H=i(49386),Z=i(21797),L=i(89941),E=i(46564),A=i(11732),O=i(85893);const z=.75,_=.5,K=(0,m.defineMessages)({basicBlocksSection:{id:"action.section.basicBlocks",defaultMessage:"Basic blocks"},tableViewTitle:{id:"newBlock.tableView.title",defaultMessage:"Table view"},tableViewDescription:{id:"newBlock.tableView.description",defaultMessage:"Add a table view for a new or existing database."},boardViewTitle:{id:"newBlock.boardView.title",defaultMessage:"Board view"},boardViewDescription:{id:"newBlock.boardView.description",defaultMessage:"Create a kanban board database view."},galleryViewTitle:{id:"newBlock.galleryView.title",defaultMessage:"Gallery view"},galleryViewDescription:{id:"newBlock.galleryView.description",defaultMessage:"Create a gallery database view."},listViewTitle:{id:"newBlock.listView.title",defaultMessage:"List view"},listViewDescription:{id:"newBlock.listView.description",defaultMessage:"Create a list database view."},calendarViewTitle:{id:"newBlock.calendarView.title",defaultMessage:"Calendar view"},calendarViewDescription:{id:"newBlock.calendarView.description",defaultMessage:"Create a calendar database view."},timelineViewTitle:{id:"newBlock.timelineView.title",defaultMessage:"Timeline view"},timelineViewDescription:{id:"newBlock.timelineView.description",defaultMessage:"Create a timeline database view."},barChartViewTitle:{id:"newBlock.barChart.title",defaultMessage:"Bar chart view"},barChartViewDescription:{id:"newBlock.barChart.description",defaultMessage:"Create a bar chart of an existing database."},lineChartViewTitle:{id:"newBlock.lineChart.title",defaultMessage:"Line chart view"},lineChartViewDescription:{id:"newBlock.lineChart.description",defaultMessage:"Create a line chart of an existing database."},donutChartViewTitle:{id:"newBlock.donutChart.title",defaultMessage:"Donut chart view"},donutChartViewDescription:{id:"newBlock.donutChart.description",defaultMessage:"Create a donut chart of an existing database."},numberChartViewTitle:{id:"newBlock.numberChart.title",defaultMessage:"Number chart view"},numberChartViewDescription:{id:"newBlock.numberChart.description",defaultMessage:"Create a number chart of an existing database."},databaseInlineTitle:{id:"newBlock.databaseInline.title",defaultMessage:"Database - Inline"},databaseInlineDescription:{id:"newBlock.databaseInline.description",defaultMessage:"Add a new inline database to this page."},databaseInlineKeywords:{id:"newBlock.databaseInline.fuzzySearchKeywords",defaultMessage:"Database Inline db"},databaseFullPageTitle:{id:"newBlock.databaseFullPage.title",defaultMessage:"Database - Full page"},databaseFullPageDescription:{id:"newBlock.databaseFullPage.description",defaultMessage:"Add a new database as a sub-page."},databaseFullPageKeywords:{id:"newBlock.databaseFullPage.fuzzySearchKeywords",defaultMessage:"Database Full page db"},linkedViewOfCollectionTitle:{id:"newBlock.linkedViewOfCollection.title",defaultMessage:"Linked view of database"},linkedViewOfCollectionMobileTitle:{id:"newBlock.linkedViewOfCollectionMobile.title",defaultMessage:"Linked view"},linkedViewOfCollectionKeywords:{id:"newBlock.linkedViewOfCollection.fuzzySearchKeywords",defaultMessage:"Create linked view of database db"},linkedViewOfCollectionDescription:{id:"newBlock.linkedViewOfCollection.description",defaultMessage:"Add an existing database to this page."},mentionPersonTitle:{id:"action.mentionPerson.title",defaultMessage:"Mention a person"},mentionPersonDescription:{id:"action.mentionPerson.description",defaultMessage:"Ping someone so they get a notification."},mentionPageTitle:{id:"action.mentionPage.title",defaultMessage:"Mention a page"},mentionPageDescription:{id:"action.mentionPage.description",defaultMessage:"Mention a page and place in text."},dateOrReminderTitle:{id:"action.dateOrReminder.title",defaultMessage:"Date or reminder"},dateOrReminderDescription:{id:"action.dateOrReminder.description",defaultMessage:"Insert a date or reminder in text."},insertEmojiTitle:{id:"action.insertEmoji.title",defaultMessage:"Emoji"},insertEmojiDescription:{id:"action.insertEmoji.description",defaultMessage:"Search for an emoji to place in text."},insertInlineEquationTitle:{id:"action.insertInlineEquation.title",defaultMessage:"Inline equation"},insertInlineEquationKeywords:{id:"action.insertInlineEquation.fuzzySearchKeyword",defaultMessage:"LaTeX Math Inline Equation $"},insertInlineEquationDescription:{id:"action.insertInlineEquation.description",defaultMessage:"Insert mathematical symbols in text."},databaseSection:{id:"action.section.database",defaultMessage:"Database"},mediaSection:{id:"action.section.media",defaultMessage:"Media"},aiBlocksSection:{id:"action.section.aiBlocks",defaultMessage:"AI blocks"},advancedBlocksSection:{id:"action.section.advancedBlocks",defaultMessage:"Advanced blocks"},inlineSection:{id:"action.section.inline",defaultMessage:"Inline"},embedsSection:{id:"action.section.embeds",defaultMessage:"Embeds"},syncedDatabasesSection:{id:"action.section.syncedDatabases",defaultMessage:"Synced Databases"},actionsSection:{id:"action.section.actions",defaultMessage:"Actions"},importsBlockSection:{id:"action.section.importsBlock",defaultMessage:"Import"}}),U=[I.Hc[a.Ti.text],I.Hc[a.Ti.page],I.Hc[a.Ti.toDo],I.Hc[a.Ti.header],I.Hc[a.Ti.subHeader],I.Hc[a.Ti.subSubHeader],I.Hc[a.Ti.table],I.Hc[a.Ti.bulletedList],I.Hc[a.Ti.numberedList],I.Hc[a.Ti.toggle],I.Hc[a.Ti.quote],I.Hc[a.Ti.divider],I.Hc[a.Ti.linkToPage],I.Hc[a.Ti.callout]],$=[I.Hc[a.Ti.image],I.Hc[a.Ti.bookmark],I.Hc[a.Ti.video],I.Hc[a.Ti.audio],I.Hc[a.Ti.code],I.Hc[a.Ti.file],I.Hc[a.Ti.drawing]],W=[I.tg[a.tD.csvImport],I.tg[a.tD.htmlImport],I.tg[a.tD.markdownImport],I.tg[a.tD.asanaImport],I.tg[a.tD.confluenceApiImport],I.tg[a.tD.googleDocsImport],I.tg[a.tD.trelloImport],I.tg[a.tD.dropboxPaperImport],I.tg[a.tD.evernoteImport],I.tg[a.tD.workflowyImport],I.tg[a.tD.wordImport],I.tg[a.tD.mondayImport],I.tg[a.tD.quipImport],I.tg[a.tD.genericImport],I.tg[a.tD.pdfImport]],q=(0,I.MU)({key:"table view",blockType:a.Ti.collectionView,displayName:K.tableViewTitle,thumbnail:n.Z.images.blocks.tableViewInlinePng,description:K.tableViewDescription,fuzzySearchKeywords:K.tableViewTitle,tooltipPhoto:n.Z.images.tooltips.blocks.tablePng,createTemplate:()=>x.iC({isInline:!0,viewType:"table"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"table"})},collectionViewType:"table"}),R=(0,I.MU)({key:"board view",blockType:a.Ti.collectionView,displayName:K.boardViewTitle,thumbnail:n.Z.images.blocks.boardInlinePng,description:K.boardViewDescription,fuzzySearchKeywords:K.boardViewTitle,tooltipPhoto:n.Z.images.tooltips.blocks.boardPng,createTemplate:()=>x.iC({isInline:!0,viewType:"board"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"board"})},collectionViewType:"board"}),G=(0,I.MU)({key:"gallery view",blockType:a.Ti.collectionView,displayName:K.galleryViewTitle,thumbnail:n.Z.images.blocks.galleryInlinePng,description:K.galleryViewDescription,fuzzySearchKeywords:K.galleryViewTitle,tooltipPhoto:n.Z.images.tooltips.blocks.galleryPng,createTemplate:()=>x.iC({isInline:!0,viewType:"gallery"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"gallery"})},collectionViewType:"gallery"}),Y=(0,I.MU)({key:"list view",blockType:a.Ti.collectionView,displayName:K.listViewTitle,thumbnail:n.Z.images.blocks.listInlinePng,description:K.listViewDescription,fuzzySearchKeywords:K.listViewTitle,tooltipPhoto:n.Z.images.tooltips.blocks.listPng,createTemplate:()=>x.iC({isInline:!0,viewType:"list"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"list"})},collectionViewType:"list"}),J=(0,I.MU)({key:"calendar view",blockType:a.Ti.collectionView,displayName:K.calendarViewTitle,thumbnail:n.Z.images.blocks.calendarInlinePng,description:K.calendarViewDescription,fuzzySearchKeywords:K.calendarViewTitle,tooltipPhoto:n.Z.images.tooltips.blocks.calendarPng,createTemplate:()=>x.iC({isInline:!0,viewType:"calendar"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"calendar"})},collectionViewType:"calendar"}),Q=(0,I.MU)({key:"timeline view",blockType:a.Ti.collectionView,displayName:K.timelineViewTitle,thumbnail:n.Z.images.blocks.timelineInlinePng,description:K.timelineViewDescription,fuzzySearchKeywords:K.timelineViewTitle,tooltipPhoto:n.Z.images.tooltips.blocks.timelinePng,createTemplate:()=>x.iC({isInline:!0,viewType:"timeline"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"timeline"})},collectionViewType:"timeline"}),X=(0,I.MU)({key:"bar chart view",blockType:a.Ti.collectionView,displayName:K.barChartViewTitle,thumbnail:n.Z.images.blocks.chartBarPng,description:K.barChartViewDescription,fuzzySearchKeywords:K.barChartViewTitle,tooltipPhoto:n.Z.images.tooltips.blocks.tableViewPng,collectionViewType:"chart",createTemplate:()=>x.iC({isInline:!0,viewType:"chart",chartType:"column"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"chart"})}}),ee=(0,I.MU)({key:"line chart view",blockType:a.Ti.collectionView,displayName:K.lineChartViewTitle,thumbnail:n.Z.images.blocks.chartLinePng,description:K.lineChartViewDescription,fuzzySearchKeywords:K.lineChartViewTitle,tooltipPhoto:n.Z.images.tooltips.blocks.tableViewPng,collectionViewType:"chart",createTemplate:()=>x.iC({isInline:!0,viewType:"chart",chartType:"line"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"chart"})}}),te=(0,I.MU)({key:"donut chart view",blockType:a.Ti.collectionView,displayName:K.donutChartViewTitle,thumbnail:n.Z.images.blocks.chartDonutPng,description:K.donutChartViewDescription,fuzzySearchKeywords:K.donutChartViewTitle,tooltipPhoto:n.Z.images.tooltips.blocks.tableViewPng,collectionViewType:"chart",createTemplate:()=>x.iC({isInline:!0,viewType:"chart",chartType:"donut"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"chart"})}}),ie=(0,I.MU)({key:"database inline",blockType:a.Ti.collectionView,displayName:K.databaseInlineTitle,thumbnail:n.Z.images.blocks.tableViewInlinePng,description:K.databaseInlineDescription,fuzzySearchKeywords:K.databaseInlineKeywords,tooltipPhoto:n.Z.images.tooltips.blocks.tableViewPng,createTemplate:e=>x.W_({environment:e,isInline:!0}),collectionViewType:"inline"}),oe=(0,I.MU)({key:"database full page",blockType:a.Ti.collectionViewPage,displayName:K.databaseFullPageTitle,thumbnail:n.Z.images.blocks.tableViewPng,description:K.databaseFullPageDescription,fuzzySearchKeywords:K.databaseFullPageKeywords,tooltipPhoto:n.Z.images.tooltips.blocks.tableViewPng,createTemplate:e=>x.W_({environment:e,isInline:!1}),collectionViewType:"full_page"}),ne=(0,I.MU)({key:"linked database",blockType:a.Ti.collectionView,displayName:K.linkedViewOfCollectionTitle,fuzzySearchKeywords:K.linkedViewOfCollectionKeywords,thumbnail:n.Z.images.blocks.linkPng,description:K.linkedViewOfCollectionDescription,tooltipPhoto:n.Z.images.tooltips.blocks.tablePng,createTemplate:()=>x.iC({isInline:!0,viewType:"table"}),shouldShow:e=>!e.environment.device.isMobile}),ae=(0,I.MU)({key:"linked database mobile",blockType:a.Ti.collectionView,displayName:K.linkedViewOfCollectionMobileTitle,fuzzySearchKeywords:K.linkedViewOfCollectionKeywords,thumbnail:n.Z.images.blocks.linkPng,description:K.linkedViewOfCollectionDescription,tooltipPhoto:n.Z.images.tooltips.blocks.tablePng,createTemplate:()=>x.iC({isInline:!0,viewType:"table"}),shouldShow:e=>e.environment.device.isMobile}),se=[q,R,G,Y,J,Q,...N.default.checkGate("charts_mvp")?[X,ee,te]:[],ie,oe,ne,ae],re=I.O5.map((e=>I.Hc[e])),le=[I.Hc[a.Ti.tableOfContents],I.Hc[a.Ti.equation],I.Hc[a.Ti.button],I.Hc[a.Ti.factory],I.Hc[a.Ti.breadcrumb],I.Hc[a.Ti.tab],I.Hc[a.Ti.transclusionContainer],I.Hc[a.MF.toggleFormatHeaderBlock],I.Hc[a.MF.toggleFormatSubHeaderBlock],I.Hc[a.MF.toggleFormatSubSubHeaderBlock],I.Hc[a.MF.column2Block],I.Hc[a.MF.column3Block],I.Hc[a.MF.column4Block],I.Hc[a.MF.column5Block],I.Hc[a.MF.mermaidCodeBlock]],ce=[...[{key:"mentionPerson",title:K.mentionPersonTitle,thumbnail:n.Z.images.blocks.mentionPersonPng,description:K.mentionPersonDescription,tooltipPhoto:n.Z.images.tooltips.blocks.mentionPersonPng,action:e=>{let{environment:t}=e;w.lZ({environment:t,mentionTypes:{user:!0,inviteUserToWorkspace:!0,inviteUserToPage:!0,bot:!1,date:!1,page:!1,heading:!1,createPage:!1,reminder:!1,templateVariable:!0,group:!1}})}},{key:"mentionPage",title:K.mentionPageTitle,thumbnail:n.Z.images.blocks.mentionPagePng,description:K.mentionPageDescription,tooltipPhoto:n.Z.images.tooltips.blocks.mentionPagePng,action:e=>{let{environment:t}=e;w.lZ({environment:t,mentionTypes:{user:!1,inviteUserToWorkspace:!1,inviteUserToPage:!1,bot:!1,date:!1,reminder:!1,page:!0,heading:!1,createPage:!1,templateVariable:!1,group:!1}})}},{key:"dateOrReminder",title:K.dateOrReminderTitle,thumbnail:n.Z.images.blocks.mentionDatePng,description:K.dateOrReminderDescription,tooltipPhoto:n.Z.images.tooltips.blocks.mentionTimePng,action:e=>{let{environment:t}=e;w.lZ({environment:t,mentionTypes:{user:!1,inviteUserToWorkspace:!1,inviteUserToPage:!1,bot:!1,date:!0,reminder:!0,page:!1,heading:!1,createPage:!1,templateVariable:!0,group:!1}})}}].map((e=>(0,f.cN)({key:`insert ${e.key}`,displayName:e.title,analyticsName:"Insert mention",render:t=>(0,O.jsx)(M.Z,{...t,title:V.default.formatMessage(e.title),thumbnail:e.thumbnail,tooltipPhoto:e.tooltipPhoto,description:V.default.formatMessage(e.description),format:M.Q.Insert}),validators:[P.YZb],closeParentMenu:!0,action:t=>{let{environment:i}=t;return e.action({environment:i})},nativeImageReference:t=>(0,f.aS)({thumbnail:e.thumbnail})}))),(0,f.cN)({key:"insert emoji",displayName:K.insertEmojiTitle,analyticsName:K.insertEmojiTitle.defaultMessage,validators:[P.YZb],closeParentMenu:!0,render:e=>(0,O.jsx)(M.Z,{...e,title:V.default.formatMessage(K.insertEmojiTitle),description:V.default.formatMessage(K.insertEmojiDescription),thumbnail:n.Z.images.blocks.inlineEmojiPng,tooltipPhoto:n.Z.images.tooltips.blocks.inlineEmojiPng,format:M.Q.Insert}),action:e=>{let{environment:t}=e;return y.jZ(t)},nativeImageReference:e=>(0,f.aS)({thumbnail:n.Z.images.blocks.inlineEmojiPng})}),(0,f.cN)({key:"insert inline equation",displayName:K.insertInlineEquationTitle,analyticsName:K.insertInlineEquationTitle.defaultMessage,fuzzySearchKeywords:K.insertInlineEquationKeywords,validators:[P.YZb],closeParentMenu:!0,render:e=>(0,O.jsx)(M.Z,{...e,title:V.default.formatMessage(K.insertInlineEquationTitle),description:V.default.formatMessage(K.insertInlineEquationDescription),thumbnail:n.Z.images.blocks.inlineEquationPng,tooltipPhoto:n.Z.images.tooltips.blocks.inlineEquationPng,format:M.Q.Insert}),action:e=>{let{environment:t}=e;return h.qn({environment:t,analyticsFrom:"slash_menu"})},nativeImageReference:e=>(0,f.aS)({thumbnail:n.Z.images.blocks.inlineEquationPng})})];function de(){let e,t,i,o;const n=[];for(const a of me.state)"Figma"===a.displayName?e=a:"Hex"===a.displayName?t=a:"Google Drive"===a.displayName?i=a:"Whimsical"===a.displayName?o=a:n.push(a);return[I.Hc[a.Ti.embed],i??I.Hc[a.Ti.drive],I.Hc[a.Ti.tweet],I.Hc[a.Ti.gist],I.Hc[a.Ti.maps],e??I.Hc[a.Ti.figma],I.Hc[a.Ti.abstract],I.Hc[a.Ti.invision],I.Hc[a.Ti.mixpanel],I.Hc[a.Ti.framer],o??I.Hc[a.Ti.whimsical],I.Hc[a.Ti.miro],I.Hc[a.Ti.sketch],I.Hc[a.Ti.excalidraw],I.Hc[a.Ti.pdf],I.Hc[a.Ti.loom],I.Hc[a.Ti.typeform],I.Hc[a.Ti.codepen],I.Hc[a.Ti.replit],t??I.Hc[a.Ti.hex],I.Hc[a.Ti.deepnote],...n]}const me=new o.Z((()=>B.Z.integrations.state.filter((e=>e.id!==s.U9&&e.id!==s.Dv)).map((e=>{if((0,r.mo)(e)||(0,r.zc)(e)){const t=(0,r.mo)(e)?"link preview":"data sync";return{key:e.id,displayName:e.name,analyticsName:e.name,searchName:`${t} ${e.name}`,thumbnail:e.info.icon??n.Z.images.blocks.embedPng,description:e.info.tagline,templateRootBlockId:"root",blockType:a.Ti.externalObjectInstance,shouldShow:e=>!P.nJQ(e),createTemplate:()=>{const t={is_placeholder:!0,integration_id:e.id};return l.Ao.create({[c.iU]:{root:{id:"root",type:a.Ti.externalObjectInstance,format:t}}})}}}})).filter(g.$K)),{debugName:"getExternalIntegrationCreateBlockItems"});function pe(e){return new o.Z((()=>{const t=e.isMobileNative?[]:[ue()],i=fe({aiCompletionSections:t,analyticsFrom:"add_menu",isMobileNative:e.isMobileNative}),o=(n=fe({aiCompletionSections:t,analyticsFrom:"slash_menu",isMobileNative:e.isMobileNative}),[...n,A.g,(0,f.$J)({key:"slash actions",title:K.actionsSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:he((0,C.RP)(H.Qi,(e=>e&&!e.subActions&&!e.hideFromSlashActionMenu)))}),Z.rz,Z.Vm]);var n;return{insertActions:i,slashActions:o}}),{debugName:"insertAndSlashActionsStore"})}function ue(){const{maxActionsBeforeMore:e,actions:t}=function(){const e={selectionType:"cursor",isPageEmpty:!P.IC9()},t=(0,S.up)(e),i=u.xH((0,S.pv)(t,e).map((e=>{let[t,i]=e;return i}))),o=k.Z.state,n=i.map((e=>(0,E.NZ)({prompt:e,validators:L.Pz,type:"cursor",from:"slash_menu",sortScoreMultiplier:z}))).filter(g.$K),a=o?3:1;return{maxActionsBeforeMore:a,actions:n}}();return(0,f.$J)({key:"completions",title:E.sY.notionAI,render:(0,E.yY)(),actions:(0,E.YV)(t,e)})}const ge=new o.Z((()=>B.Z.integrations.state.filter(d.l).map((e=>({key:`synced database ${e.id}`,displayName:`${e.name}`,analyticsName:`synced database ${e.name}`,searchName:`synced database ${e.name}`,thumbnail:e.info.icon??n.Z.images.blocks.embedPng,description:e.info.tagline,templateRootBlockId:"root",blockType:a.Ti.collectionView,shouldShow:e=>!P.nJQ(e),createTemplate:()=>x.sU({isInline:!0,viewType:"table",integrationId:e.id}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,j.u)(t.id,{viewType:"table"})}})))),{debugName:"getExternalIntegrationCreateCollectionViewBlockItems"});function fe(e){const{aiCompletionSections:t,analyticsFrom:i,isMobileNative:o}=e,n=[(0,f.$J)({key:"Insert Basic Blocks",title:K.basicBlocksSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:U.map((e=>ye(e,i)))}),...t,(0,f.$J)({key:"Insert Media",title:K.mediaSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:$.map((e=>ye(e,i)))}),(0,f.$J)({key:"Insert Database New",title:K.databaseSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:se.map((e=>ye(e,i)))}),(0,f.$J)({key:"Insert AI Blocks",title:K.aiBlocksSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:re.map((e=>ye(e,i,void 0,_)))}),(0,f.$J)({key:"Insert Advanced Blocks",title:K.advancedBlocksSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:le.map((e=>ye(e,i)))}),(0,f.$J)({key:"Insert Inline",title:K.inlineSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:ce}),(0,f.$J)({key:"Insert Embeds",title:K.embedsSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:de().map((e=>ye(e,i)))}),(0,f.$J)({key:"Insert Synced Databases",title:K.syncedDatabasesSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:ge.state.map((e=>ye(e,i)))})];return o||n.push((0,f.$J)({key:"Import data from other tools",title:K.importsBlockSection,render:e=>(0,O.jsx)(T.Z,{...e}),actions:W.map((e=>function(e){const t=t=>!e.shouldShow||e.shouldShow(t);return{key:`import ${e.key}`,displayName:e.displayName,analyticsName:e.analyticsName,searchName:e.searchName,render:t=>(0,O.jsx)(M.Z,{...t,...e,title:e.displayName,format:M.Q.Insert}),validators:[t],closeParentMenu:!0,action:e.action}}(e)))})),n}function ye(e,t,i,o){return{key:`insert ${e.key}`,displayName:e.displayName,analyticsName:e.analyticsName,searchName:e.searchName,render:t=>(0,O.jsx)(M.Z,{...t,...e,title:e.displayName,format:M.Q.Insert,...i}),closeParentMenu:!0,validators:[t=>!e.shouldShow||e.shouldShow(t)],action:i=>{let{environment:o}=i;b.createAndCommit({userAction:"actionRegistry.createInsertAction",environment:o,perform:i=>{v.at({environment:o,selection:D.default.state.stores,createBlockItem:e,analyticsFrom:t,transaction:i})}})},nativeImageReference:t=>{if((0,F.Y)("supportsNativeMobileDynamicActionBar")){const i=n.Z.images.mab,o=`${u.eV(e.key)}Svg`,a=["drive","maps","figma","whimsical","miro","sketch","excalidraw","loom"].includes(o),s=(0,p.gh)({theme:t.environment.ThemeModeStore.state});return{imageUrl:i[o],imageTintColor:a?void 0:(0,p.J1)(s.v2.icon.secondary)}}return(0,f.aS)({thumbnail:e.thumbnail})},sortScoreMultiplier:o}}function he(e){return e.reduce(((e,t)=>[...e,...t.actions]),[])}const we=pe({isMobileNative:!1}),ve=pe({isMobileNative:!0})},12218:(e,t,i)=>{i.r(t),i.d(t,{ExperimentalHorizontalTemplatePicker:()=>te});var o=i(67294),n=i(26263),a=i(480),s=i(97511),r=i(86628),l=i(24405),c=i(41432),d=i(53877),m=i(42875),p=i(45238),u=i(85893);const g=(0,p.IU)("bookClosed",{viewBox:"0 0 16 16",svg:(0,u.jsx)("path",{d:"M4.59766 14.8662C3.2583 14.8662 2.55371 14.1616 2.55371 12.8096L2.55371 3.21191C2.55371 1.84082 3.2583 1.12988 4.6167 1.12988L11.377 1.12988C12.7354 1.12988 13.4399 1.84717 13.4399 3.21191L13.4399 10.2642C13.4399 10.9053 13.186 11.2163 12.875 11.502C12.0752 12.2573 12.2339 13.3364 13.0146 13.6792C13.2495 13.7871 13.4399 13.9966 13.4399 14.2759C13.4399 14.6123 13.186 14.8662 12.856 14.8662L4.59766 14.8662ZM11.269 2.37402L5.43555 2.37402L5.43555 10.5562L11.7007 10.5562C12.0181 10.5562 12.1958 10.3848 12.1958 10.0737L12.1958 3.28809C12.1958 2.69775 11.8848 2.37402 11.269 2.37402ZM3.79785 10.7783C4.01367 10.6641 4.25488 10.5879 4.54053 10.5625L4.54053 2.38672C4.04541 2.44385 3.79785 2.75488 3.79785 3.28809L3.79785 10.7783ZM4.75635 13.6855L11.4214 13.6855C11.085 13.1079 11.0469 12.3843 11.3579 11.7178C11.2944 11.7241 11.231 11.7305 11.1611 11.7305L4.80713 11.7305C4.14062 11.7305 3.73437 12.1367 3.73437 12.7017C3.73437 13.3047 4.0835 13.6855 4.75635 13.6855Z"})});var f=i(69651),y=i(96711),h=i(42696),w=i(56666),v=i(26789),b=i(11751),k=i(70203),M=i(9291),T=i(53965),C=i(1898),P=i(46225),x=i(952),S=i(81193),I=i(41433),V=i(96802),j=i(19785),F=i(9953),N=i(59389),B=i(993),D=i(98104),H=i(29373),Z=i(13447),L=i(92022),E=i(36420),A=i(68688),O=i(14976),z=i(19124),_=i(77907),K=i(2275),U=i(77080),$=i(29798),W=i(24666),q=i(81023),R=i(73420),G=i(32163),Y=i(53437),J=i(64369),Q=i(40698),X=i(59658);const ee=8;function te(e){const{store:t,menuListStore:i,editorWidth:n}=e,c=(0,a.O7)(),d=ce(),m=(0,Q.b6)(Q.Im,["table"]),p=function(e){const{environment:t,store:i}=e,o=(0,M.useIntl)(),n=(0,l.Fg)(),a=(0,r.VK)((()=>(0,O.Xh)(i.getTitleValue(),i)),[i]),c=(0,s.l)(),d=(0,r.VK)((()=>null==c?void 0:c.publicEditModeStore.state),[null==c?void 0:c.publicEditModeStore]),m=(0,r.VK)((()=>(0,z.GD)(d)),[d]),p=ce();return{name:p?o.formatMessage(oe.writeWithAiCondensed):o.formatMessage(oe.writeWithAi),type:"ai",iconFn:e=>(0,b.t)({...e,fill:p?n.icon.primary:"dark"===n.mode?n.accentColors.purple[700]:n.accentColors.purple[400]}),shouldShow:()=>m,onClick:()=>{Z.createAndCommit({userAction:"ExperimentalHorizontalTemplatePicker.genericHelpMeWriteNewPageWithAI",environment:t,perform:e=>{N.eV({environment:t,store:i,transaction:e,preventTextSelection:!1,onTextSelection(){(0,L.openHelpMeWriteGenericPopup)({environment:t,title:a})}})}})}}}({environment:c,store:t}),k=function(){const e=(0,M.useIntl)(),t=(0,l.Fg)(),i=(0,s.l)(),o=(0,r.VK)((()=>null==i?void 0:i.publicEditModeStore.state),[null==i?void 0:i.publicEditModeStore]),n=(0,r.VK)((()=>(0,A.d)(o)),[o]),a=ce();return{name:e.formatMessage(oe.dictate),type:"dictation",iconFn:e=>(0,v.q)({...e,width:10,fill:a?t.icon.primary:"dark"===t.mode?t.accentColors.red[700]:t.accentColors.red[400]}),shouldShow:()=>n,onClick:async(e,t)=>{const{dictationActions:i}=await _.deps.dictation.loader();i.startDictation({environment:e,pageBlock:t})}}}(),x=function(e){const t=(0,M.useIntl)(),i=(0,l.Fg)(),o=ce(),{onClick:n,onMouseEnter:a,onMouseLeave:s}=le({store:e,type:"todo",debugName:"ExperimentalHorizontalTemplatePicker.createTodoList",action:ne});return{name:t.formatMessage(oe.todoTemplateTitle),type:"todo",iconFn:e=>(0,y.V)({...e,fill:i.icon.green}),shouldShow:()=>o,onClick:n,onMouseEnter:a,onMouseLeave:s}}(t),F=function(e){const t=(0,M.useIntl)(),i=(0,l.Fg)(),o=ce(),{onClick:n,onMouseEnter:a,onMouseLeave:s}=le({store:e,type:"weekly-plan",debugName:"ExperimentalHorizontalTemplatePicker.createWeeklyPlan",action:ae});return{name:t.formatMessage(oe.weeklyPlanButtonTitle),type:"weekly-plan",iconFn:e=>(0,f.C)({...e,fill:i.icon.blue}),shouldShow:()=>o,onClick:n,onMouseEnter:a,onMouseLeave:s}}(t),B=function(e){const t=(0,M.useIntl)(),i=(0,l.Fg)(),o=ce(),{onClick:n,onMouseEnter:a,onMouseLeave:s}=le({store:e,type:"journal",debugName:"ExperimentalHorizontalTemplatePicker.createJournal",action:se});return{name:t.formatMessage(oe.journalTemplateTitle),type:"journal",iconFn:e=>g({...e,fill:i.icon.orange}),shouldShow:()=>o,onClick:n,onMouseEnter:a,onMouseLeave:s}}(t),D=function(e,t){const i=(0,a.O7)(),o=(0,M.useIntl)(),n=(0,l.Fg)(),s=ce(),{onClick:r,onMouseEnter:c,onMouseLeave:d}=le({store:e,type:"quick-table",debugName:"ExperimentalHorizontalTemplatePicker.createInlineTableView",action:t=>{t.isPreviewing?function(e){let{store:t,environment:i,transaction:o}=e;const n=I.fC({environment:i,createBlockItem:P.Nc,inMemoryRecordCache:t.inMemoryRecordCache,from:"quick_templates",transaction:o,useCrdt:t.useCrdt(),selection:[]});j.jG({parentStore:t,childStore:n,transaction:o});const a=n.getCollectionViewStores();V.FH({stores:a,transaction:o,update:{hide_linked_collection_name:!0}})}(t):N.gw({environment:i,store:e,viewType:"table",transaction:t.transaction})}});return{name:o.formatMessage(oe.tableTemplateTitle),type:"quick-table",iconFn:e=>(0,h.t)({...e,fill:n.icon.red}),shouldShow:()=>s,onClick:r,onMouseEnter:c,onMouseLeave:d}}(t,m[0]),H=[p,k,x,F,B,D,...d?[]:[Q.pd,Q.K0,...m]].filter((e=>e.shouldShow(c))),K=[...T.zu(Q.Im,...m),...d?[de,Q.pd,Q.K0]:[]],U=(0,l.yK)((e=>({root:{background:e.contentBackground}})),[]),[$,W]=function(e){const{store:t,editorWidth:i,initialVisible:n,initialOverflow:s}=e,r=(0,a.O7)(),c=(0,M.useIntl)(),d=ce(),m=(0,l.yK)((e=>({icon:{width:16,marginLeft:2,marginRight:2,fill:e.lightIconColor}})),[]),[p,g]=o.useState([]),[f,y]=o.useState(void 0),[h,v]=o.useState(n.length);(0,o.useEffect)((()=>{if(!(i&&p.every(C.$K)&&f))return;let e=0,t=0;for(;t<n.length&&(e+=p[t]+ee,!(e+f>i));)t++;v(t)}),[p,i,n.length,f]);const b=n.slice(0,h).map(((e,i)=>{const o={key:e.type,render:o=>{var n;return(0,u.jsx)(E.n,{onSizeChange:e=>{if(p[i]===e.width)return;const t=[...p];t[i]=e.width,g(t)},children:(0,u.jsx)("div",{children:(0,u.jsx)(X.Z,{...o,onMouseEnter:i=>{var n;null===(n=e.onMouseEnter)||void 0===n||n.call(e,r,t),o.onMouseEnter(i)},onMouseLeave:i=>{var o;null===(o=e.onMouseLeave)||void 0===o||o.call(e,r,t)},format:"experimental-new-page",title:(0,u.jsx)(J.Z,{children:e.name}),type:e.type,icon:null===(n=e.iconFn)||void 0===n?void 0:n.call(e,m.icon),locked:!1})})})},action:i=>{q.M_(r)&&(S.rN(r,{template_name:e.type,is_keyboard:"keydown"===i.event.type,from:e.from}),e.onClick(r,t))}};return o})),[k,T]=o.useState(!1),P={key:"more",render:e=>(0,u.jsx)(Y.ZP,{origin:(0,u.jsx)(E.n,{onSizeChange:e=>y(e.width),children:(0,u.jsx)("div",{children:(0,u.jsx)(X.Z,{...e,format:"experimental-new-page",title:d?null:(0,u.jsx)(J.Z,{children:c.formatMessage(oe.more)}),type:"more",icon:(0,w.o)(m.icon),locked:!1})})}),alignmentToOrigin:Y.ZP.Alignment.Start,placementToOrigin:Y.ZP.Placement.Top,originGap:4,open:k,popupType:Y.ZP.PopupType.Popup,onDismiss:()=>T(!1),render:()=>(0,u.jsx)(me,{store:t,items:[...n.slice(h),...s]})}),action:e=>{T(!0)}};return[b,P]}({store:t,editorWidth:n,initialVisible:H,initialOverflow:K});return(0,u.jsx)(G.Z,{type:G.i.Horizontal,store:i,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,isEnterOnHoverEmpty:!0,disableKeyboard:!0,sections:[{key:"Get started",render:e=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ie,{}),(0,u.jsx)("div",{style:U.root,children:(0,u.jsxs)(R.sg,{gap:12,children:[(0,u.jsx)(J.Z,{isSecondaryColor:!0,children:d?(0,u.jsx)(M.FormattedMessage,{defaultMessage:"Get started with",id:"PageEditor.horizontalTemplatePicker.getStarted.label.new"}):(0,u.jsx)(M.FormattedMessage,{defaultMessage:"Get started",id:"PageEditor.horizontalTemplatePicker.getStarted.label"})}),(0,u.jsx)("div",{style:{cursor:"pointer"},children:(0,u.jsx)(R.X2,{gap:ee,children:e.children})})]},e.key)})]}),items:[...$,W]}]})}function ie(){const e=(0,l.yK)((e=>({fade:{background:`linear-gradient(0deg, ${e.contentBackground} 0%, ${e.contentBackgroundTransparent} 100%)`,height:140,width:"100%"}})),[]);return(0,u.jsx)("div",{style:e.fade})}const oe=(0,M.defineMessages)({writeWithAi:{defaultMessage:"Write with AI",id:"newpage.templates.writeWithAi"},writeWithAiCondensed:{defaultMessage:"Ask AI",id:"newpage.templates.writeWithAiCondensed"},dictate:{defaultMessage:"Dictate",id:"newpage.templates.dictateIntoNewPage"},more:{defaultMessage:"More",id:"newpage.templates.more"},todoTemplateTitle:{defaultMessage:"To-do list",id:"newpage.templates.todo"},quickTemplatePlaceholder:{defaultMessage:"...",id:"newpage.templates.quickTemplatePlaceholder"},weeklyPlanButtonTitle:{defaultMessage:"Weekly plan",id:"newpage.templates.weeklyPlan"},weeklyPlanTemplateTitle:{defaultMessage:"Week of {date}",id:"newpage.templates.weeklyPlanTitle"},weeklyPlanMonday:{defaultMessage:"Monday",id:"newpage.templates.weeklyPlanMonday"},weeklyPlanTuesday:{defaultMessage:"Tuesday",id:"newpage.templates.weeklyPlanTuesday"},weeklyPlanWednesday:{defaultMessage:"Wednesday",id:"newpage.templates.weeklyPlanWednesday"},weeklyPlanThursday:{defaultMessage:"Thursday",id:"newpage.templates.weeklyPlanThursday"},weeklyPlanFriday:{defaultMessage:"Friday",id:"newpage.templates.weeklyPlanFriday"},journalTemplateTitle:{defaultMessage:"Journal",id:"newpage.templates.journal"},journalTemplateFirstHeaderTitle:{defaultMessage:"How I am feeling today",id:"newpage.templates.journalFirstHeader"},journalTemplateSecondHeaderTitle:{defaultMessage:"What’s on my mind",id:"newpage.templates.journalSecondHeader"},journalTemplateThirdHeaderTitle:{defaultMessage:"Positive affirmation",id:"newpage.templates.journalThirdHeader"},tableTemplateTitle:{defaultMessage:"Table",id:"newpage.templates.table"}});function ne(e){let{store:t,intl:i,environment:o,isPreviewing:n,transaction:a}=e;B.sO({environment:o,editorMode:"default",store:t.getBlockTitleStore(),value:[[i.formatMessage(oe.todoTemplateTitle)]],transaction:a});for(let s=0;s<5;s++){const e=re({environment:o,rootStore:t,type:c.Ti.toDo,title:[[i.formatMessage(oe.quickTemplatePlaceholder)]],isPreviewing:n,transaction:a});j.jG({parentStore:t,childStore:e,transaction:a})}}function ae(e){let{store:t,intl:i,environment:o,isPreviewing:n,transaction:a}=e;const s=function(){const e=d.Uu((0,m.r)()),t=e.startOf("week"),i=e<=t?t:t.plus({weeks:1});return(0,k.YCD)((0,k.pZr)({...d.ME(i),date_format:"MMM DD, YYYY"}))}(),[r,l]=i.formatMessage(oe.weeklyPlanTemplateTitle).split("{date}");B.sO({environment:o,editorMode:"default",store:t.getBlockTitleStore(),value:[[r],s,[l]],transaction:a});const p=[i.formatMessage(oe.weeklyPlanMonday),i.formatMessage(oe.weeklyPlanTuesday),i.formatMessage(oe.weeklyPlanWednesday),i.formatMessage(oe.weeklyPlanThursday),i.formatMessage(oe.weeklyPlanFriday)];for(let d=0;d<5;d++){const e=re({environment:o,rootStore:t,type:c.Ti.header,title:[[p[d]]],format:{toggleable:!0},isPreviewing:n,transaction:a});j.jG({parentStore:t,childStore:e,transaction:a}),d<2&&H.rd({blockId:e.id,state:!0,currentUserId:o.currentUser.id});for(let s=0;s<3;s++){const s=re({environment:o,rootStore:t,type:c.Ti.toDo,title:[[i.formatMessage(oe.quickTemplatePlaceholder)]],isPreviewing:n,transaction:a});j.jG({parentStore:e,childStore:s,transaction:a})}}}function se(e){let{store:t,intl:i,environment:o,isPreviewing:n,transaction:a}=e;const s=d.Lg((0,m.r)()),r=(0,k.YCD)((0,k.pZr)({...s,date_format:"relative"}));B.sO({environment:o,editorMode:"default",store:t.getBlockTitleStore(),value:[r],transaction:a});const l=re({environment:o,rootStore:t,type:c.Ti.subHeader,title:[[i.formatMessage(oe.journalTemplateFirstHeaderTitle)]],isPreviewing:n,transaction:a});j.jG({parentStore:t,childStore:l,transaction:a});const p=re({environment:o,rootStore:t,type:c.Ti.text,title:[[i.formatMessage(oe.quickTemplatePlaceholder)]],isPreviewing:n,transaction:a});j.jG({parentStore:t,childStore:p,transaction:a});const u=re({environment:o,rootStore:t,type:c.Ti.subHeader,title:[[i.formatMessage(oe.journalTemplateSecondHeaderTitle)]],isPreviewing:n,transaction:a});j.jG({parentStore:t,childStore:u,transaction:a});for(let d=0;d<3;d++){const e=re({environment:o,rootStore:t,type:c.Ti.bulletedList,title:[[i.formatMessage(oe.quickTemplatePlaceholder)]],isPreviewing:n,transaction:a});j.jG({parentStore:t,childStore:e,transaction:a})}const g=re({environment:o,rootStore:t,type:c.Ti.subHeader,title:[[i.formatMessage(oe.journalTemplateThirdHeaderTitle)]],isPreviewing:n,transaction:a});j.jG({parentStore:t,childStore:g,transaction:a});const f=re({environment:o,rootStore:t,type:c.Ti.callout,title:[[i.formatMessage(oe.quickTemplatePlaceholder)]],format:{page_icon:"☀️",block_color:"yellow_background"},isPreviewing:n,transaction:a});j.jG({parentStore:t,childStore:f,transaction:a})}function re(e){const{environment:t,rootStore:i,type:o,title:n,format:a,isPreviewing:s,transaction:r}=e,l=F.j4({environment:t,type:o,inMemoryRecordCache:i.inMemoryRecordCache,transaction:r,spaceId:i.getSpaceId(),properties:{title:n},format:a,permissions:i.getPermissionItems(),useCrdt:i.useCrdt()});return s||x.W(t,{from:"quick_templates",type:o,creating_block_id:i.id}),l}function le(e){const{store:t,type:i,debugName:s,action:l}=e,c=(0,a.O7)(),d=(0,M.useIntl)(),m=(0,r.VK)((()=>"variant_b"===U.default.getEligibleGroup({experimentId:"horizon_1_quick_templates",defaultGroup:"control"})),[]),p=(0,o.useRef)(new n.Z({name:s,isTemporaryData:!0})),u=(0,o.useRef)(void 0),g=e=>{const{store:t,isPreviewing:i}=e;u.current||(u.current=W.default.state,D.ZH({device:c.device})),Z.createAndCommit({userAction:s,environment:c,perform:e=>{const o=t.getContentStores();for(const t of o)j.zo({block:t,transaction:e});l({store:t,intl:d,environment:c,isPreviewing:i,transaction:e})}})},f=()=>{K.MQ.setState(void 0),c.defaultRecordCache.inMemoryRecordCache.removeCacheOverride(p.current),p.current=new n.Z({name:s,isTemporaryData:!0}),u.current&&(W.default.setState(u.current),u.current=void 0)};return{onClick:()=>{f(),g({store:t,isPreviewing:!1})},onMouseEnter:m?()=>{S.gg(c,{type:i}),(()=>{K.MQ.setState(t.id),c.defaultRecordCache.inMemoryRecordCache.addCacheOverride(p.current);const e=t.clone(p.current);g({store:e,isPreviewing:!0})})()}:void 0,onMouseLeave:m?()=>{S.PK(c,{type:i}),f()}:void 0}}function ce(){return(0,r.VK)((()=>"control"!==U.default.getEligibleGroup({experimentId:"horizon_1_quick_templates",defaultGroup:"control"})),[])}const de={name:"",type:"divider",iconFn:e=>null,shouldShow:()=>!0,onClick:()=>{}};function me(e){const{store:t,items:i}=e,n=(0,a.O7)(),s=(0,o.useMemo)((()=>new $.Z),[]),r=(0,l.yK)((e=>({menu:{width:200,cursor:"pointer",padding:"6px 4px"},icon:{width:16,marginLeft:2,marginRight:2,fill:e.regularIconColor},divider:{height:1,background:e.stroke.regular,margin:"6px -6px"}})),[]),c=i.filter((e=>e.shouldShow(n))).map((e=>{const i={key:e.name,render:t=>{var i;return"divider"===e.type?(0,u.jsx)("div",{style:r.divider}):(0,u.jsx)(X.Z,{...t,format:"experimental-new-page-submenu",title:(0,u.jsx)(J.Z,{children:e.name}),type:e.type,icon:null===(i=e.iconFn)||void 0===i?void 0:i.call(e,r.icon),locked:!1})},action:i=>{q.M_(n)&&(S.rN(n,{template_name:e.type,is_keyboard:"keydown"===i.event.type,from:e.from}),e.onClick(n,t))}};return i}));return(0,u.jsx)(G.Z,{type:G.i.Vertical,store:s,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,isEnterOnHoverEmpty:!0,disableKeyboard:!0,sections:[{key:"Items",render:e=>(0,u.jsx)("div",{style:r.menu,children:(0,u.jsx)(R.sg,{children:e.children},e.key)}),items:c}]})}},40698:(e,t,i)=>{i.d(t,{Im:()=>D,K0:()=>I,b6:()=>H,dQ:()=>x,pd:()=>V,re:()=>S,ss:()=>F});i(57658);var o=i(15145),n=i(35013),a=i(21321),s=i(69628),r=i(17948),l=i(42696),c=i(10405),d=i(7220),m=i(54855),p=i(46783),u=i(73426),g=i(9291),f=i(7032),y=i(57549),h=i(75754),w=i(59389),v=i(13447),b=i(33929),k=i(89014),M=i(67940),T=i(92083),C=i(29949);const P=(0,g.defineMessages)({emptyWithIcon:{defaultMessage:"Empty page with icon",id:"templatePickerHelpers.basicTemplateItems.emptyWithIcon"},empty:{defaultMessage:"Empty page",id:"templatePickerHelpers.basicTemplateItems.empty"},templates:{defaultMessage:"Templates",id:"templatePickerHelpers.basicTemplateItems.templates"},import:{defaultMessage:"Import",id:"templatePickerHelpers.basicTemplateItems.import"}}),x={name:b.default.formatMessage(P.empty),iconFn:m.a,type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{v.createAndCommit({userAction:"templatePickerHelpers.emptyTemplateItems",environment:e,perform:i=>{w.eV({environment:e,store:t,transaction:i})}})}},S={name:b.default.formatMessage(P.templates),type:"templates",iconFn:e=>(0,u.i)(e),shouldShow:()=>!0,onClick:()=>{C.Z.open({cloneTo:"current_page",analyticsFrom:"newPage"})}},I={name:b.default.formatMessage(P.templates),type:"templates",iconFn:e=>(0,p.w)(e),shouldShow:()=>!0,onClick:()=>{C.Z.open({cloneTo:"current_page",analyticsFrom:"newPage"})}},V={name:b.default.formatMessage(P.import),type:"import",iconFn:d.l,shouldShow:()=>!0,onClick:(e,t)=>{const i=(0,f.ZP)();M.Z.setState({flowId:i}),y.Sy(e,{from:"new_page",flowId:i}),T.Z.setState({...T.Z.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0})}},j=(0,g.defineMessages)({pageWithIcon:{defaultMessage:"Page with icon",id:"templatePickerHelpers.mobileBasicTemplateItems.pageWithIcon"},emptyPage:{defaultMessage:"Empty page",id:"templatePickerHelpers.mobileBasicTemplateItems.emptyPage"}}),F=[{name:b.default.formatMessage(j.pageWithIcon),type:"page_with_icon",shouldShow:()=>!0,onClick:(e,t)=>{v.createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,perform:i=>{w.T_({environment:e,store:t,transaction:i})}})}},{name:b.default.formatMessage(j.emptyPage),type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{v.createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,perform:i=>{w.eV({environment:e,store:t,transaction:i})}})}}],N=(0,g.defineMessages)({table:{defaultMessage:"Table",id:"templatePickerHelpers.databaseTemplateNames.table"},board:{defaultMessage:"Board",id:"templatePickerHelpers.databaseTemplateNames.board"},list:{defaultMessage:"List",id:"templatePickerHelpers.databaseTemplateNames.list"},calendar:{defaultMessage:"Calendar",id:"templatePickerHelpers.databaseTemplateNames.calendar"},gallery:{defaultMessage:"Gallery",id:"templatePickerHelpers.databaseTemplateNames.gallery"},timeline:{defaultMessage:"Timeline",id:"templatePickerHelpers.databaseTemplateNames.timeline"},tableView:{defaultMessage:"Table view",id:"templatePickerHelpers.databaseTemplateNames.tableView"},boardView:{defaultMessage:"Board view",id:"templatePickerHelpers.databaseTemplateNames.boardView"},listView:{defaultMessage:"List view",id:"templatePickerHelpers.databaseTemplateNames.listView"},calendarView:{defaultMessage:"Calendar view",id:"templatePickerHelpers.databaseTemplateNames.calendarView"},galleryView:{defaultMessage:"Gallery view",id:"templatePickerHelpers.databaseTemplateNames.galleryView"},timelineView:{defaultMessage:"Timeline view",id:"templatePickerHelpers.databaseTemplateNames.timelineView"}});function B(e){const{environment:t,store:i,viewType:n}=e;v.createAndCommit({userAction:"templatePickerHelpers.handleClickForViewType",environment:t,perform:e=>{w.Ud({environment:t,store:i,viewType:n,transaction:e}),h._c({environment:t,store:i,pageVisitSource:o.tY.LinkInPage});const a=i.getCollectionViewStores()[0];a&&(0,k.u)(a.id,{viewType:n})}})}const D=[{name:b.default.formatMessage(N.table),type:"table",iconFn:l.t,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"table"})},{name:b.default.formatMessage(N.board),type:"board",iconFn:n.i,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"board"})},{name:b.default.formatMessage(N.list),type:"list",iconFn:r.O,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"list"})},{name:b.default.formatMessage(N.timeline),type:"timeline",iconFn:c._,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"timeline"})},{name:b.default.formatMessage(N.calendar),type:"calendar",iconFn:a.N,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"calendar"})},{name:b.default.formatMessage(N.gallery),type:"gallery",iconFn:s.n,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>B({environment:e,store:t,viewType:"gallery"})}];function H(e,t){const i=new Map(e.map((e=>[e.type,e])));return t.reduce(((e,t)=>(i.has(t)&&e.push(i.get(t)),e)),[])}},59658:(e,t,i)=>{i.d(t,{Z:()=>b});i(67294);var o=i(480),n=i(97511),a=i(86628),s=i(24405),r=i(49271),l=i(53523),c=i(45238),d=i(85893);const m=(0,c.IU)("repeatDisabled",{viewBox:"0 0 16 14",svg:(0,d.jsxs)("svg",{children:[(0,d.jsx)("path",{d:"M1.11621 8.32422C0.888346 8.32422 0.69694 8.24674 0.541992 8.0918C0.391602 7.93685 0.316406 7.74772 0.316406 7.52441V6.77246C0.316406 6.08431 0.469076 5.49186 0.774414 4.99512C1.08431 4.49837 1.51953 4.11784 2.08008 3.85352C2.64518 3.58464 3.31283 3.4502 4.08301 3.4502H9.23047V1.95312C9.23047 1.76628 9.28288 1.62272 9.3877 1.52246C9.49251 1.41764 9.63607 1.36523 9.81836 1.36523C9.90495 1.36523 9.9847 1.37891 10.0576 1.40625C10.1305 1.43359 10.1966 1.47233 10.2559 1.52246L13.0107 3.83301C13.1566 3.9515 13.2272 4.09277 13.2227 4.25684C13.2227 4.4209 13.152 4.56217 13.0107 4.68066L10.2559 6.99121C10.1966 7.03678 10.1305 7.07552 10.0576 7.10742C9.9847 7.13477 9.90495 7.14844 9.81836 7.14844C9.63607 7.14844 9.49251 7.09603 9.3877 6.99121C9.28288 6.88639 9.23047 6.74284 9.23047 6.56055V5.00195H3.98047C3.34245 5.00195 2.83659 5.17741 2.46289 5.52832C2.09375 5.87923 1.90918 6.35319 1.90918 6.9502V7.52441C1.90918 7.74772 1.83171 7.93685 1.67676 8.0918C1.52181 8.24674 1.33496 8.32422 1.11621 8.32422ZM14.8906 7.54492C15.1094 7.54492 15.2962 7.6224 15.4512 7.77734C15.6061 7.92773 15.6836 8.11686 15.6836 8.34473V9.09668C15.6836 9.78483 15.5286 10.3773 15.2188 10.874C14.9134 11.3708 14.4782 11.7536 13.9131 12.0225C13.348 12.2868 12.6803 12.4189 11.9102 12.4189H6.7627V13.9229C6.7627 14.1051 6.71029 14.2464 6.60547 14.3467C6.50521 14.4515 6.36393 14.5039 6.18164 14.5039C6.09505 14.5039 6.01302 14.4902 5.93555 14.4629C5.86263 14.4355 5.79655 14.3968 5.7373 14.3467L2.98242 12.0361C2.84115 11.9222 2.77051 11.7832 2.77051 11.6191C2.77051 11.4505 2.84115 11.307 2.98242 11.1885L5.7373 8.87793C5.79655 8.8278 5.86263 8.78906 5.93555 8.76172C6.01302 8.73438 6.09505 8.7207 6.18164 8.7207C6.36393 8.7207 6.50521 8.77311 6.60547 8.87793C6.71029 8.97819 6.7627 9.12174 6.7627 9.30859V10.8604H12.0127C12.6553 10.8604 13.1611 10.6872 13.5303 10.3408C13.904 9.98991 14.0908 9.51595 14.0908 8.91895V8.34473C14.0908 8.11686 14.166 7.92773 14.3164 7.77734C14.4714 7.6224 14.6628 7.54492 14.8906 7.54492Z",fill:"#C7C6C4"}),(0,d.jsx)("path",{d:"M4 2L12 14",stroke:"white",strokeWidth:"3",strokeLinecap:"round"}),(0,d.jsx)("path",{d:"M4 2L12 14",stroke:"#C7C6C4",strokeLinecap:"round"})]})});var p=i(9291),u=i(31701),g=i(37810),f=i(19124),y=i(77080),h=i(64921),w=i(52275),v=i(73420);const b=function(e){let{format:t,className:i,icon:o,title:n,isDefault:a,recurrence:s,recurrenceDisabled:r,right:l,focused:c,onClick:m,onMouseMove:p,onMouseEnter:u,onMouseLeave:g,locked:f,type:y}=e;return"collection-overlay"===t?(0,d.jsx)(M,{className:i,icon:o,format:t,title:n,isDefault:a,recurrence:s,recurrenceDisabled:r,right:l,focused:c,onClick:m,onMouseMove:p,onMouseEnter:u,onMouseLeave:g,locked:f,type:y}):"phone-modal"===t?(0,d.jsx)(T,{icon:o,format:t,title:n,isDefault:a,recurrence:s,focused:c,onClick:m}):"experimental-new-page"===t?(0,d.jsx)(x,{focused:c,onClick:m,onMouseMove:p,onMouseEnter:u,onMouseLeave:g,icon:o,title:n,type:y}):"experimental-new-page-submenu"===t?(0,d.jsx)(S,{focused:c,onClick:m,onMouseMove:p,onMouseEnter:u,onMouseLeave:g,icon:o,title:n}):(0,d.jsx)(P,{focused:c,onClick:m,onMouseMove:p,onMouseEnter:u,onMouseLeave:g,icon:o,format:t,title:n,isDefault:a,recurrence:s,recurrenceDisabled:r,right:l})};function k(e){let{format:t,title:i,isDefault:o,recurrence:n,recurrenceDisabled:r}=e;const c=(0,s.Fg)(),f=(0,a.VK)((()=>y.default.checkGate("recurrence_queue_task_improvements")),[]);return"collection-overlay"!==t?(0,d.jsx)(d.Fragment,{children:i}):(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i,(0,d.jsxs)("span",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o&&(0,d.jsx)("span",{style:{fontSize:12,fontWeight:g.Z.fontWeight.medium,color:c.mediumTextColor},children:(0,d.jsx)(p.FormattedMessage,{defaultMessage:"DEFAULT",id:"database.templatePickerMenuItem.default"})}),n&&(0,l.N)({width:14,color:u.ZP.blue,marginLeft:8}),r&&f&&m({width:14,height:12.25,color:u.ZP.lightIconColor,marginLeft:8})]})]})}function M(e){let{className:t,icon:i,format:n,title:a,isDefault:s,recurrence:r,recurrenceDisabled:l,right:c,focused:m,onClick:p,onMouseMove:u,onMouseEnter:g,onMouseLeave:f,locked:y,type:h}=e;const v=(0,o.O7)(),{device:b}=v;return(0,d.jsx)(w.Z,{className:t,icon:i,title:(0,d.jsx)(k,{format:n,title:a,isDefault:s,recurrence:r,recurrenceDisabled:l}),right:c,focused:m,onClick:p,onMouseMove:u,onMouseEnter:g,onMouseLeave:f,showDragHandle:!b.isMobile&&!y,dragHandleDisabled:"empty_page"===h})}function T(e){let{icon:t,format:i,title:o,isDefault:n,recurrence:a,focused:s,onClick:r}=e;return(0,d.jsx)(w.Z,{icon:t,title:(0,d.jsx)(k,{format:i,title:o,isDefault:n,recurrence:a}),focused:s,onClick:r,showDragHandle:!1})}function C(e,t,i){const{device:o}=e;return{...r.ZD,display:"flex",alignItems:"center",flexGrow:1,height:o.isMobile?36:32,fontSize:16,borderRadius:4,paddingLeft:8,marginBottom:2,color:i?t.mediumTextColor:t.lightTextColor}}function P(e){let{focused:t,onClick:i,onMouseMove:r,onMouseEnter:l,onMouseLeave:c,icon:m,format:p,title:u,isDefault:g,recurrence:y,recurrenceDisabled:w,right:v}=e;const b=(0,s.Fg)(),M=(0,o.O7)(),T=(0,n.l)(),P=(0,a.VK)((()=>{const e=null==T?void 0:T.publicEditModeStore.state;return(0,f.GD)(e)}),[T]);return(0,d.jsxs)(h.Z,{style:C(M,b,P),hovered:t,onClick:i,onMouseMove:r,onMouseEnter:l,onMouseLeave:c,hoveredStyle:{background:b.buttonHoveredBackground,color:b.regularTextColor},pressedStyle:{background:b.buttonPressedBackground},children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",width:24,height:24,marginRight:10},children:m}),(0,d.jsx)(k,{format:p,title:u,isDefault:g,recurrence:y,recurrenceDisabled:w}),v&&(0,d.jsx)("div",{style:{marginLeft:"auto",marginRight:4},children:v})]})}function x(e){const{focused:t,onClick:i,onMouseMove:o,onMouseEnter:n,onMouseLeave:r,icon:l,title:c,type:m}=e,p=(0,a.VK)((()=>"control"!==y.default.getEligibleGroup({experimentId:"horizon_1_quick_templates",defaultGroup:"control"})),[]),u=(0,s.yK)((e=>({item:{display:"flex",alignItems:"center",padding:"6px 14px 6px 10px",border:`1px solid ${e.stroke.regular}`,borderRadius:100},moreItem:{width:32,height:32,padding:0,justifyContent:"center"},itemFocused:{background:e.tint.regular},itemFilled:{borderColor:e.tint.regular,background:e.tint.regular},itemFilledAndFocused:{background:e.fill.gray}})),[]),g=p&&("ai"===m||"dictation"===m),f=p&&"more"===m;return(0,d.jsx)("div",{onClick:i,onMouseMove:o,onMouseEnter:n,onMouseLeave:r,style:{...u.item,...f?u.moreItem:{},...g?u.itemFilled:{},...t?u.itemFocused:{},...g&&t?u.itemFilledAndFocused:{}},children:(0,d.jsxs)(v.X2,{gap:4,alignItems:"center",children:[l,c]})})}function S(e){const{focused:t,onClick:i,onMouseMove:o,onMouseEnter:n,onMouseLeave:a,icon:r,title:l}=e,c=(0,s.yK)((e=>({item:{display:"flex",alignItems:"center",padding:"4px 10px 4px 8px"},itemFocused:{background:e.tint.regular}})),[]);return(0,d.jsx)("div",{onClick:i,onMouseMove:o,onMouseEnter:n,onMouseLeave:a,style:{...c.item,...t?c.itemFocused:{}},children:(0,d.jsxs)(v.X2,{gap:8,alignItems:"center",children:[r,l]})})}},36420:(e,t,i)=>{i.d(t,{n:()=>l,y:()=>r});i(21703);var o=i(67294),n=(i(77744),i(26249));let a,s;function r(e){a=a??new Map,s=s??function(e){let t=!1,i=[];return new ResizeObserver((o=>{i=i.concat(o),t||(t=!0,window.requestAnimationFrame((()=>{const o=new Set;[...i].reverse().filter((e=>{const t=o.has(e.target);return o.add(e.target),!t})).forEach((t=>{const i=e.get(t.target);null==i||i.forEach((e=>{const i=t.borderBoxSize[0];e({width:i.inlineSize,height:i.blockSize})}))})),i=[],t=!1})))}))}(a);const[t,i]=(0,o.useState)(void 0),r=(0,o.useCallback)((e=>{i((t=>(0,n.Z)(t,e)?t:e))}),[]);return(0,o.useLayoutEffect)((()=>{const t=e.current;if(!t)return;s.observe(t);const i=[...a.get(t)??[],r];return a.set(t,i),()=>{s.unobserve(t);const e=(a.get(t)??[]).filter((e=>e!==r));0===e.length?a.delete(t):a.set(t,e)}}),[r,e]),t}function l(e){const{children:t,onSizeChange:i}=e,n=(0,o.useRef)(null),a=r(n);(0,o.useEffect)((()=>{i&&a&&i(a)}),[a,i]);const s=o.Children.only(t);return o.cloneElement(s,{ref:n})}},67940:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(49085),n=i(7032);class a extends o.default{getInitialState(){return{flowId:void 0}}getOrCreateFlowId(){const e=this.state.flowId||(0,n.ZP)();return this.state.flowId&&this.setState({flowId:e}),e}}const s=new a},56638:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(49085);class n extends o.default{getInitialState(){return{open:!1}}}const a=new n},87199:(e,t,i)=>{i.d(t,{h:()=>a,k:()=>n});var o=i(9291);const n=(0,o.defineMessages)({paymentMethodUnverified:{id:"subscriptions.paymentMethodUnverified",defaultMessage:"Your payment is being processed. Please try again when your payment has completed."},otherPaymentMethod:{id:"subscriptions.otherPaymentMethod",defaultMessage:"Other"},adminOnlyAction:{id:"subscriptions.adminOnlyAction",defaultMessage:"Only workspace owners can perform this action."},iosSubscriptionRestriction:{id:"subscriptions.iosSubscriptionRestriction",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."}}),a=(0,o.defineMessages)({trialTitle:{id:"nudges.trial.title",defaultMessage:"Notion for collaboration"},trialDescription:{id:"nudges.trial.description",defaultMessage:"Get 14 days of unlimited content creation with others"},trialCta:{id:"nudges.trial.cta",defaultMessage:"Try it for free"},trialTooltip:{id:"nudges.trial.tooltip",defaultMessage:"Use Notion as much as you want, with as many people as you like. You’ll receive a reminder when your trial is ending, and can cancel anytime."},approachingBlockLimitTitle:{id:"nudges.approachingBlockLimit.title",defaultMessage:"Upgrade to go unlimited"},approachingBlockLimitDescription:{id:"nudges.approachingBlockLimit.description",defaultMessage:"Continue using Notion to collaborate with others"},approachingBlockLimitCta:{id:"nudges.approachingBlockLimit.cta",defaultMessage:"Upgrade plan"},approachingBlockLimitTooltip:{id:"nudges.approachingBlockLimit.tooltip",defaultMessage:"You’re reaching the maximum number of free blocks given on your plan ({percent}%). You won’t be able to create more content unless you upgrade to the Plus plan."},reachedBlockLimitTitle:{id:"nudges.reachedBlockLimit.title",defaultMessage:"Keep using Notion"},reachedBlockLimitDescription:{id:"nudges.reachedBlockLimit.description",defaultMessage:"{spaceName} has used 100% of the free blocks in the workspace"},reachedBlockLimitCta:{id:"nudges.reachedBlockLimit.cta",defaultMessage:"Upgrade plan"},reachedBlockLimitTooltip:{id:"nudges.reachedBlockLimit.tooltip",defaultMessage:"You’ve reached the maximum number of free blocks for your plan (100%). You won’t be able to create more content unless you upgrade to the Plus plan."}})},44041:(e,t,i)=>{i.d(t,{y:()=>b});i(67294);var o=i(47425),n=i(9291),a=i(86572),s=i(47307),r=i(33929),l=i(52533),c=i(80444),d=i(92083),m=i(39343),p=i(87199),u=i(70060),g=i(88893),f=i(35057),y=i(88280),h=i(81023),w=i(64891),v=i(85893);async function b(e,t){var i;a.sA(e,{from:t.from,for_subscription_tier:t.for,addOnFeature:t.addOnFeature});if((0,f.QM)()&&["block_limit_sidebar","block_limit_settings","block_limit_banner"].includes(t.from)&&!t.addOnFeature&&(0,u.XA)(e))return void d.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0});if(!t.addOnFeature&&(0,o.QM)(t.for))return;const b=(0,l.S$)({environment:e})&&"personal"===t.for;if(e.device.isMobileNative){if("ai"===t.addOnFeature){const t=(0,l.Y2)({environment:e})?(0,v.jsx)(n.FormattedMessage,{id:"upsellActions.noIAPForAIWithExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Visit on desktop to purchase Notion AI and go unlimited."}):(0,v.jsx)(n.FormattedMessage,{id:"upsellActions.noIAPForAIWithoutExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Unfortunately, additional AI responses cannot be purchased on this platform."});return void s.showErrorMessage(t)}if(!b)return}const k=c.default.state.currentSpaceStore;if(!k)return;if(!k.canAdmin())return;await h.bi(e);const M=y.subscriptionDataStoreInstance.state;if(!M)return;if("unsubscribed_admin"!==M.type&&"subscribed_admin"!==M.type)return void(t.dontOpenPlansOnCancel||d.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0}));if(g.ri(M))return void s.showErrorMessage(r.default.formatMessage(p.k.paymentMethodUnverified));if(g.Q6(M)){const e=(0,v.jsx)(n.FormattedMessage,{id:"upsellActions.referToSalesRep",defaultMessage:"This workspace is part of a managed account. Please contact your account representative to discuss any changes to your subscription."});return void s.showErrorMessage(e)}if(b)return void(e.mobileNative&&k.id&&e.mobileNative.openUpgradeModal(k.id));if("revenueCat"===(null===(i=M.customerData)||void 0===i?void 0:i.activeSubscriptionPlatform)){const e=(0,v.jsx)(n.FormattedMessage,{id:"upsellActions.switchPlanFromInAppPurchase",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."});return void s.showErrorMessage(e)}const T=g.XX(M);if(t.addOnFeature&&(0,m.Fk)(T)){const e=(0,v.jsx)(n.FormattedMessage,{id:"upsellActions.noAddOnPurchaseDuringFreeTrial",defaultMessage:"Unfortunately, additional {addOn, select, ai {AI responses} other {features}} cannot be purchased while a workspace is on a free trial.",values:{addOn:t.addOnFeature}});s.showErrorMessage(e)}else{if(T&&g.MM(M))return t.addOnFeature?void w.af({environment:e,from:t.from,view:"add_ons",addOnFeature:t.addOnFeature,billingInterval:T.interval,pageSection:t.pageSection}):void w.af({environment:e,from:t.from,view:"plans",temporarySubscriptionTier:t.for,billingInterval:T.interval,pageSection:t.pageSection});{const i=(0,u.px)(e,t.for)?"ai_fifty_percent":void 0;h.I0(e,{subscriptionTier:t.for,from:t.from,addOnFeature:t.addOnFeature,coupon:i,isTrial:t.isTrial})}}}},39343:(e,t,i)=>{i.d(t,{Fk:()=>r,U6:()=>c,nx:()=>l});var o=i(30120),n=i(13991),a=i(7057),s=i(95477);function r(e){return!(null==e||!e.trialEnd)&&e.trialEnd>=o.ou.now().toSeconds()}function l(e){const t=function(e){if(!r(e))return;const t=1e3*(null==e?void 0:e.trialEnd);return null!=e&&e.periodEnd&&e.periodEnd>=o.ou.now().toSeconds()&&e.periodEnd<t?e.periodEnd:t}(e);return t?(0,a.Yx)(t,"long",n.SP):void 0}function c(e){return e?s.default.trials[e.id].duration:s.default.trials.default.duration}},96711:(e,t,i)=>{i.d(t,{V:()=>a});i(67294);var o=i(45238),n=i(85893);const a=(0,o.IU)("checkboxSquareChecked",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M2.85742 13.4561H11.1357C12.6123 13.4561 13.3779 12.6904 13.3779 11.2344V2.91504C13.3779 1.45215 12.6123 0.693359 11.1357 0.693359H2.85742C1.38086 0.693359 0.615234 1.45215 0.615234 2.91504V11.2344C0.615234 12.6973 1.38086 13.4561 2.85742 13.4561ZM2.93945 12.1162C2.30371 12.1162 1.95508 11.7812 1.95508 11.1182V3.02441C1.95508 2.36133 2.30371 2.0332 2.93945 2.0332H11.0537C11.6826 2.0332 12.0381 2.36133 12.0381 3.02441V11.1182C12.0381 11.7812 11.6826 12.1162 11.0537 12.1162H2.93945ZM6.26855 10.3115C6.51465 10.3115 6.72656 10.1885 6.87012 9.96973L9.92578 5.19141C10.0146 5.04785 10.0967 4.88379 10.0967 4.72656C10.0967 4.3916 9.7959 4.16602 9.47461 4.16602C9.26953 4.16602 9.08496 4.27539 8.94141 4.50781L6.24121 8.8418L4.96973 7.22168C4.80566 7.00977 4.6416 6.93457 4.43652 6.93457C4.10156 6.93457 3.8418 7.20117 3.8418 7.54297C3.8418 7.70703 3.90332 7.85742 4.01953 8.00098L5.63281 9.96973C5.81738 10.209 6.01562 10.3115 6.26855 10.3115Z"})})},64275:(e,t,i)=>{i.d(t,{D:()=>a});i(67294);var o=i(45238),n=i(85893);const a=(0,o.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},53523:(e,t,i)=>{i.d(t,{N:()=>a});i(67294);var o=i(45238),n=i(85893);const a=(0,o.IU)("repeat",{viewBox:"0 0 16 14",svg:(0,n.jsx)("path",{d:"M1.185 7.317a.689.689 0 00.697-.704v-.601c0-1.19.806-1.942 2.064-1.942H9.23v1.573c0 .328.199.52.527.52a.66.66 0 00.403-.144l2.68-2.236c.253-.212.26-.547 0-.765L10.16.782A.62.62 0 009.757.64c-.328 0-.527.184-.527.52v1.53H4.05C1.875 2.69.48 3.9.48 5.875v.738c0 .397.308.704.705.704zm13.624-.649a.689.689 0 00-.698.704v.608c0 1.19-.806 1.942-2.064 1.942H6.763V8.35c0-.329-.199-.52-.527-.52a.66.66 0 00-.403.144l-2.68 2.242c-.26.212-.26.547 0 .759l2.68 2.242a.66.66 0 00.403.143c.328 0 .527-.191.527-.52v-1.544h5.181c2.174 0 3.569-1.21 3.569-3.179v-.745a.695.695 0 00-.704-.704z"})})},46783:(e,t,i)=>{i.d(t,{w:()=>a});i(67294);var o=i(45238),n=i(85893);const a=(0,o.IU)("templates",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},73426:(e,t,i)=>{i.d(t,{i:()=>a});i(67294);var o=i(45238),n=i(85893);const a=(0,o.IU)("templatesColor",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z",fill:"#3C9ED7"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z",fill:"#E7595E"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z",fill:"#F5BC4E"})]})})}}]);