"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1161],{45257:(e,t,s)=>{s.d(t,{Z:()=>l});s(67294);var n=s(480),a=s(24405),o=s(42853),i=s(64921),r=s(85893);function l(e){const{icon:t,title:s,on:l,hasDiff:c,wrapStyle:u,innerStyle:g,hideChevron:m}=e,p=(0,a.Fg)(),h=(0,n.O7)();return(0,r.jsxs)("div",{style:{borderRadius:14,marginRight:6,display:"inline-flex",...c&&{position:"relative"},...u},children:[(0,r.jsxs)(i.Z,{disabled:e.disabled,style:d(Boolean(l),p,g,h.device.isMobile),hoveredStyle:l?{background:p.outlineBlueButtonHoveredBackground}:void 0,pressedStyle:l?{background:p.outlineBlueButtonPressedBackground}:void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,s,!m&&(0,o.i)({width:10,marginLeft:4,marginTop:1,fill:l?p.blueColor:p.lightIconColor})]}),c&&(0,r.jsx)("div",{style:{position:"absolute",top:-2,right:-2,background:"dark"===p.mode?p.accentColors.orange[500]:p.accentColors.orange[300],border:`1px solid ${p.contentBackground}`,width:9,height:9,borderRadius:9}})]})}function d(e,t,s,n){return{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:n?28:24,lineHeight:n?"28px":"24px",padding:"0 8px",border:`1px solid ${t.outlineButtonBorder}`,color:t.mediumTextColor,...e&&{color:t.blueColor,border:`1px solid ${t.filterPillBorder}`,background:t.filterPillBackground},...s}}},255:(e,t,s)=>{s.d(t,{Z:()=>r});s(67294);var n=s(480),a=s(53465),o=s(73063),i=s(85893);const r=function(e){const t=(0,n.O7)(),s={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:r,disabled:l}=e,{device:d}=t,c=d.isMobile?{...s.removeFilterButton,...s.removeFilterButtonMobile}:s.removeFilterButton;return(0,i.jsx)(o.Z,{icon:a.X,onClick:r,disabled:l,disableBackground:!0,style:c})}},14694:(e,t,s)=>{s.d(t,{Z:()=>u});s(67294);var n=s(480),a=s(86628),o=s(24405),i=s(39567),r=s(50659),l=s(77080),d=s(85893);function c(){const e=(0,o.yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.sidebarBackground:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,d.jsx)("div",{children:(0,i.Y)(e.icon)})}function u(e){var t;const s=(0,n.O7)(),i=s.device.isMobile,u=(0,a.VK)((()=>{var t,n;if(i)return s.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(n=e.style)||void 0===n?void 0:n.paddingLeft:10)}),[s.WindowSizeStore,i,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),g=(0,a.VK)((()=>l.default.checkGate("sidebar_redesign")),[]),m=(0,o.yK)((t=>({wrapper:{...i?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:u,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:e.disableMobileBorder?void 0:`0 1px 0 ${t.regularDividerColor}`,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,color:g?e.isBottomItem?t.mediumTextColor:t.v2.text.primary:void 0,fontWeight:g?450:void 0,minHeight:e.isBottomItem?24:27,paddingTop:2,paddingBottom:2,marginTop:1,marginBottom:1,...(0,r.MF)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:i?28:22,height:i?24:18,marginLeft:g?void 0:-3,marginRight:g?8:4,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:i?26:22,height:i?24:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!i?"clip":"ellipsis",...e.childrenStyle}})),[i,u,e.disableMobileBorder,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle,g]);return(0,d.jsxs)("div",{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:m.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,d.jsx)("div",{style:m.left,children:e.left}),e.icon&&(0,d.jsxs)("div",{style:m.icon,children:[e.icon,e.isAlias&&(0,d.jsx)(c,{})]}),(0,d.jsx)("div",{style:m.children,children:e.children}),e.right&&(0,d.jsx)("div",{style:m.right,children:e.right})]})}},97680:(e,t,s)=>{s.d(t,{Z:()=>x});var n=s(67294),a=s(480),o=s(86628),i=s(66897),r=s(9291),l=s(1898),d=s(98742),c=s(4023),u=s(52275),g=s(26388),m=s(70301),p=s(45653),h=s(85893);const f=n.forwardRef(((e,t)=>{const{actor:s,userTitle:n,useEmailAsTooltip:f,tooltip:x,tooltipPlacement:b}=e,y=(0,a.O7)(),v=(0,r.useIntl)(),j=(0,o.VK)((()=>s.asActor&&s.isUser()?s.email:void 0),[s]),M=f&&j?j:x,C=y.device.isMobile?24:20;let S;return(0,i.YU)(s)?S=(0,h.jsx)(m.Z,{botValue:null==s?void 0:s.asActor,size:C}):(0,i.$S)(s)?S=(0,h.jsx)(p.Z,{userValue:null==s?void 0:s.asActor,size:C}):(0,i.Iq)(s)?S=(0,h.jsx)(p.Z,{userValue:void 0,size:C}):(0,l.t1)(s),(0,h.jsx)(g.ZP,{ref:t,placement:b??c.u.Bottom,alignment:c.v.Start,textWrap:!0,render:t=>(0,h.jsx)(u.Z,{...(0,d.Z)(t,e),icon:S,title:n??(0,i.$4)(v,s),className:"notranslate",right:e.right}),disableTooltip:!M,renderTooltip:()=>M})}));f.displayName="UserMenuItem";const x=f},8319:(e,t,s)=>{s.d(t,{z:()=>D,Z:()=>V});var n=s(67294),a=s(83355),o=s(480),i=s(86628),r=s(47453),l=s(9291),d=s(53965),c=s(1898),u=s(45257),g=s(75024),m=s(49085);class p extends m.default{getInitialState(){return{isMenuOpen:!1,inputTemporaryValue:"",indexToReplace:void 0,popupOriginRect:void 0}}}const h=p;var f=s(52275),x=s(89728),b=s(53437),y=s(58297),v=s(72495),j=s(75689),M=s(91642),C=s(68626),S=s(52629),w=s(23586),I=s(60709),k=s(29798),z=s(72087),F=s(78140),T=s(32163),R=s(43765),N=s(40721),O=s(47082),_=s(85893);const U={input:{marginTop:8,marginLeft:8,marginRight:8,boxSizing:"border-box",width:"auto"},menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}};const L=function(e){let{labelText:t,value:s,renderResultMenuItem:a,onConfirm:r,items:l,performRequest:d,onDismiss:c,onChange:u,renderToken:g,onRemove:m,onClear:p,disabled:h}=e;const f=(0,o.O7)(),x=(0,i.qz)(void 0,k.Z),b=(0,i.qz)(void 0,z.Z),y=(0,n.useCallback)(((e,n,o)=>(0,_.jsx)(B,{error:e,data:n,ready:o,labelText:t,value:s,renderResultMenuItem:a,onConfirm:r,menuListStore:x})),[t,s,a,r,x]),v={query:s,current:l};return(0,_.jsx)(F.Z,{...P(f,c,t,s,l,u,g,m,p,h),children:(0,_.jsx)(w.Z,{debounce:100,requestStore:b,request:v,performRequest:d,render:y})})};function A(e){const{device:t}=e;return t.isMobile}function Z(e){let{labelText:t,value:s,items:n,disabled:a,onChange:i,renderToken:r,onRemove:l,onClear:c}=e;const u=(0,o.O7)(),g=n.map((e=>r(e,{onRemove:()=>l(e)})));return(0,_.jsx)(O.Z,{focus:!A(u)||void 0,focusAfterAnimation:!0,format:O.U.FilterValue,tokens:g,placeholder:t.tokenInputPlaceholder,onRemoveLastToken:()=>function(e,t){const s=d.Z$(e);s&&t(s)}(n,l),onClearButtonClick:c,value:s,onChange:i,showClearButton:!0,disabled:Boolean(a),style:U.inputMenu})}function P(e,t,s,n,a,o,i,r,l,d){if(A(e)){return{menuType:I.og.Modal,title:s.title,right:(0,_.jsx)(N.DoneMenuText,{}),onClickRight:t,header:(0,_.jsx)(Z,{labelText:s,value:n,items:a,disabled:d,onChange:o,renderToken:i,onRemove:r,onClear:l})}}return{menuType:I.og.Popup,onClickOutside:t,header:(0,_.jsx)(Z,{labelText:s,value:n,items:a,disabled:d,onChange:o,renderToken:i,onRemove:r,onClear:l}),...U.menu}}function B(e){let{error:t,data:s,ready:a,labelText:o,value:r,renderResultMenuItem:d,onConfirm:c,menuListStore:u}=e;const g=(0,i.qz)(u,k.Z),m=(0,n.useCallback)((e=>(0,_.jsx)(v.Z,{...e,title:o.resultSectionTitle,loading:!a})),[o,a]);if(t)return C.log({level:"error",from:o.componentDebugName,type:"requestFailed",error:(0,S.Ui)(t),data:{miscDataToConvertToString:{query:r}}}),(0,_.jsx)(m,{children:(0,_.jsx)(R.Z,{title:(0,_.jsx)(l.FormattedMessage,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!s)return(0,_.jsx)(m,{children:(0,_.jsx)(R.Z,{title:(0,_.jsx)(l.FormattedMessage,{defaultMessage:"Loadingâ€¦",id:"search.inputMenu.loading.message"})})});if(s&&0===s.length)return(0,_.jsx)(m,{children:(0,_.jsx)(R.Z,{title:(0,_.jsx)(l.FormattedMessage,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const p={key:"results",items:s.map((e=>function(e,t,s){return{key:e,action:()=>s(e),render:s=>t(e,s)}}(e,d,c))),render:m};return(0,_.jsx)(T.Z,{type:T.i.Vertical,store:g,initialFocus:0,sections:[p]})}let D=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});class q extends a.Z{constructor(){super(...arguments),this.animationFrameRef={current:void 0},this.originRef=n.createRef(),this.storeTypes={componentStore:h},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleMenuClose=e=>X(this.stores.componentStore,this.props.onMenuDismiss,e),this.scheduleMeasurement=(e,t)=>{this.animationFrameRef.current=requestAnimationFrame(function(e,t,s){return n=>{if(!s)return;if(!s.current)return;const a=e?e(t.state):t.state;t.setState({...a,popupOriginRect:s.current.getBoundingClientRect()})}}(t,this.stores.componentStore,this.originRef))}}didMount(){window.addEventListener("resize",this.scheduleMeasurement)}willUnmount(){window.removeEventListener("resize",this.scheduleMeasurement),this.animationFrameRef.current&&(cancelAnimationFrame(this.animationFrameRef.current),this.animationFrameRef.current=void 0)}didUpdate(e){(e.items.length!==this.props.items.length||e.mode!==this.props.mode)&&this.scheduleMeasurement()}renderComponent(){const{device:e}=this.environment,{mode:t}=this.props;return e.isMobile?(0,_.jsx)(ne,{searchTokenFilterProps:this.props,componentStore:this.stores.componentStore}):this.renderDesktop(t)}renderDesktop(e){const{title:t,disabled:s}=this.props,{componentStore:{state:n}}=this.stores,a=s||n.isMenuOpen;let o;const i=(()=>e===D.Section?(o=t,this.renderSectionOrigin()):e===D.Button?this.renderButtonOrigin():e===D.Pill?this.renderPillOrigin():void(0,c.t1)(e))();return(0,_.jsxs)(M.Z,{title:o,marginAfter:e===D.Section,style:G(this.environment,this.props.mode).sectionMenuItem,children:[e!==D.Pill&&this.renderFilters({disableFilters:a,showLabel:!1}),i,(0,_.jsx)(b.ZP,{popupType:b.ZP.PopupType.Popup,placementToOrigin:b.ZP.Placement.Bottom,alignmentToOrigin:b.ZP.Alignment.Start,open:J(this.stores.componentStore),originRect:n.popupOriginRect,render:()=>(0,_.jsx)(se,{searchTokenFilterProps:this.props,componentStore:this.stores.componentStore}),onDismiss:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleMenuClose,keepFocus:!0,preventScaleTransition:!0})]})}renderButtonOrigin(){const{icon:e,title:t,disabled:s,focused:n}=this.props,a=G(this.environment,this.props.mode),o=K(this.theme),i={...a.menuItem,...o.buttonMenuItem};return(0,_.jsx)("div",{ref:this.originRef,style:a.menuItemWrapper,children:(0,_.jsx)(f.Z,{disabled:s||J(this.stores.componentStore),icon:e(a.icon),title:t,focused:n,onClick:e=>ae(this.scheduleMeasurement,void 0,this.props.onMenuOpen),style:i})})}renderPillOrigin(){const{icon:e,title:t,disabled:s,iconStyles:n}=this.props,a=G(this.environment,this.props.mode),o=this.props.mode===D.Pill&&this.props.hasItemsSelected;return(0,_.jsx)("div",{ref:this.originRef,style:a.menuItemWrapper,children:(0,_.jsx)(u.Z,{on:o,icon:e({...a.icon,...n}),title:(0,_.jsx)("span",{children:t}),onClick:e=>ae(this.scheduleMeasurement,void 0,this.props.onMenuOpen),wrapStyle:{opacity:s?.4:1}})})}renderSectionOrigin(){const{addItemLabel:e,disabled:t}=this.props,s=G(this.environment,this.props.mode),a=K(this.theme);return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)("div",{ref:this.originRef,style:s.menuItemWrapper}),(0,_.jsx)(f.Z,{disabled:t||J(this.stores.componentStore),icon:(0,r.R)(s.iconSmall),title:e,focused:!1,onClick:e=>ae(this.scheduleMeasurement,void 0,this.props.onMenuOpen),style:{...s.appendListItemButton,...a.appendListItemButton}})]})}renderFilters(e){const{items:t,renderFilter:s}=this.props,{device:n}=this.environment,a=t.map(((t,a)=>(0,_.jsx)("li",{children:s(t,{disabled:e.disableFilters,onRemove:()=>W(t,this.props.items,this.props.onChange),onClick:()=>n.isMobile?$(this.stores.componentStore):ae(this.scheduleMeasurement,a,this.props.onMenuOpen)})},`${t}_${a}`)));return(0,_.jsx)("ul",{style:g.mK,children:a})}}q.displayName="SearchTokenFilter";const V=q;function E(e,t,s){s(t.filter((t=>t!==e)))}function H(e){e([])}function K(e){return{buttonMenuItem:{color:e.mediumTextColor},appendListItemButton:{color:e.lightTextColor}}}function W(e,t,s){E(e,t,s)}function G(e,t){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:g.yv(e,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===t?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}function $(e){e.setState({...e.state,isMenuOpen:!0})}function J(e){return e.state.isMenuOpen}function Y(e){e.setState({...e.state,inputTemporaryValue:"",indexToReplace:void 0})}function X(e,t,s){Y(e),e.setState({...e.state,isMenuOpen:!1,indexToReplace:void 0}),t&&t(s)}function Q(e,t,s,n,a){const{indexToReplace:o}=a.state;"number"==typeof o&&o<t.length?function(e,t,s,n){n(s.slice(0,e).concat(t,s.slice(e+1)))}(o,e,t,s):t.includes(e)&&D.Pill?E(e,t,s):function(e,t,s){const n=t.concat(e);s(d.jj(n))}(e,t,s),n||Y(a)}function ee(e){let{disableFilters:t,icon:s,title:n,mode:a,componentStore:i}=e;const r=G((0,o.O7)(),a);return(0,_.jsx)(f.Z,{disabled:t,focused:!1,icon:s({...r.icon}),title:n,onClick:e=>$(i)})}function te(e){let{disableFilters:t,title:s,items:a,renderItemForSummary:i,mode:r,onChange:l,componentStore:d}=e;const c=(0,o.O7)(),u=(0,n.useCallback)((()=>$(d)),[d]),m=G(c,r),p={...g.mK,...m.summary},h=a.length-1,f=(0,_.jsx)("ul",{style:p,children:a.map(((e,t)=>(0,_.jsx)("li",{style:m.summaryItem,children:(0,_.jsxs)(n.Fragment,{children:[i(e),t!==h&&","," "]})},e)))});return(0,_.jsx)(j.Z,{disabled:t,onClick:u,onClickClear:()=>H(l),label:s,title:f})}function se(e){let{searchTokenFilterProps:t,componentStore:s}=e;const{items:a,onChange:o,keepInputOnItemConfirm:r,onMenuDismiss:d,renderToken:c,renderFooter:u,allowApplyBatchSelection:g}=t,m=(0,n.useCallback)((e=>Q(e,a,o,r,s)),[a,o,r,s]),p=(0,n.useCallback)((e=>X(s,d,e)),[s,d]),h=(0,n.useCallback)((e=>function(e,t){const{target:s}=e;t.setState({...t.state,inputTemporaryValue:String(s.value)})}(e,s)),[s]),f=(0,i.VK)((()=>s.state),[s]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(L,{...t,value:f.inputTemporaryValue,onChange:h,onDismiss:p,onConfirm:m,onClear:()=>{!function(e){e.setState({...e.state,inputTemporaryValue:""})}(s),H(o)},onRemove:e=>W(e,a,o),renderToken:c}),u&&(0,_.jsxs)(v.Z,{topBorder:!0,style:{padding:6,justifyContent:"space-between",display:"flex"},children:[(0,_.jsx)(x.Z,{onClick:()=>{H(o)},children:(0,_.jsx)(l.FormattedMessage,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),g&&(0,_.jsx)(y.Z,{onClick:()=>{X(s,d,"applyButton")},children:(0,_.jsx)(l.FormattedMessage,{id:"searchTokenFilter.applyButton",defaultMessage:"Apply"})})]})]})}function ne(e){let{searchTokenFilterProps:t,componentStore:s}=e;const{mode:a,onMenuDismiss:o,disabled:r,title:l,items:d,renderItemForSummary:c,onChange:u,icon:g}=t,m=(0,n.useCallback)((e=>X(s,o,e)),[s,o]),p=(0,n.useCallback)((()=>(0,_.jsx)(se,{searchTokenFilterProps:t,componentStore:s})),[t,s]),h=(0,i.VK)((()=>J(s)),[s]),f=r||h,x=a===D.Section?(0,_.jsx)(te,{title:l,items:d,renderItemForSummary:c,mode:a,onChange:u,componentStore:s,disableFilters:f}):(0,_.jsx)(ee,{icon:g,title:l,mode:a,componentStore:s,disableFilters:f});return(0,_.jsx)(b.ZP,{popupType:b.ZP.PopupType.SlideUp,open:h,origin:x,render:p,onDismiss:m,keepFocus:!0})}function ae(e,t,s){s&&s(),e(void 0,(e=>({...e,isMenuOpen:!0,indexToReplace:t})))}},75689:(e,t,s)=>{s.d(t,{Z:()=>c});s(67294);var n=s(480),a=s(24405),o=s(37810),i=s(52275),r=s(24006),l=s(255),d=s(85893);const c=function(e){const{disabled:t,label:s,title:o,onClick:r,isToggle:l,isToggleActive:c,onClickClear:m,...p}=e,h=(0,a.Fg)(),f=(0,n.O7)(),x=function(e){return{menuItemLabel:{color:e.lightTextColor}}}(h),b=u(f),y=(0,d.jsx)("span",{style:x.menuItemLabel,children:s});return(0,d.jsx)(i.Z,{focused:!1,...p,inline:l,disabled:t,icon:y,title:o,right:(0,d.jsx)(g,{disabled:!!t,isToggle:!!l,isToggleActive:!!c,onClick:r,onClickClear:m}),onClick:r,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:b.menuItem,desktopIconStyle:b.menuItemLabel})};function u(e){return{menuItem:{background:void 0,minHeight:void 0,fontSize:e.device.isMobile?o.Z.fontSize.UISmall.mobile:o.Z.fontSize.UIRegular.desktop,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}function g(e){let{disabled:t,isToggle:s,isToggleActive:a,onClick:o,onClickClear:i=(()=>{})}=e;const c=u((0,n.O7)()).rightWrapper;return s?(0,d.jsx)("div",{style:c,children:(0,d.jsx)(r.Z,{on:!!a,onClick:o})}):(0,d.jsx)(l.Z,{disabled:t,onClick:i})}},91642:(e,t,s)=>{s.d(t,{Z:()=>o});s(67294);var n=s(72495),a=s(85893);const o=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:s,marginAfter:o,desktopStyle:i,desktopTitleStyle:r,...l}=e,d=(o||i)&&{...o&&t.marginAfter,...i},c=r?{...t.desktopTitleStyle,...r}:t.desktopTitleStyle;return(0,a.jsx)(n.Z,{isTitleUppercase:!0,disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:d,desktopTitleStyle:c,shouldShowBottomDivider:!1,title:s,...l})}},79921:(e,t,s)=>{s.d(t,{v:()=>o});s(67294);var n=s(24405),a=s(85893);function o(e){let{left:t,right:s}=e;const o=(0,n.yK)((e=>({grid:{display:"grid",gridTemplateColumns:"250px 1fr"},leftColumnFixed:{position:"relative",boxSizing:"border-box",maxHeight:"100vh",overflow:"auto"},rightColumn:{position:"relative",background:e.contentBackground,boxSizing:"border-box",maxHeight:"100vh",overflow:"auto"}})),[]);return(0,a.jsxs)("div",{style:o.grid,children:[(0,a.jsx)("div",{style:o.leftColumnFixed,children:t}),(0,a.jsx)("div",{style:o.rightColumn,children:s})]})}},84880:(e,t,s)=>{s.d(t,{g:()=>d,n:()=>c});var n=s(67294),a=s(480),o=s(84747),i=s(54642),r=s(68117),l=s(85893);const d=(0,n.createContext)({spaceIds:[],refreshOrganization:async()=>{}});function c(e){let{children:t,organizationId:s}=e;const c=(0,a.O7)(),[u,g]=(0,n.useState)([]),{updateCacheWithRecordMap:m}=(0,n.useContext)(r.V);(0,o.Z)((async()=>{const e=await i.getSpacesInOrganization(c,{organizationId:s});"success"===e.type&&(g(e.data.spaceIds),m({data:e.data}))}));const p=(0,n.useCallback)((async()=>{const e=await i.getSpacesInOrganization(c,{organizationId:s});"success"===e.type&&m({data:e.data})}),[c,s,m]);return(0,l.jsx)(d.Provider,{value:{spaceIds:u,refreshOrganization:p},children:t})}},86631:(e,t,s)=>{s.d(t,{Z:()=>f});s(67294);var n=s(86628),a=s(24405),o=s(9291),i=s(37810),r=s(50659),l=s(80444),d=s(11066),c=s(61519),u=s(69219),g=s(45653),m=s(82162),p=s(14694),h=s(85893);function f(e){let{items:t}=e;const s=(0,n.VK)((()=>(0,r.G$)({isMobile:!1})),[]),o=(0,a.yK)((e=>({container:{background:e.sidebarBackground,boxShadow:e.sidebarBoxShadow,paddingBlock:4,width:"100%",height:"100vh",display:"flex",flexDirection:"column",gap:2},itemButton:{fontWeight:i.Z.fontWeight.medium,color:e.regularTextColor,...s},itemIcon:{fill:e.mediumIconColor,width:18},selectedItemIcon:{fill:e.regularIconColor,width:18},selectedItemButton:{background:e.buttonHoveredBackground},sidebarItemContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"row"},divider:{color:e.lightDividerColor}})),[s]);return(0,h.jsxs)("div",{style:o.container,children:[(0,h.jsx)(x,{}),(0,h.jsx)(c.Z,{size:1,dividerColor:o.divider.color}),t.map((e=>{const t=e.isSelected?{...o.itemButton,...o.selectedItemButton}:o.itemButton,s=e.isSelected?o.selectedItemIcon:o.itemIcon;return(0,h.jsx)(d.Z,{style:t,children:(0,h.jsx)(p.Z,{style:o.sidebarItemContainer,left:e.icon(s),onClick:e.onClick,children:e.name})},e.id)}))]})}function x(){const e=(0,o.useIntl)(),t=(0,a.yK)((e=>({container:{padding:"8px 16px 4px"},iconStyle:{color:e.lightTextColor,fontWeight:500},preamble:{display:"block",fontSize:12,fontWeight:500,color:e.lightTextColor}})),[]),s=(0,n.VK)((()=>l.default.state.currentUserStore),[]),i=(0,n.VK)((()=>{const t=l.default.state.currentUserStore;if(t)return{userName:t.getFullName(e),userEmail:t.getEmail()}}),[e]);return(0,h.jsxs)("div",{style:t.container,children:[(0,h.jsx)("div",{style:t.preamble,children:"Logged in as"}),s&&i?(0,h.jsx)(u.i,{useThinTitle:!0,title:i.userName,byline:i.userEmail,iconSize:40,icon:(0,h.jsx)(g.Z,{size:40,userStore:s,iconStyle:t.iconStyle})}):(0,h.jsx)(m.L,{iconSize:40})]})}},94185:(e,t,s)=>{s.d(t,{eT:()=>Wa,ow:()=>Ga,QV:()=>$a,GF:()=>Ja});var n=s(67294),a=s(83176),o=s(82114),i=s(69628),r=s(93108),l=s(47409),d=s(18442),c=s(62397),u=s(56996),g=s(16001),m=s(48524),p=s(26774),h=s(9291),f=s(480),x=s(61149),b=s(12066),y=s(1898),v=s(8055),j=s(86628),M=s(24405),C=s(59054),S=s(54642),w=s(47307),I=s(33954),k=s(33929),z=s(36596),F=s(7124),T=s(24006),R=s(66661),N=s(84880),O=s(32566),_=s(98742),U=s(26388),L=s(85893);function A(e){let{children:t,direction:s}=e;const a=n.Children.count(t),o=(0,M.yK)((e=>({container:{display:"grid",gridTemplateColumns:"horizontal"===s?`repeat(${a}, 1fr)`:"1fr",border:`1px solid ${e.stroke.deemphasized}`,borderRadius:4,overflow:"hidden",margin:"12px 0"}})),[a,s]);return(0,L.jsx)("div",{style:o.container,children:t})}function Z(e){let{children:t,onClick:s,tooltipText:a}=e;const[o,i]=(0,n.useState)(!1),r=(0,M.yK)((e=>({container:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",gap:8,borderRight:`1px solid ${e.stroke.deemphasized}`,marginRight:-1,padding:16,userSelect:s?"none":void 0,transition:"background 100ms ease-in-out"},containerHover:{cursor:"pointer",background:e.stroke.deemphasized},arrowContainer:{position:"absolute",right:16,top:"calc(50% - 8px - 8px)",animationName:"slideInFromLeft",animationDuration:"200ms",animationDirection:"forward",animationTimingFunction:"ease-in-out",background:e.stroke.deemphasized,borderRadius:4,padding:8},arrowIcon:{height:16,width:16,color:e.text.secondary}})),[s]),l=s&&o?{...r.container,...r.containerHover}:r.container;const d={onMouseEnter:function(){s&&i(!0)},onMouseLeave:function(){s&&i(!1)}};return(0,L.jsx)(U.ZP,{placement:U.ug.Bottom,disableTooltip:!a,renderTooltip:()=>a,render:e=>(0,L.jsxs)("div",{...(0,_.Z)(d,e),style:l,onClick:s,children:[t,o?(0,L.jsx)("div",{style:r.arrowContainer,children:(0,O.k)(r.arrowIcon)}):null]})})}function P(e){let{title:t,byline:s,item:n,padding:a,shouldPaddingOverflowGrid:o}=e;const i=(0,M.yK)((e=>({settingContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:a},overflowContainer:{marginLeft:a?-1*a:void 0,marginRight:a?-1*a:void 0,width:a?`calc(100% + ${2*a}px`:"100%"},settingLeft:{flex:3,display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",gap:4},settingRight:{flex:1,display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-start"}})),[a]),r=o?{...i.settingContainer,...i.overflowContainer}:i.settingContainer;return(0,L.jsxs)("div",{style:r,children:[(0,L.jsxs)("div",{style:i.settingLeft,children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",colorName:"primary",children:t}),(0,L.jsx)(F.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:s})]}),(0,L.jsx)("div",{style:i.settingRight,children:n})]})}var B=s(97608),D=s(81918),q=s(64964),V=s(63296),E=s(64369);function H(e){let{organizationStore:t}=e;const s=(0,f.O7)();return(0,L.jsx)(V.Z,{isRed:!0,onClick:async function(){D.KF(s,{email_domains:t.getEmailDomains()});const{accept:e}=await w.confirmUserActionV2({message:(0,L.jsx)(E.Z,{style:w.dialogStyles.title,children:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.confirmation.message",defaultMessage:"Log out all of your managed accounts?"})}),description:(0,L.jsx)(E.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.confirmation.description",defaultMessage:"You are about to log all of your managed accounts out of their current session, including you. The affected users will need to re-authenticate to log back into Notion."})}),acceptLabel:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.confirmation.acceptLabel",defaultMessage:"Log out all managed accounts"}),cancelLabel:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.confirmation.cancelLabel",defaultMessage:"Cancel"})});e&&(await S.logoutManagedUsers(s,{organizationId:t.id,target:{type:B.J.Domains,emailDomains:t.getEmailDomains()}}),q.oV({label:(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.toastMessage.logout.all.success",defaultMessage:"Successfully logged out all managed accounts"})}),D._6(s,{email_domains:t.getEmailDomains()}))},children:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.logoutAllUsers.logoutButton",defaultMessage:"Log out all accounts"})})}function K(e){let{organizationStore:t}=e;const s=(0,f.O7)();return(0,L.jsx)(V.Z,{isRed:!0,onClick:async function(){D.Jo(s,{email_domains:t.getEmailDomains()});const{accept:e}=await w.confirmUserActionV2({message:(0,L.jsx)(E.Z,{style:w.dialogStyles.title,children:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.confirmation.message",defaultMessage:"Reset passwords for your managed accounts?"})}),description:(0,L.jsx)(E.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.confirmation.description",defaultMessage:"You are about to reset the passwords for of your managed accounts, including you. This will also remove any 2-step verification settings they might have and they will be logged out of of their current session.{br}{br}The affected users will need to re-authenticate via their email the next time they attempt to log back into Notion, and they will be prompted to set a new password upon logging in.",values:{br:(0,L.jsx)("br",{})}})}),acceptLabel:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.confirmation.acceptLabel",defaultMessage:"Reset passwords for all managed accounts"}),cancelLabel:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.confirmation.cancelLabel",defaultMessage:"Cancel"})});e&&(await S.resetPasswordsForManagedUsers(s,{organizationId:t.id,target:{type:B.J.Domains,emailDomains:t.getEmailDomains()}}),q.oV({label:(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.toastMessage.forcePasswordReset.all.success",defaultMessage:"Successfully reset passwords for all managed accounts"})}),D.aT(s,{email_domains:t.getEmailDomains()}))},children:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedAccounts.forcePasswordReset.logoutButton",defaultMessage:"Reset all passwords for all accounts"})})}var W=s(19639),G=s(58698),$=s(16402),J=s(55422);function Y(e){let{organizationStore:t}=e;const s=(0,f.O7)(),{refreshOrganization:a}=(0,n.useContext)(N.g),o=(0,n.useMemo)((()=>Object.entries(W.nb).map((e=>{let[t,s]=e;return{key:t,label:(0,L.jsx)(E.Z,{children:(0,$.hH)(0,s)})}}))),[]),i=(0,j.VK)((()=>{var e;return(0,G.K)(null===(e=t.getManagedUserSettings())||void 0===e?void 0:e.custom_session_duration)??W.gl}),[t]);return(0,L.jsx)(J.L,{isMobile:!1,disabled:!1,type:"dropdown",currentOption:i,options:o,onSelectOption:async function(e){var n;const o=(null===(n=t.getManagedUserSettings())||void 0===n?void 0:n.custom_session_duration)??W.nb[W.gl],i=W.nb[e];if(void 0===i)return;D.LO(s,{custom_session_duration_ms:o});const{accept:r}=await w.confirmUserActionV2({message:(0,L.jsx)(E.Z,{style:w.dialogStyles.title,children:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.message",defaultMessage:"Confirm change"})}),description:(0,L.jsxs)(E.Z,{isMultiline:!0,isSecondaryColor:!0,children:[(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.description",defaultMessage:"You are about to change the session duration for all of your managed users from <b>{oldDuration}</b> to <b>{newDuration}.</b>",values:{oldDuration:(0,$.hH)(0,o),newDuration:(0,$.hH)(0,i),b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,L.jsx)("b",{children:t})}}}),(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.secondDescription",defaultMessage:"This may log some users out of their current session, including you. The affected users will need to re-authenticate to log back into Notion."})]}),acceptLabel:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.acceptLabel",defaultMessage:"Confirm change"}),cancelLabel:(0,L.jsx)(h.FormattedMessage,{id:"identityProvisioningSettings.managedUsers.customSessionDuration.confirmation.cancelLabel",defaultMessage:"Cancel"})});if(!r)return;D.l0(s,{new_session_duration_ms:i});const l=await S.updateEmailDomainSettings(s,{emailDomains:t.getEmailDomains(),customSessionDuration:(0,G.K)(i)});"success"===l.type?await a():w.showErrorMessage((0,I.wf)(k.default.getIntl(),l))},buttonStyle:{marginTop:0,marginBottom:0}})}function X(e){let{organizationStore:t}=e;const s=(0,f.O7)(),a=(0,M.yK)((e=>({number:{borderRadius:4,height:22,width:40}})),[]),o=(0,j.VK)((()=>t.getEmailDomains()),[t]),i=function(e){const t=(0,f.O7)(),{refreshOrganization:s}=(0,n.useContext)(N.g),a=(0,j.VK)((()=>e.getManagedUserSettings()),[e]),[o,i]=(0,n.useState)({prevent_profile_edits:!1,workspace_creation_enum:!1,prevent_members_joining_external_workspace:!1,prevent_granting_support_access:!1});async function r(){i((e=>({...e,prevent_profile_edits:!0})));const n=await S.updateEmailDomainSettings(t,{emailDomains:e.getEmailDomains(),preventProfileEdits:!(null!=a&&a.prevent_profile_edits)});"success"===n.type?await s():w.showErrorMessage((0,I.wf)(k.default.getIntl(),n)),i((e=>({...e,prevent_profile_edits:!1})))}async function l(){i((e=>({...e,workspace_creation_enum:!0})));const n="admins_only"===(null==a?void 0:a.workspace_creation_enum)?"unrestricted":"admins_only",o=await S.updateWorkspaceCreationForEmailDomains(t,{emailDomains:e.getEmailDomains(),workspaceCreationEnum:n});"success"===o.type?await s():w.showErrorMessage((0,I.wf)(k.default.getIntl(),o)),i((e=>({...e,workspace_creation_enum:!1})))}async function d(){i((e=>({...e,prevent_members_joining_external_workspace:!0})));const n=await S.updateEmailDomainSettings(t,{emailDomains:e.getEmailDomains(),preventMembersJoiningExternalWorkspace:!(null!=a&&a.prevent_members_joining_external_workspace)});"success"===n.type?await s():w.showErrorMessage((0,I.wf)(k.default.getIntl(),n)),i((e=>({...e,prevent_members_joining_external_workspace:!1})))}async function c(){i((e=>({...e,prevent_granting_support_access:!0})));const n=await S.updateEmailDomainSettings(t,{emailDomains:e.getEmailDomains(),preventGrantingSupportAccess:!(null!=a&&a.prevent_granting_support_access)});"success"===n.type?await s():w.showErrorMessage((0,I.wf)(k.default.getIntl(),n)),i((e=>({...e,prevent_granting_support_access:!1})))}return{prevent_profile_edits:{value:null==a?void 0:a.prevent_profile_edits,loading:o.prevent_profile_edits,toggle:r},workspace_creation_enum:{value:null==a?void 0:a.workspace_creation_enum,loading:o.workspace_creation_enum,toggle:l},prevent_members_joining_external_workspace:{value:null==a?void 0:a.prevent_members_joining_external_workspace,loading:o.prevent_members_joining_external_workspace,toggle:d},prevent_granting_support_access:{value:null==a?void 0:a.prevent_granting_support_access,loading:o.prevent_granting_support_access,toggle:c}}}(t),r=(0,j.VK)((()=>t.id),[t]),[{status:l,value:d}]=(0,C.r5)((async()=>{const e=await S.getVerifiedUsersCountForOrganization(s,{organizationId:r});if("success"===e.type)return e.data.usersCount;if("failed"===e.type)throw e.error;return(0,y.t1)(e)}),[s,r]);return(0,L.jsxs)("div",{children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",colorName:"secondary",as:"p",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.description",defaultMessage:"A managed account is a Notion account using an email address from one of your organization's domains. Organization owners can reset passwords, change session duration, and control other permissions for all managed accounts, even if the account is not a member of an organization workspace"})}),(0,L.jsxs)(A,{direction:"horizontal",children:[(0,L.jsxs)(Z,{onClick:()=>{v.c4({environment:s,url:(0,x.a5)({organizationId:t.id,tabRoute:b.C$,properties:{subtab:"managed-accounts"}})})},children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.allManagedAccounts.title",defaultMessage:"All managed accounts"})}),(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:"resolved"===l?(0,L.jsx)(R.e,{num:d??0,abbreviateNumber:!1}):(0,L.jsx)(z.Z,{style:a.number})})]}),(0,L.jsxs)(Z,{onClick:()=>{v.c4({environment:s,url:(0,x.a5)({organizationId:t.id,tabRoute:b.zc})})},children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.emailDomains.title",defaultMessage:"Email domains"})}),(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.emailDomains",defaultMessage:"{numEmailDomains, plural, one {1 domain} other {{numEmailDomains} domains}}",values:{numEmailDomains:o.length}})})]})]}),(0,L.jsxs)(A,{direction:"vertical",children:[(0,L.jsx)(P,{padding:16,title:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.changeProfileInformation.title",defaultMessage:"Change profile information"}),byline:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.changeProfileInformation.byline",defaultMessage:"Profile information includes preferred name, email address, and profile photo."}),item:(0,L.jsx)(T.Z,{on:Boolean(i.prevent_profile_edits.value),onClick:i.prevent_profile_edits.toggle,disabled:i.prevent_profile_edits.loading})}),(0,L.jsx)(P,{padding:16,title:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.createNewWorkspaces.title",defaultMessage:"Create workspaces in your organization"}),byline:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.createNewWorkspaces.byline",defaultMessage:"If this is disabled, only managed accounts who are organization owners can create new workspaces."}),item:(0,L.jsx)(T.Z,{on:"admins_only"===i.workspace_creation_enum.value,onClick:i.workspace_creation_enum.toggle,disabled:i.workspace_creation_enum.loading})}),(0,L.jsx)(P,{padding:16,title:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.joinExternalWorkspaces.title",defaultMessage:"Join external workspaces"}),byline:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.joinExternalWorkspaces.byline",defaultMessage:"Prevent managed accounts from joining workspaces that are not a part of your organization."}),item:(0,L.jsx)(T.Z,{on:Boolean(i.prevent_members_joining_external_workspace.value),onClick:i.prevent_members_joining_external_workspace.toggle,disabled:i.prevent_members_joining_external_workspace.loading})}),(0,L.jsx)(P,{padding:16,title:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.grantSupportAccess.title",defaultMessage:"Grant support access to accounts"}),byline:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.toggles.grantSupportAccess.byline",defaultMessage:"Support access allows Notion's support team to troubleshoot problems or recover content on a user's behalf. Support access is temporary and can be revoked at any time."}),item:(0,L.jsx)(T.Z,{on:Boolean(i.prevent_granting_support_access.value),onClick:i.prevent_granting_support_access.toggle,disabled:i.prevent_granting_support_access.loading})})]}),(0,L.jsxs)(A,{direction:"horizontal",children:[(0,L.jsxs)(Z,{children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",colorName:"primary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.sessionDuration.title",defaultMessage:"Session duration"})}),(0,L.jsx)(F.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.sessionDuration.byline",defaultMessage:"How long managed accounts are logged in before they need to re-authenticate."})}),(0,L.jsx)(Y,{organizationStore:t})]}),(0,L.jsxs)(Z,{children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",colorName:"primary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.passwordManagement.title",defaultMessage:"Password management"})}),(0,L.jsx)(F.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.passwordManagement.byline",defaultMessage:"All managed accounts will have to set a new password the next time they log in."})}),(0,L.jsx)(K,{organizationStore:t})]}),(0,L.jsxs)(Z,{children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",colorName:"primary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.sessionManagement.title",defaultMessage:"Session management"})}),(0,L.jsx)(F.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.settings.actions.sessionManagement.byline",defaultMessage:"All managed accounts will be logged out, and will need to re-authenticate."})}),(0,L.jsx)(H,{organizationStore:t})]})]})]})}s(57658);var Q=s(75246),ee=s(37810),te=s(59016),se=s(6258),ne=s(66994),ae=s(33602),oe=s(28608),ie=s(68117),re=s(57347),le=s(53965);const de={managedUsers:[],filters:{query:"",multiFactorStatus:void 0,workspaceId:void 0},numPagesLoaded:0,hasNextPage:!0,paginationToken:void 0,loading:!1,error:void 0};var ce=s(22686),ue=s(93667);function ge(e){let{selectedAccountStatus:t,setSelectedAccountStatus:s}=e;return(0,L.jsx)(ue.u,{pillTitle:(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.table.filters.accountStatus.title",defaultMessage:"Account status"}),pillIcon:ce.f,selectedItem:t,setSelectedItem:s,items:me})}const me=[{key:"notSuspended",value:"notSuspended",title:(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.table.filters.accountStatus.active",defaultMessage:"Active"}),wrapCaption:!0},{key:"suspended",value:"suspended",title:(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.table.filters.accountStatus.suspended",defaultMessage:"Suspended"}),wrapCaption:!0}];var pe=s(61519),he=s(50506),fe=s(18261),xe=s(19927),be=s(92684);function ye(e){let{managedUser:t,onClose:s,removeWorkspaceFromUser:n}=e;const a=Boolean(t),{isAccessGranted:o,toggleDataAccessConsent:i,loading:r}=(0,xe.d)({userId:null==t?void 0:t.userId});return(0,L.jsx)(he.Z,{open:a,onDismiss:s,preventHideChildrenWhileOpening:!0,render:()=>t?(0,L.jsx)(fe.z,{managedUser:t,isAccessGranted:o,toggleDataAccessConsent:i,loadingSupportAccess:r,renderWorkspacesOverview:()=>(0,L.jsx)(ve,{userId:t.userId,workspaces:t.workspaces,removeWorkspaceFromUser:n})}):null})}function ve(e){const{userId:t,workspaces:s,removeWorkspaceFromUser:a}=e,o=(0,M.yK)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",gap:8,marginTop:12}})),[]);return(0,L.jsx)("div",{style:o.container,children:s.map(((e,o)=>(0,L.jsxs)(n.Fragment,{children:[(0,L.jsx)(be.U,{userId:t,spaceId:"",workspace:e,removeWorkspaceFromUser:a}),o<s.length-1?(0,L.jsx)(pe.Z,{size:8}):null]},e.id)))})}var je=s(44495),Me=s(40394),Ce=s(71291),Se=s(53695),we=s(69219),Ie=s(55255),ke=s(58720),ze=s(52498),Fe=s(82162),Te=s(19981),Re=s(66466),Ne=s(25651),Oe=s(29851),_e=s(2356),Ue=s(37612);var Le=s(19889),Ae=s(20454),Ze=s(45653);const Pe=28;function Be(e){let{userId:t}=e;const s=(0,h.useIntl)(),n=(0,f.O7)(),a=(0,M.yK)((e=>({iconStyle:{color:e.lightTextColor,fontWeight:ee.Z.fontWeight.medium}})),[]),o=(0,j.VK)((()=>{const e=new Ae.U(n,{table:Le.KJ,id:t});return{userStore:e,isReady:e.isReady(),userName:e.getDisplayName(s),userEmail:e.getEmail()}}),[n,t,s]);return null!=o&&o.isReady?(0,L.jsx)(we.i,{useThinTitle:!0,title:o.userName,byline:o.userEmail,icon:(0,L.jsx)(Ze.Z,{size:Pe,userStore:o.userStore,iconStyle:a.iconStyle})}):(0,L.jsx)(De,{})}function De(e){const t=(0,M.yK)((()=>({icon:{borderRadius:"100%",height:e.iconSize??Pe,width:e.iconSize??Pe,marginLeft:-4}})),[e.iconSize]);return(0,L.jsx)(we.H,{includeByline:!0,includeIcon:!0,iconStyles:t.icon})}var qe=function(e){return e.ManagedUser="managed-user",e.Loading="loading",e}(qe||{});const Ve={paddingInline:8},Ee={marginLeft:4,height:14,width:14,opacity:.5},He={id:"user",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.table.user",defaultMessage:"Users"}),renderCell:e=>e.type===qe.ManagedUser?(0,L.jsx)(Be,{userId:e.managedUser.userId}):(0,L.jsx)(Fe.L,{}),widthData:{width:70},sortable:!1},Ke={id:"access",headerTitle:(0,L.jsx)("span",{style:Ve,children:(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.table.access",defaultMessage:"Workspaces"})}),renderCell:e=>e.type===qe.ManagedUser?(0,L.jsx)(ke.m,{workspaceSummaries:e.managedUser.workspaces}):(0,L.jsx)(Se.z,{}),widthData:{width:60},sortable:!1},We={id:"lastActive",headerTitle:(0,L.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.table.lastActive",defaultMessage:"Last active"}),(0,L.jsx)(U.ZP,{render:e=>(0,L.jsx)("div",{...e,children:(0,je.D)(Ee)}),renderTooltip:()=>(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.table.lastActive.tooltip",defaultMessage:"This may be delayed by several hours."})})]}),renderCell:e=>e.type===qe.ManagedUser?(0,L.jsx)(Ie.B,{lastActiveAt:e.managedUser.lastActiveAt}):(0,L.jsx)(Ce.I,{}),widthData:{width:60},sortable:!1},Ge={id:"menu",headerTitle:null,renderCell:e=>e.type===qe.ManagedUser?(0,L.jsx)(ze.G,{managedUser:e.managedUser,managedUserActionSections:e.managedUserActionSections}):null,widthData:{width:15},sortable:!1,hasClickableContents:!0},$e=[He,{id:"accountStatus",headerTitle:(0,L.jsx)("span",{style:Ve,children:(0,L.jsx)(h.FormattedMessage,{id:"organization.managedAccounts.table.accountStatus",defaultMessage:"Account status"})}),renderCell:e=>e.type===qe.ManagedUser?(0,L.jsx)(Qe,{status:e.managedUser.accountStatus}):(0,L.jsx)(we.H,{}),widthData:{width:60},sortable:!1},Ke,We,Ge],Je=[{id:"1",isClickable:!1,type:qe.Loading},{id:"2",isClickable:!1,type:qe.Loading},{id:"3",isClickable:!1,type:qe.Loading}];function Ye(e){let{organizationStore:t,managedUsersState:s,onOpenDetailsModal:a}=e;const{getManagedUserActionSections:o,onEditDetails:i}=function(e){let{organizationStore:t,managedUsersState:s,onOpenDetailsModal:a}=e;const o=(0,f.O7)(),i=(0,h.useIntl)(),r=(0,n.useCallback)((async e=>{D.rZ(o);const{accept:t}=await w.confirmUserActionV2({message:(0,L.jsx)(E.Z,{style:w.dialogStyles.title,children:(0,L.jsx)(h.FormattedMessage,{defaultMessage:"Suspend this user?",id:"identityAndProvisioning.managedUsers.table.menu.action.suspendUser.dialog.title"})}),acceptLabel:(0,L.jsx)(h.FormattedMessage,{defaultMessage:"Yes",id:"identityAndProvisioning.managedUsers.table.menu.action.suspendUser.dialog.acceptLabel"}),description:(0,L.jsx)(E.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,L.jsx)(h.FormattedMessage,{defaultMessage:"This user will not be able to log into Notion and their Notion integrations will stop working. They can be unsuspended at any time from the Managed Users dashboard.",id:"identityAndProvisioning.managedUsers.table.menu.action.suspendUser.dialog.description"})})});if(!t)return;const n=await S.updateUserSuspension(o,{userId:e.userId,suspend:!0});D.rv(o),"failed"===n.type&&w.showErrorMessage((0,I.wf)(k.default.getIntl(),n)),s.updateManagedUserAccountStatus(e.userId,"suspended")}),[o,s]),l=(0,n.useCallback)((async e=>{D.NF(o);const{accept:s}=await w.confirmUserActionV2({message:(0,L.jsx)(E.Z,{style:w.dialogStyles.title,children:(0,L.jsx)(h.FormattedMessage,{defaultMessage:"Log out this user?",id:"identityAndProvisioning.managedUsers.table.menu.action.logoutUser.dialog.title"})}),acceptLabel:(0,L.jsx)(h.FormattedMessage,{defaultMessage:"Log out user",id:"identityAndProvisioning.managedUsers.table.menu.action.logoutUser.dialog.acceptLabel"}),description:(0,L.jsx)(E.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.logoutUser.dialog.description",defaultMessage:"You are about to log out this user from their current session. They will need to re-authenticate to log back into Notion."})})});if(!s)return;const n=await S.logoutManagedUsers(o,{organizationId:t.id,target:{type:B.J.User,userId:e.userId}});if(D._m(o),"failed"===n.type)return w.showErrorMessage((0,I.wf)(k.default.getIntl(),n)),void q.oV({label:(0,L.jsx)(h.FormattedMessage,{id:"managedUsers.toastMessage.logout.failed",defaultMessage:"Failed to logged out user"})});q.oV({label:(0,L.jsx)(h.FormattedMessage,{id:"managedUsers.toastMessage.logout.success",defaultMessage:"Successfully logged out user"})})}),[o,t.id]),d=(0,n.useCallback)((async e=>{D.Zm(o);const{accept:s}=await w.confirmUserActionV2({message:(0,L.jsx)(E.Z,{style:w.dialogStyles.title,children:(0,L.jsx)(h.FormattedMessage,{defaultMessage:"Reset password for this user?",id:"identityAndProvisioning.managedUsers.table.menu.action.forcePasswordReset.dialog.title"})}),acceptLabel:(0,L.jsx)(h.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.forcePasswordReset.dialog.acceptLabel",defaultMessage:"Reset passwords for user"}),description:(0,L.jsx)(E.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.forcePasswordReset.dialog.description",defaultMessage:"You are about to reset the password for this user. This will also remove any 2-step verification settings they might have and they will be logged out of of their current session.{br}{br}This user will need to re-authenticate via their email the next time they attempt to log back into Notion, and they will be prompted to set a new password upon logging in.",values:{br:(0,L.jsx)("br",{})}})})});if(!s)return;const n=await S.resetPasswordsForManagedUsers(o,{organizationId:t.id,target:{type:B.J.User,userId:e.userId}});if(D.vC(o),"failed"===n.type)return w.showErrorMessage((0,I.wf)(i,n)),void q.oV({label:(0,L.jsx)(h.FormattedMessage,{id:"managedUsers.toastMessage.forcePasswordReset.fail",defaultMessage:"Failed to reset password for user"})});q.oV({label:(0,L.jsx)(h.FormattedMessage,{id:"managedUsers.toastMessage.forcePasswordReset.success",defaultMessage:"Successfully reset password for user"})})}),[o,i,t.id]),c=(0,n.useCallback)((async e=>{const t=await S.updateUserSuspension(o,{userId:e.userId,suspend:!1});D.Ci(o),"failed"===t.type&&w.deprecatedShowErrorMessage(t.error.message),s.updateManagedUserAccountStatus(e.userId,"notSuspended")}),[o,s]),u=(0,n.useCallback)((async e=>{D.P1(o,{user_status:e.accountStatus});const{accept:t}=await w.confirmUserActionV2({message:(0,L.jsx)(E.Z,{style:w.dialogStyles.title,children:(0,L.jsx)(h.FormattedMessage,{defaultMessage:"Delete this user?",id:"identityAndProvisioning.managedUsers.table.menu.action.deleteUser.dialog.title"})}),acceptLabel:(0,L.jsx)(h.FormattedMessage,{defaultMessage:"Yes",id:"identityAndProvisioning.managedUsers.table.menu.action.deleteUser.dialog.acceptLabel"}),description:(0,L.jsx)(E.Z,{isMultiline:!0,isSecondaryColor:!0,children:(0,L.jsx)(h.FormattedMessage,{defaultMessage:"This action cannot be undone. This will permanently delete the user's entire account. All private workspaces will be deleted, and they will be removed from all shared workspaces.",id:"identityAndProvisioning.managedUsers.table.menu.action.deleteUser.dialog.description"})})});if(!t)return;const n=await S.deleteManagedUser(o,{userId:e.userId});D.j7(o,{user_status:e.accountStatus}),"failed"===n.type&&w.deprecatedShowErrorMessage(n.error.message),s.removeUserFromManagedUsers(e.userId)}),[o,s]),g=(0,n.useCallback)((e=>a(e,"row_click")),[a]),m=(0,j.VK)((()=>o.currentUser.id),[o]),p={onClick:e=>a(e,"dropdown_menu"),icon:Ne.R,title:(0,L.jsx)(h.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.userDetails",defaultMessage:"Edit details"})},x={onClick:e=>u(e),icon:Ue.y,title:(0,L.jsx)(h.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.deleteUser",defaultMessage:"Delete user"}),isDestructive:!0},b={onClick:l,icon:Re.S,title:(0,L.jsx)(h.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.logout",defaultMessage:"Log out"})},v={onClick:d,icon:Oe.z,title:(0,L.jsx)(h.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.passwordReset",defaultMessage:"Reset password"})},M={onClick:r,icon:Te.V,title:(0,L.jsx)(h.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.suspendUser",defaultMessage:"Suspend user"}),getDisabledState:e=>e.userId===m},C={onClick:e=>c(e),icon:_e.u,title:(0,L.jsx)(h.FormattedMessage,{id:"identityAndProvisioning.managedUsers.table.menu.action.unSuspendUser",defaultMessage:"Reactivate user"})};return{getManagedUserActionSections:function(e){let t;switch(e.accountStatus){case"notSuspended":t=[[p,b,v],[M,x]];break;case"suspended":t=[[p],[C,x]];break;default:(0,y.t1)(e.accountStatus)}return t},onEditDetails:g}}({organizationStore:t,managedUsersState:s,onOpenDetailsModal:a}),r=s.managedUsers.map((e=>({id:e.userId,type:qe.ManagedUser,managedUser:e,isClickable:!0,managedUserActionSections:o(e)}))),l=(0,M.yK)((e=>(0,Me.b)({columnRenderInfo:$e,theme:e,containerMarginTop:0})),[]);const d=s.loading?[...r,...Je]:r;return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(Me.D,{hideHeaderRowPadding:!0,showRowBorders:!0,columnRenderInfo:$e,rows:d,onRowClick:function(e){e.type===qe.ManagedUser&&i(e.managedUser)},renderNoRowsComponent:()=>(0,L.jsx)(Xe,{loading:s.loading}),styles:l,onLoadMore:s.loadNextPage})})}function Xe(e){const t=(0,M.yK)((()=>({text:{marginTop:15,marginBottom:40,textAlign:"center"}})),[]);return(0,L.jsx)(E.Z,{isSmall:!0,style:t.text,children:!e.loading&&(0,L.jsx)(h.FormattedMessage,{id:"managedAccounts.table.empty",defaultMessage:"No users found."})})}function Qe(e){const t=(0,M.yK)((e=>({label:{paddingLeft:5}})),[]);return"notSuspended"===e.status?(0,L.jsx)(E.Z,{style:t.label,children:(0,L.jsx)(h.FormattedMessage,{id:"organization.managedAccounts.table.accountStatusValue.active",defaultMessage:"Active"})}):(0,L.jsx)(E.Z,{style:t.label,children:(0,L.jsx)(h.FormattedMessage,{id:"organization.managedAccounts.table.accountStatusValue.suspended",defaultMessage:"Suspended"})})}const et=(0,h.defineMessages)({placeholder:{id:"identityProvisioningSettings.managedUsers.searchInput.placeholder",defaultMessage:"Search name, email, or user ID"}});function tt(e){let{organizationStore:t}=e;const s=(0,f.O7)(),a=(0,te.S)()||0,o=(0,M.yK)((e=>({link:{fontSize:14,fontWeight:400,color:e.mediumTextColor,textDecoration:"none"},title:{marginTop:21,fontWeight:ee.Z.fontWeight.semibold,fontSize:17,display:"flex",justifyContent:"flex-start",alignItems:"center"},byline:{fontSize:14,fontWeight:ee.Z.fontWeight.regular,color:e.mediumTextColor,paddingBottom:20},count:{marginLeft:4,opacity:.5,fontWeight:400},tabBarMenu:{margin:"12px 0 0",boxShadow:"none"},filters:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",margin:"0 auto 12px"}})),[]),i=function(e){let{organizationStore:t}=e;const s=(0,f.O7)(),[a,o]=(0,n.useState)(de),i=(0,n.useRef)(a.filters),r=(0,n.useRef)(!1),l=(0,j.VK)((()=>t.getEmailDomains()),[t]),d=(0,n.useRef)(l.length>0),c=(0,n.useCallback)((async e=>{if(0===l.length)return;let t=a.loading,n=a.error,r=a.hasNextPage,d=a.paginationToken;if(e.restartSearch&&(o((e=>({...de,filters:e.filters}))),t=de.loading,n=de.error,r=de.hasNextPage,d=de.paginationToken),r&&!t&&!n){o((e=>({...e,loading:!0}))),i.current=a.filters;try{var c;const e=await S.getManagedUsers(s,{query:a.filters.query,multiFactorStatus:a.filters.multiFactorStatus,workspaceId:a.filters.workspaceId,userStatus:a.filters.managedUserStatus,paginationToken:d,emailDomains:l});if(D.HH(s,{filters:{multiFactorStatus:a.filters.multiFactorStatus,workspaceId:a.filters.workspaceId},query_length:(null===(c=a.filters.query)||void 0===c?void 0:c.length)??0,current_page:d}),"failed"===e.type)throw e.error;const t=e.data.nextPaginationToken,n=e.data.results;o((e=>{const s=[...e.managedUsers],a=new Set(e.managedUsers.map((e=>e.userId)));for(const t of n)a.has(t.userId)||s.push(t);return{...e,managedUsers:s,loading:!1,error:void 0,numPagesLoaded:e.numPagesLoaded+1,paginationToken:t,hasNextPage:Boolean(t)}}))}catch(u){const e=(0,re.t)(u);o((t=>({...t,loading:!1,error:e})))}}}),[s,a.loading,a.error,a.hasNextPage,a.paginationToken,a.filters,l]);(0,n.useEffect)((()=>{!d.current&&!r.current&&l.length>0&&(c({restartSearch:!0}),r.current=!0)}),[l,c]),(0,n.useEffect)((()=>{le.Xy(i.current,a.filters)||c({restartSearch:!0})}),[a.filters,c]);const u=(0,n.useCallback)((()=>c({restartSearch:!1})),[c]),g=(0,n.useCallback)((e=>{o((t=>({...t,filters:{...t.filters,...e}})))}),[]),m=(0,n.useCallback)(((e,t)=>{o((s=>({...s,managedUsers:s.managedUsers.map((s=>s.userId===e?{...s,workspaces:s.workspaces.filter((e=>e.id!==t))}:s))})))}),[]),p=(0,n.useCallback)(((e,t)=>{o((s=>({...s,managedUsers:s.managedUsers.map((s=>s.userId===e?{...s,accountStatus:t}:s))})))}),[]),h=(0,n.useCallback)((e=>{o((t=>({...t,managedUsers:t.managedUsers.filter((t=>t.userId!==e))})))}),[]);return{managedUsers:a.managedUsers,filters:a.filters,loading:a.loading,error:a.error,removeWorkspaceFromUser:m,removeUserFromManagedUsers:h,setFilters:g,hasNextPage:a.hasNextPage,loadNextPage:u,updateManagedUserAccountStatus:p}}({organizationStore:t}),{filters:r,setFilters:l,removeWorkspaceFromUser:d}=i,[c,u]=(0,n.useState)(),g=(0,n.useMemo)((()=>i.managedUsers.find((e=>{let{userId:t}=e;return t===c}))),[c,i.managedUsers]);const m=(0,n.useCallback)(((e,t)=>{D.JX(s,{user_status:e.accountStatus,from:t}),u(e.userId)}),[s,u]),{organizationOwnerRecordCache:p}=(0,n.useContext)(ie.V),{spaceIds:h}=(0,n.useContext)(N.g),x=(0,j.VK)((()=>{const e=[];for(const t of h)e.push(new se.H2(s,{id:t,table:Q.bx},{inMemoryRecordCache:p}));return e.map((e=>{var t;return{id:e.id,name:e.getName(),createdTime:e.getCreatedTime(),memberCount:a,icon:null===(t=e.getIcon())||void 0===t?void 0:t.icon,subscriptionTier:e.getSubscriptionTier()}}))}),[s,p,h,a]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ne.O,{mode:ne.p.Button,query:r.query,setQueryFilter:e=>{l({query:e})},placeholderText:k.default.formatMessage(et.placeholder)}),(0,L.jsxs)("div",{style:o.filters,children:[(0,L.jsx)(oe.O,{selectedSpaceId:r.workspaceId,setSelectedSpaceId:e=>{l({workspaceId:e})},spaceData:x}),(0,L.jsx)(ae.V,{selectedMfaMethod:r.multiFactorStatus,setSelectedMfaMethod:e=>{l({multiFactorStatus:e})}}),(0,L.jsx)(ge,{selectedAccountStatus:r.managedUserStatus,setSelectedAccountStatus:e=>{l({managedUserStatus:e})}})]}),(0,L.jsx)(Ye,{organizationStore:t,managedUsersState:i,onOpenDetailsModal:m}),(0,L.jsx)(ye,{managedUser:g,onClose:function(){u(void 0)},removeWorkspaceFromUser:d})]})}var st=s(27386);function nt(e){let{children:t}=e;return(0,L.jsx)(st.ZP,{getPaddingTopBottom:()=>36,contentPaddingLeftRight:36,children:t})}var at=s(23189),ot=s(66957);function it(e){let{children:t,title:s,headerRight:n}=e;const a=lt(),o=t?{marginBottom:0,borderBottom:"none"}:{},i={...a.headingStyle,...o};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(at.Z,{large:!0,style:i,children:[(0,L.jsx)("h1",{style:a.title,children:s}),n]}),t]})}function rt(e){let{tabConfig:t}=e;const s=lt(),{tabs:n,currentTabName:a,updateTab:o}=t;return(0,L.jsx)(ot.Z,{tabs:n.map((e=>e.tab)),selectedIndex:n.findIndex((e=>e.name===a)),onChange:e=>{o(n[e].name)},style:s.tabsStyle})}function lt(){return(0,M.yK)((e=>({headingStyle:{marginBottom:16,paddingBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${e.stroke.deemphasized}`},title:{fontSize:20,fontWeight:ee.Z.fontWeight.medium,lineHeight:"150%",display:"flex",alignItems:"center",gap:0,margin:0},tabsStyle:{paddingLeft:0,paddingRight:0,marginTop:-6,marginBottom:14}})),[])}var dt=s(61220);function ct(e){let{organizationId:t}=e;const s=(0,f.O7)(),{organizationOwnerRecordCache:a}=(0,n.useContext)(ie.V);return(0,j.VK)((()=>{if(t)return new se.Om(s,{table:dt.V7,id:t},{inMemoryRecordCache:a})}),[s,t,a])}var ut=function(e){return e.Settings="settings",e.ManagedAccounts="managed-accounts",e}(ut||{});const gt=[{name:ut.Settings,tab:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.subTab.settings.title",defaultMessage:"Settings"})},{name:ut.ManagedAccounts,tab:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.subTab.table.title",defaultMessage:"Managed accounts"})}];function mt(e){let{organizationId:t,subtab:s,queryParams:a}=e;const o=(0,f.O7)(),i=(0,n.useMemo)((()=>function(e){switch(e){case ut.Settings:return ut.Settings;case ut.ManagedAccounts:return ut.ManagedAccounts;default:return ut.Settings}}(s)),[s]),r=ct({organizationId:t});if(!r)return null;return(0,L.jsx)(nt,{children:(0,L.jsxs)(it,{title:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.accounts.title",defaultMessage:"Accounts"}),children:[(0,L.jsx)(rt,{tabConfig:{tabs:gt,currentTabName:i,updateTab:function(e){v.c4({environment:o,url:(0,x.a5)({organizationId:t,tabRoute:b.C$,properties:{subtab:e},queryParams:a})})}}}),(0,L.jsx)(pt,{currentTab:i,organizationStore:r})]})})}function pt(e){switch(e.currentTab){case ut.Settings:return(0,L.jsx)(X,{organizationStore:e.organizationStore});case ut.ManagedAccounts:return(0,L.jsx)(tt,{organizationStore:e.organizationStore});default:(0,y.t1)(e.currentTab)}}var ht=s(24026),ft=s(36591),xt=s(73039);var bt=s(80444),yt=s(81023),vt=s(52275),jt=s(88359),Mt=s(31278),Ct=s(14871);const St="";function wt(e){let{organizationId:t,currentTabRoute:s,currentTabProperties:a,shouldShowOrganizationOption:o,selectedSpaceStore:i}=e;const r=(0,f.O7)(),{spaceIds:l}=(0,n.useContext)(N.g),{itemIcon:d,itemName:c}=function(e){const t=zt(),{itemIcon:s,itemName:n}=(0,j.VK)((()=>{const s="Organization";return e?{itemIcon:(0,L.jsx)(Mt.Z,{disabled:!0,icon:e.getIcon(),isEmptyPage:!1,title:e.getName(),size:24,isLarge:!0}),itemName:e.getName()}:{itemIcon:(0,L.jsx)("div",{style:t.organizationIconContainer,children:(0,xt.K)(t.organizationIcon)}),itemName:s}}),[e,t]);return{itemIcon:s,itemName:n}}(i),u=null==i?void 0:i.id,g=(0,M.yK)((()=>({container:{display:"inline-flex",width:"fit-content"}})),[]);(0,n.useEffect)((()=>{i&&(bt.default.setState({...bt.default.state,currentSpaceStore:i}),(0,yt.OR)({environment:r,spaceId:i.id}))}),[i,r]);const m=(0,n.useCallback)((e=>{if(!e)return void function(e,t,s){v.c4({environment:e,url:(0,x.a5)({organizationId:t,tabRoute:s})})}(r,t,s);const n=(0,x.a5)({organizationId:t,tabRoute:s,properties:a,queryParams:{"space-id":e}});v.c4({environment:r,url:n})}),[s,a,r,t]),p=(0,n.useMemo)((()=>o?[St,...l]:l),[l,o]);return(0,L.jsx)("div",{style:g.container,children:(0,L.jsx)(Ct.Z,{items:p,getKey:le.yR,selectedItem:u,onSelect:m,renderItem:e=>{const t=e.value;return t===St?(0,L.jsx)(kt,{isSelected:!u,...e}):(0,L.jsx)(It,{spaceId:t,isSelected:u===t,...e})},renderOrigin:e=>(0,L.jsx)(jt.Z,{focused:!1,icon:d,title:c,style:{fontSize:"inherit"},desktopIconStyle:{marginLeft:4,marginRight:0},...e})})})}function It(e){let{spaceId:t,isSelected:s,...a}=e;const o=(0,f.O7)(),{organizationOwnerRecordCache:i}=(0,n.useContext)(ie.V),r=zt(),{icon:l,name:d}=(0,j.VK)((()=>{const e=new se.H2(o,{id:t,table:Q.bx},{inMemoryRecordCache:i});return{icon:e.getIcon(),name:e.getName()}}),[t,i,o]);return(0,L.jsx)(vt.Z,{title:d,right:s?(0,ft.e)(r.checkIcon):null,icon:(0,L.jsx)(Mt.Z,{disabled:!0,icon:l,isEmptyPage:!1,title:d,size:24,isLarge:!0}),...a})}function kt(e){let{isSelected:t,...s}=e;const n=zt();return(0,L.jsx)(vt.Z,{title:"Organization",right:t?(0,ft.e)(n.checkIcon):null,icon:(0,L.jsx)("div",{style:n.organizationIconContainer,children:(0,xt.K)(n.organizationIcon)}),...s})}function zt(){return(0,M.yK)((e=>({checkIcon:{width:14,height:14},organizationIconContainer:{width:23,height:23,display:"flex",alignItems:"center",justifyContent:"center"},organizationIcon:{width:18,height:18}})),[])}var Ft=s(84169),Tt=s(24697),Rt=s(12714),Nt=s(18514),Ot=s(74523),_t=s(88149),Ut=s(21697),Lt=s(93502),At=s(35238);function Zt(e){let{spaceStore:t}=e;const s=(0,Lt.U)({spaceId:t.id}),n=(0,Ut.x)({spaceStore:t});return(0,L.jsx)(At.Z,{spaceStore:t,teamStores:n,contentEngagement:s})}var Pt=s(31303),Bt=s(89426);function Dt(e){let{spaceStore:t,isOrganizationOwner:s}=e;const n=(0,j.VK)((()=>{var e;return null===(e=bt.default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),a=(0,Pt.i)({spaceStore:t,userId:n,isOrganizationOwner:s}),o=(0,Lt.U)({spaceId:t.id});return(0,L.jsx)(Bt.Z,{spaceStore:t,contentEngagement:o,userEngagement:a,onUserTabFilterChange:()=>!1})}var qt=s(66673),Vt=s(83726),Et=s(65552);function Ht(e){let{spaceStore:t,isOrganizationOwner:s}=e;const a=(0,j.VK)((()=>{var e;return null===(e=bt.default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),{usersTabData:o,setFilters:i}=function(e){const t=(0,f.O7)(),[s,a]=(0,n.useState)(),{spaceStore:o}=e,i=(0,n.useRef)(!1),r=(0,qt.D9)(o.id),l=(0,n.useMemo)((()=>void 0!==r&&o.id!==r),[o.id,r]),d=(0,n.useCallback)((async e=>{const{currentSpaceStore:s,nextGraphFilter:n,nextTableFilter:o,nextSort:i}=e,r=await Vt.qA({environment:t,spaceStore:s,nextGraphFilter:n,nextTableFilter:o,nextSort:i});a(r)}),[t]);(0,n.useEffect)((()=>{i.current&&!l||(i.current=!0,d({currentSpaceStore:o,nextGraphFilter:null==s?void 0:s.graphFilter,nextTableFilter:null==s?void 0:s.tableFilter,nextSort:null==s?void 0:s.userTableSort}))}),[d,l,o,s]);const c=(0,n.useCallback)((e=>{const{tableFilter:t,graphFilter:n}=e;d({currentSpaceStore:o,nextGraphFilter:n??(null==s?void 0:s.graphFilter),nextTableFilter:t??(null==s?void 0:s.tableFilter),nextSort:null==s?void 0:s.userTableSort})}),[d,s,o]);return{usersTabData:s,setFilters:c}}({spaceStore:t}),r=(0,Ut.x)({spaceStore:t}),l=(0,Pt.i)({spaceStore:t,userId:a,isOrganizationOwner:s});return(0,L.jsx)(Et.Z,{spaceStore:t,teamStores:r,usersTabData:o,userEngagement:l,onUserTabFilterChange:i})}const Kt=[{name:ht.x.Overview,tab:(0,L.jsx)(h.FormattedMessage,{id:"workspaceAnalyticsTabs.overview.title",defaultMessage:"Overview"})},{name:ht.x.Users,tab:(0,L.jsx)(h.FormattedMessage,{id:"workspaceAnalyticsTabs.members.title",defaultMessage:"Members"})},{name:ht.x.Content,tab:(0,L.jsx)(h.FormattedMessage,{id:"workspaceAnalyticsTabs.content.title",defaultMessage:"Content"})},{name:ht.x.Search,tab:(0,L.jsx)(h.FormattedMessage,{id:"workspaceAnalyticsTabs.search.title",defaultMessage:"Search"})}];function Wt(e){let{spaceStore:t,spacePicker:s,navigateToTab:a,currentTab:o,isOrganizationOwner:i}=e;const r=(0,f.O7)(),l=(0,n.useCallback)((e=>{Tt.nK(r,{tab:e}),a(e)}),[r,a]),d=(0,j.VK)((()=>i||Boolean(null==t?void 0:t.canAdmin())),[t,i]),c=Kt.filter((e=>!(!d&&e.name!==ht.x.Content)));return(0,L.jsxs)(nt,{children:[(0,L.jsx)(it,{title:(0,L.jsx)(Yt,{spaceStore:t,spacePicker:s}),headerRight:(0,L.jsx)(Jt,{}),children:(0,L.jsx)(rt,{tabConfig:{tabs:c,currentTabName:o,updateTab:l}})}),(0,L.jsx)(Gt,{currentTab:o,spaceStore:t,isOrganizationOwner:i})]})}function Gt(e){const{currentTab:t,isOrganizationOwner:s,spaceStore:n}=e;switch(t){case ht.x.Content:return(0,L.jsx)(Zt,{spaceStore:n});case ht.x.Overview:return(0,L.jsx)(Dt,{spaceStore:n,isOrganizationOwner:s});case ht.x.Users:return(0,L.jsx)(Ht,{spaceStore:n,isOrganizationOwner:s});case ht.x.Search:return(0,L.jsx)(_t.Z,{spaceStore:n});default:(0,y.t1)(t)}}function $t(){const e=(0,M.yK)((()=>({helpInfo:{marginLeft:4}})),[]);return(0,L.jsx)(U.ZP,{placement:U.ug.Right,render:t=>(0,L.jsx)(Ot.Z,{...t,href:(0,Nt.UY)("guides.workspaceAnalytics"),analyticsFrom:"workspace_analytics_faq",style:e.helpInfo}),renderTooltip:()=>(0,L.jsx)(h.FormattedMessage,{id:"settings.workspaceAnalytics.dataDisclaimerTooltip",defaultMessage:"Data available from the start date of your Enterprise Plan"})})}function Jt(){const e=(0,f.O7)(),t=(0,n.useCallback)((()=>{Rt.D({environment:e,url:(0,Nt.UY)("guides.workspaceAnalytics")})}),[e]);return(0,L.jsx)(V.Z,{isSmall:!0,onClick:t,icon:Ft.m,children:(0,L.jsx)(h.FormattedMessage,{id:"workspaceAnalytics.title.helpButton",defaultMessage:"Learn more"})})}function Yt(e){let{spaceStore:t,spacePicker:s}=e;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.workspaceAnalytics.title",defaultMessage:"Workspace analytics for "}),s,(0,L.jsx)($t,{})]})}function Xt(e){let{spaceId:t,organizationId:s,subtab:a,queryParams:o,tabRoute:i}=e;const r=(0,f.O7)(),{spaceIds:l}=(0,n.useContext)(N.g);(0,n.useEffect)((()=>{!t&&l.length>0&&v.c4({environment:r,url:(0,x.a5)({organizationId:s,tabRoute:i,properties:{subtab:a},queryParams:{...o,"space-id":l[0]}})})}),[r,t,s,l,a,o,i])}function Qt(e){let{spaceId:t}=e;const s=(0,f.O7)(),{organizationOwnerRecordCache:a}=(0,n.useContext)(ie.V),{spaceIds:o}=(0,n.useContext)(N.g);return(0,j.VK)((()=>{if(t&&o.includes(t))return new se.H2(s,{id:t,table:Q.bx},{inMemoryRecordCache:a})}),[t,o,a,s])}function es(e){let{spaceId:t,organizationId:s,subtab:n,queryParams:a,tabRoute:o}=e;const i=(0,f.O7)(),r=Qt({spaceId:t});if(Xt({spaceId:t,organizationId:s,subtab:n,queryParams:a,tabRoute:o}),!r||!t||!s)return null;return(0,L.jsx)(Wt,{spaceStore:r,spacePicker:(0,L.jsx)(wt,{organizationId:s,currentTabRoute:b.Zq,currentTabProperties:{subtab:n},selectedSpaceStore:r}),navigateToTab:e=>{v.c4({environment:i,url:(0,x.a5)({organizationId:s,tabRoute:b.Zq,properties:{subtab:e},queryParams:a})})},currentTab:ts(n),isOrganizationOwner:!0})}function ts(e){switch(e){case"content":return ht.x.Content;case"search":return ht.x.Search;case"users":return ht.x.Users;default:return ht.x.Overview}}var ss=s(23399),ns=s(81549),as=s(22326),os=s(53877),is=s(59730),rs=s(80085),ls=s(77420),ds=s(77907),cs=s(49085);class us extends cs.default{getInitialState(){return{auditLogPointer:void 0,allUserIds:new Set,allBotIds:new Set,removedUserIds:new Set,removedBotIds:new Set}}isUserOrBotRemoved(e){return Boolean(e&&(this.state.removedUserIds.has(e)||this.state.removedBotIds.has(e)))}}const gs=new us;class ms extends cs.default{getInitialState(){return{cachedResponses:{}}}getCursor(e,t,s){if(s<=1||!le.Xy(this.state.pointer,e))return;const n=(0,as.r)(t);if(this.state.filterStr!==n)return;const a=this.state.cachedResponses[s-1];return"success"===a.status?null==a?void 0:a.nextCursor:void 0}startLoading(e,t){this.updateResultHelper(e,t,{status:"loading"})}updateLoadedResult(e,t,s){this.updateResultHelper(e,t,{...s,status:"success",loadedAt:Date.now()})}updateError(e,t){this.updateResultHelper(e,t,{status:"error"})}updateResultHelper(e,t,s){const n=(0,as.r)(t);1!==t.pageNum&&le.Xy(this.state.pointer,e)&&this.state.filterStr===n?this.setState({pointer:e,filterStr:n,cachedResponses:{...this.state.cachedResponses,[t.pageNum]:{...s}}}):this.setState({pointer:e,filterStr:n,cachedResponses:{[t.pageNum||1]:{...s}}})}}const ps=new ms,hs=(0,h.defineMessages)({loadCurrentAuditLogError:{id:"auditlog.error.loadCurrentAuditLogError",defaultMessage:"Failed to load audit logs"}});async function fs(e){const{environment:t,request:s,auditLogPointer:n,filters:a}=e,o=await S.searchAuditLog(t,s);if("success"===o.type)ps.updateLoadedResult(n,a,o.data);else if(ps.updateError(n,a),(0,is.Jx)(o.body)){const e=(0,I.wf)(k.default.getIntl(),o);w.showErrorMessage(e)}else w.showErrorMessage(k.default.formatMessage(hs.loadCurrentAuditLogError))}async function xs(e){const{environment:t,parentStore:s}=e;if(!s)return void gs.reset();const n=gs.getState(),a={id:s.id,table:s.table};if(le.Xy(n.auditLogPointer,a)||gs.reset(),!a)return;let o;if(s.table===Q.bx){const e=await ds.deps.searchActions.loader();o=await e.searchSpaceActorIds({environment:t,membersOnly:!1})}else if(s.table===dt.V7){var i;o={userIds:(null===(i=s.getModel())||void 0===i?void 0:i.getOwnerIds())||[],botIds:[]}}else(0,y.t1)(s);const r=await async function(e){const{environment:t,auditLogPointer:s}=e;if(s.table===Q.bx){const e=await S.getHistoricalAuditLogUsers(t,{spaceId:s.id});return"success"!==e.type?[]:e.data.results}if(s.table===dt.V7){const e=await S.getHistoricalAuditLogUsers(t,{organizationId:s.id});return"success"!==e.type?[]:e.data.results}(0,y.t1)(s.table)}({environment:t,auditLogPointer:a}),l={auditLogPointer:a,allUserIds:new Set,allBotIds:new Set,removedUserIds:new Set,removedBotIds:new Set};for(const c of o.userIds)l.allUserIds.add(c);for(const c of o.botIds)l.allBotIds.add(c);for(const c of r)(d=c.actorId)!==ls._H.id&&d!==Le.s$.id&&d!==Le.el.id||l.allUserIds.has(c.actorId)?c.actorType!==Le.KJ||l.allUserIds.has(c.actorId)?c.actorType!==ls.cZ||l.allBotIds.has(c.actorId)||(l.allBotIds.add(c.actorId),l.removedBotIds.add(c.actorId)):(l.allUserIds.add(c.actorId),l.removedUserIds.add(c.actorId)):l.allUserIds.add(c.actorId);var d;gs.setState(l)}var bs=s(69651),ys=s(86100),vs=s(23096),js=s(8319),Ms=s(66897),Cs=s(27617),Ss=s(74136),ws=s(97680);const Is=(0,h.injectIntl)((function(e){const{parentStore:t,auditLogHistoricalUserStore:s,selectedActors:a,onChange:o,intl:i}=e,r=(0,f.O7)(),[l,d]=n.useState(new Set(a.map(Cs.eW))),c=(0,L.jsx)(h.FormattedMessage,{id:"auditlogActorFilter.title",defaultMessage:"User"}),u={title:c,tokenInputPlaceholder:i.formatMessage({defaultMessage:"Search user...",id:"auditlogActorFilter.searchActor.placeholder"}),resultSectionTitle:i.formatMessage({defaultMessage:"Select users",id:"auditlogActorFilter.searchActor.resultsTitle"}),componentDebugName:"SearchActorFilter"};return(0,L.jsx)(js.Z,{mode:js.z.Pill,title:c,icon:ce.f,iconStyles:{marginRight:2},items:Array.from(l),hasItemsSelected:(null==a?void 0:a.length)>0,onChange:e=>{d(new Set(e))},renderFooter:!0,allowApplyBatchSelection:!0,keepInputOnItemConfirm:!0,onMenuDismiss:function(e){"applyButton"!==e?function(){const e=a.map(Cs.eW);d(new Set(e))}():function(){const e=Array.from(l).map(Cs.Ij).filter((e=>Boolean(e)));o(e)}()},labelText:u,performRequest:e=>async function(e){let{args:t,auditLogHistoricalUserStore:s,selectedActors:n,environment:a,parentStore:o}=e;const{query:i}=t,{allUserIds:r,allBotIds:l}=s.getState(),d=100,c=await ds.deps.searchActions.loader(),u=await c.searchActorsById({environment:a,query:i,userIds:[...r],botIds:[...l],store:o}),g=[...u.users.map((e=>`notion_user:${e.id}`)),...u.bots.map((e=>`bot:${e.id}`))];if(i.length>0)return g.slice(0,d);const m=n.map(Cs.eW),p=new Set(m),h=g.filter((e=>!p.has(e)));return[...m,...h].slice(0,Math.max(m.length,d))}({args:e,auditLogHistoricalUserStore:s,selectedActors:a,environment:r,parentStore:t}),renderResultMenuItem:(e,n)=>{var a;const o=function(e,t){const s=(0,Cs.Ij)(e);if(!s)return(0,Ms.m3)(void 0);if("notion_user"===s.actorType)return(0,Ms.m3)(function(e,t){const s=se.U6.createChildStore(t,{table:Le.KJ,id:e});return s.getModel()}(s.actorId,t));return(0,Ms.ON)(function(e,t){const s=se.Qx.createChildStore(t,{table:ls.cZ,id:e});return s.getModel()}(s.actorId,t))}(e,t);return(0,L.jsx)(ks,{...n,item:e,tempActorSelections:l,showRemovedBadge:s.isUserOrBotRemoved(null===(a=o.asActor)||void 0===a?void 0:a.id),actor:o,intl:i})},renderToken:()=>null,renderFilter:()=>null,renderItemForSummary:()=>null,addItemLabel:null,focused:!1})}));function ks(e){const{item:t,intl:s,tempActorSelections:a,showRemovedBadge:o,actor:i}=e;return(0,n.createElement)(ws.Z,{...e,key:t,actor:i,useEmailAsTooltip:!0,checkState:a.has(t),userTitle:(0,L.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,Ms.$4)(s,i),o&&(0,L.jsx)(Ss.Z,{children:(0,L.jsx)(h.FormattedMessage,{id:"auditlogActorFilter.removed_user",defaultMessage:"Removed"})})]})})}const zs=(0,h.injectIntl)((function(e){const{parentStore:t}=e,[s,n]=(0,j.AF)(as.Z),[a,o,i]=(0,j.AF)(gs);return(0,L.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:4},children:[(0,L.jsx)(vs.Z,{mode:js.z.Pill,focused:!1,title:(0,L.jsx)(h.FormattedMessage,{id:"auditlogDateFilter.title",defaultMessage:"Date"}),icon:bs.C,value:s.timeRange,showButtons:"footer",onChange:e=>{n({...s,timeRange:e,pageNum:1})}}),(0,L.jsx)(Is,{parentStore:t,auditLogHistoricalUserStore:i,selectedActors:s.actors,onChange:e=>{n({...s,actors:e,pageNum:1})}}),(0,L.jsx)(ys.Z,{parentStore:t,selectedEvents:s.actions,onChange:e=>{n({...s,actions:e,pageNum:1})}})]})}));var Fs=s(61275),Ts=s(75553),Rs=s(893),Ns=s(19044),Os=s(33581),_s=s(58015),Us=s(64921),Ls=s(4708),As=s(77080),Zs=s(21752);function Ps(e){const{auditLogEntry:t,parentStore:s,id:a}=e,o=(0,h.useIntl)(),i=(0,j.VK)((()=>{if(t.actor.actorType===Le.KJ){const e=se.U6.createChildStore(s,{id:t.actor.actorId,table:Le.KJ});if(e.isDefined()&&!e.getIsDeleted())return{actorStore:e};if(t.actor.email)return{avatar:{name:t.actor.name,email:t.actor.email}}}else if(t.actor.actorType===ls.cZ){const e=se.Qx.createChildStore(s,{id:t.actor.actorId,table:ls.cZ});return e.isDefined()?{actorStore:e}:{avatar:{name:t.actor.name,email:t.actor.actorId}}}return{actorStore:void 0}}),[s,t]),r=(0,j.VK)((()=>{var e,t;if(i)return(null===(e=i.actorStore)||void 0===e?void 0:e.getDisplayName(o))??(null===(t=i.avatar)||void 0===t?void 0:t.name)}),[i,o]),l=(0,j.VK)((()=>{var e,t;if(i)return(null===(e=i.actorStore)||void 0===e?void 0:e.getDetail())??(null===(t=i.avatar)||void 0===t?void 0:t.email)}),[i]),d=(0,n.useMemo)((()=>{var e;if(t.actor.actorType===Le.KJ)return(0,Zs.K)(null===(e=t.actor.meta)||void 0===e?void 0:e.spaceRole)}),[t]),c=(0,M.yK)((()=>({container:{display:"block",width:"100%",paddingBlock:6}})),[]),u=(0,n.createRef)();return(0,L.jsx)(U.ZP,{disableTooltip:Bs(u.current),renderTooltip:()=>(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{children:r}),(0,L.jsx)("div",{children:l})]}),placement:U.ug.Bottom,render:e=>(0,L.jsx)("div",{...e,style:c.container,children:(0,L.jsx)(Zs.Z,{id:a,...i,spaceRole:d})})})}function Bs(e){return!!e&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}const Ds={id:"actor",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"auditlog.logTable.userColumn.header",defaultMessage:"User"}),renderCell:e=>{const t=`actor-${e.auditLogEntry.actionName}-${e.id}`;return(0,L.jsx)(Ps,{parentStore:e.parentStore,auditLogEntry:e.auditLogEntry,id:t})},widthData:{width:30},sortable:!1},qs={id:"event",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"auditlog.logTable.eventColumn.header",defaultMessage:"Event"}),renderCell:e=>{const t=`event-${e.auditLogEntry.actionName}-${e.id}`;return(0,L.jsx)(Os.p,{auditLogEntry:e.auditLogEntry,id:t})},widthData:{width:40},sortable:!1},Vs={id:"dateTimeAndMenu",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"auditlog.logTable.dateColumn.header",defaultMessage:"Date"}),renderCell:e=>{const t=`actor-${e.auditLogEntry.actionName}-${e.id}`,s=`event-${e.auditLogEntry.actionName}-${e.id}`,n=`datetime-${e.auditLogEntry.actionName}-${e.id}`;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Ns.t,{auditLogEntry:e.auditLogEntry,id:n}),(0,L.jsx)(Ks,{auditLogEntry:e.auditLogEntry,ids:{actorColumnId:t,eventColumnId:s,dateTimeColumnId:n}})]})},widthData:{width:25},sortable:!0},Es=[Ds,qs,Vs];function Hs(){return(0,L.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"40vh",flexDirection:"column"},children:[(0,L.jsx)("div",{children:(0,L.jsx)(E.Z,{isSecondaryColor:!0,style:{fontWeight:500},children:(0,L.jsx)(h.FormattedMessage,{id:"auditlog.logTable.noResults",defaultMessage:"No results"})})}),(0,L.jsx)(E.Z,{isSecondaryColor:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"auditlog.logTable.noResultsHelpText",defaultMessage:"Try different filters. Logs may take some time to show up."})})]})}function Ks(e){const{auditLogEntry:t,ids:s}=e,n=(0,j.VK)((()=>(0,Ls.F$)()),[]),a=(0,j.VK)((()=>As.default.checkGate("audit_log_event_name_column")?Fs.pz:Fs.C9),[]),o=(0,h.useIntl)(),i=(0,f.O7)(),r=(0,M.Fg)(),l=(0,M.yK)((e=>({container:{display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%"},button:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4}})),[]);return(0,L.jsx)(U.ZP,{delayThreshold:80,placement:U.ug.Bottom,render:e=>(0,L.jsx)("div",{style:l.container,...e,children:(0,L.jsx)(Us.Z,{style:l.button,onClick:()=>{var e;Rs.RD({environment:i,stringValue:(0,Fs.eA)({auditLogEntry:t,intl:o,getAuditLogEventText:(e=s.eventColumnId,t=>{var s;return null===(s=document.getElementById(e))||void 0===s?void 0:s.textContent}),isTeamGuestsEnabled:n,csvColumnNames:a}),copiedMessage:Rs.tq.copiedToClipboard})},children:(0,Ts.U)({width:16,height:16,fill:r.mediumIconColor})})}),renderTooltip:()=>(0,L.jsx)(h.FormattedMessage,{id:"AuditLogSettings.copyAuditLogEvent",defaultMessage:"Copy row"})})}const Ws=(0,h.injectIntl)((function(e){const{searchResponse:t,parentStore:s}=e,[a,o]=(0,j.AF)(as.Z),i=t.results||[],r=t.hasMoreResults,l=Boolean(i.length),d=e=>{const t={...a,pageNum:e};o(t)},c=(0,M.yK)((e=>(0,Me.b)({columnRenderInfo:Es,theme:e,containerMarginTop:0})),[]),u=i.map(((e,t)=>({id:t.toString(),auditLogEntry:e,parentStore:s,isClickable:!1}))),g=(0,n.useCallback)((()=>{const e=a.sortOrder===rs.NQ.CreatedOldest?rs.NQ.CreatedNewest:rs.NQ.CreatedOldest;o({...a,sortOrder:e,pageNum:1})}),[a,o]),m=(0,n.useMemo)((()=>({column:Vs,sortAscending:a.sortOrder===rs.NQ.CreatedOldest})),[a]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Me.D,{hideHeaderRowPadding:!0,showRowBorders:!0,columnRenderInfo:Es,rows:u,sortState:m,onSortStateChanged:g,renderNoRowsComponent:Hs,styles:c}),l?(0,L.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:[(0,L.jsx)(_s.v,{onClick:()=>{d(a.pageNum-1)},disabled:1===a.pageNum,children:(0,L.jsx)(h.FormattedMessage,{id:"auditlog.logTable.previousPage",defaultMessage:"Previous"})}),(0,L.jsx)(_s.v,{disabled:!r,onClick:()=>{d(a.pageNum+1)},children:(0,L.jsx)(h.FormattedMessage,{id:"auditlog.logTable.nextPage",defaultMessage:"Next"})})]}):null]})}));function Gs(e){let{parentStore:t,spacePicker:s}=e;const a=(0,f.O7)(),[o]=(0,j.AF)(ps),[i]=(0,j.AF)(as.Z),r=(0,as.r)(i)!==o.filterStr?void 0:o.cachedResponses[i.pageNum];return(0,n.useEffect)((()=>{t.id&&async function(e){var t,s;const{environment:n,auditLogPointer:a}=e,o=as.Z.getState();ps.startLoading(a,o);const{sortOrder:i,pageSize:r,pageNum:l}=o,d={limit:r,cursor:ps.getCursor(a,o,l),filters:{timeRange:{starting:o.timeRange.starting?os.OQ.toUnixMs(o.timeRange.starting):void 0,ending:o.timeRange.ending?os.OQ.toUnixMs(o.timeRange.ending):void 0},...(null===(t=o.actors)||void 0===t?void 0:t.length)>0?{actors:o.actors}:void 0,...(null===(s=o.actions)||void 0===s?void 0:s.length)>0?{actions:o.actions}:void 0},sort:i||rs.NQ.CreatedNewest};a.table===Q.bx?await fs({environment:n,request:{...d,spaceId:a.id},auditLogPointer:a,filters:o}):a.table===dt.V7?await fs({environment:n,request:{...d,organizationId:a.id},auditLogPointer:a,filters:o}):(0,y.t1)(a.table)}({environment:a,auditLogPointer:{id:t.id,table:t.table}})}),[a,t,i]),(0,n.useEffect)((()=>{xs({environment:a,parentStore:t})}),[a,t]),(0,L.jsxs)(nt,{children:[(0,L.jsx)(it,{title:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.auditLog.title",defaultMessage:"Audit log for"}),s]})}),(0,L.jsxs)("div",{style:{justifyContent:"space-between",display:"flex",paddingTop:4,paddingBottom:12},children:[(0,L.jsx)(zs,{parentStore:t}),(0,L.jsx)(ss.Z,{})]}),"loading"===(null==r?void 0:r.status)&&(0,L.jsx)(ns.Z,{}),"success"===(null==r?void 0:r.status)&&(0,L.jsx)(Ws,{searchResponse:r,parentStore:t})]})}function $s(e){const{organizationId:t,spaceId:s}=e,n=Qt({spaceId:s}),a=ct({organizationId:t}),o=n||a;return o&&t?(0,L.jsx)(Gs,{spacePicker:(0,L.jsx)(wt,{shouldShowOrganizationOption:!0,organizationId:t,currentTabRoute:b.FW,selectedSpaceStore:n}),parentStore:o}):null}var Js=s(85579);function Ys(e){let{spaceStore:t,userStore:s,spacePicker:n,isOrganizationOwner:a}=e;const o=(0,M.yK)((()=>({headingStyle:{marginBottom:14,paddingBottom:0,fontSize:20,fontWeight:ee.Z.fontWeight.medium,display:"flex",justifyContent:"space-between",alignItems:"center"},title:{display:"flex",alignItems:"center",gap:0}})),[]);return(0,L.jsxs)(nt,{children:[(0,L.jsx)(it,{title:(0,L.jsxs)("div",{style:o.title,children:[(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.spaceContentSearch.title",defaultMessage:"Content search for "}),n]})}),(0,L.jsx)(Js.a,{spaceStore:t,userStore:s,isOrganizationOwner:a},t.id)]})}function Xs(e){let{organizationId:t,spaceId:s,tabRoute:n,queryParams:a}=e;const o=(0,j.VK)((()=>bt.default.state.currentUserStore),[]),i=Qt({spaceId:s});return Xt({organizationId:t,spaceId:s,tabRoute:n,queryParams:a}),i&&o&&t?(0,L.jsx)(Ys,{spaceStore:i,userStore:o,spacePicker:(0,L.jsx)(wt,{organizationId:t,currentTabRoute:n,selectedSpaceStore:i}),isOrganizationOwner:!0}):null}var Qs=s(73420);function en(e){let{organizationStore:t}=e;const s=(0,f.O7)(),a=function(){const e=(0,f.O7)(),{organizationOwnerRecordCache:t}=(0,n.useContext)(ie.V),{spaceIds:s}=(0,n.useContext)(N.g);return(0,j.VK)((()=>s.map((s=>new se.H2(e,{id:s,table:Q.bx},{inMemoryRecordCache:t})))),[s,t,e])}(),o=(0,j.VK)((()=>a.reduce(((e,t)=>e+((null==t?void 0:t.getMemberCountFromPublicSpaceData())||0)),0)),[a]);return(0,L.jsxs)("div",{children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.title",defaultMessage:"About your organization"})}),(0,L.jsxs)(A,{direction:"horizontal",children:[(0,L.jsxs)(Z,{tooltipText:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.members.tooltip",defaultMessage:"View all organization members"}),onClick:()=>{v.c4({environment:s,url:(0,x.a5)({organizationId:t.id,tabRoute:b.qR})})},children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.members.title",defaultMessage:"Members"})}),(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,L.jsx)(R.e,{num:o,abbreviateNumber:!1})})]}),(0,L.jsxs)(Z,{tooltipText:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.guests.tooltip",defaultMessage:"View all organization guests"}),onClick:()=>{v.c4({environment:s,url:(0,x.a5)({organizationId:t.id,tabRoute:b.qR})})},children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.guests.title",defaultMessage:"Guests"})}),(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,L.jsx)(R.e,{num:500,abbreviateNumber:!1})})]}),(0,L.jsxs)(Z,{tooltipText:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.workspaces.tooltip",defaultMessage:"View all workspaces within your organization"}),onClick:()=>{v.c4({environment:s,url:(0,x.a5)({organizationId:t.id,tabRoute:b.J7})})},children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.workspaces.title",defaultMessage:"Workspaces"})}),(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,L.jsx)(R.e,{num:a.length,abbreviateNumber:!1})})]}),(0,L.jsxs)(Z,{tooltipText:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.domains.tooltip",defaultMessage:"View the statuses of all the domains within your organization"}),onClick:()=>{v.c4({environment:s,url:(0,x.a5)({organizationId:t.id,tabRoute:b.zc})})},children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.domains.title",defaultMessage:"Verified email domains"})}),(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,L.jsx)(R.e,{num:3,abbreviateNumber:!1})})]}),(0,L.jsxs)(Z,{tooltipText:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.users.tooltip",defaultMessage:"View all of the verified users within your organization"}),onClick:()=>{v.c4({environment:s,url:(0,x.a5)({organizationId:t.id,tabRoute:b.C$,properties:{subtab:"managed-accounts"}})})},children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.about.users.title",defaultMessage:"Verified users"})}),(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,L.jsx)(R.e,{num:2100,abbreviateNumber:!1})})]})]})]})}function tn(e){let{organizationStore:t}=e;return(0,L.jsxs)("div",{children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.recentActivity.title",defaultMessage:"Recent activity"})}),(0,L.jsxs)(A,{direction:"horizontal",children:[(0,L.jsxs)(Z,{children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.recentActivity.activeMembers.title",defaultMessage:"Active members in last 90 days"})}),(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,L.jsx)(R.e,{num:8290,abbreviateNumber:!1})})]}),(0,L.jsxs)(Z,{children:[(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.home.recentActivity.openRequests.title",defaultMessage:"Open requests"})}),(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",colorName:"primary",children:(0,L.jsx)(R.e,{num:3,abbreviateNumber:!1})})]})]})]})}var sn=s(84747),nn=s(72141),an=s(90965),on=s(23124),rn=s(89728);const ln=5,dn=23,cn=38,un=5,gn=3;function mn(e){let{organizationId:t,renderHeading:s,spacePageSize:a,hideHeaderSection:o}=e;const i=fn(),r=(0,M.yK)((e=>({linkButton:{fontWeight:ee.Z.fontWeight.medium,fontSize:ee.Z.fontSize.UIRegular.desktop,color:e.mediumTextColor}})),[]),l=a??gn,d=(0,f.O7)(),{spaceIds:c}=(0,n.useContext)(N.g),[u,g]=(0,n.useState)(l),m=c.slice(0,u),p=c.length-m.length;return(0,L.jsxs)("div",{children:[o?null:(0,L.jsxs)(Qs.X2,{alignItems:"center",justifyContent:"space-between",children:[s?s():(0,L.jsx)(F.q,{styleName:"Heading-17px/Semibold",as:"h2",children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.workspaces",defaultMessage:"Workspaces"})}),(0,L.jsx)(rn.Z,{onClick:()=>v.c4({environment:d,url:(0,x.a5)({organizationId:t,tabRoute:b.J7})}),style:r.linkButton,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.workspaces.viewAll",defaultMessage:"View all â†’"})})]}),(0,L.jsxs)("div",{style:i.workpacesBox,children:[m.map(((e,t)=>(0,L.jsx)(pn,{spaceId:e,rowIndex:t},`workspaceRow-${e}`))),p>0&&(0,L.jsx)("div",{style:{...i.workspaceRow,paddingTop:6,paddingBottom:6},children:(0,L.jsx)(rn.Z,{onClick:()=>g(u+l),style:r.linkButton,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.moreWorkspaces",defaultMessage:"{count, plural, one {+{count} more workspace} other {+{count} more workspaces}}",values:{count:p}})})})]})]})}function pn(e){let{spaceId:t,rowIndex:s}=e;const a=Qt({spaceId:t}),o=(0,f.O7)(),i=fn(),{updateCacheWithRecordMap:r}=(0,n.useContext)(ie.V),[l,d]=(0,n.useState)(),[c,u]=(0,n.useState)(!0);(0,sn.Z)((async()=>{const e=await S.getTeamsForOrganizationSpace(o,{spaceId:t});if("success"===e.type){const{teamIds:t}=e.data;r({data:e.data}),d(t.length)}u(!1)}));const[g,m]=(0,n.useState)([]),[p,x]=(0,n.useState)(!0);(0,sn.Z)((async()=>{const e=await S.getVisibleUsers(o,{spaceId:t});if("success"===e.type){let t;t="visibleUsers"in e.data?e.data.visibleUsers:e.data.users,m(t)}x(!1)}));const b=(0,j.VK)((()=>g.filter(an.du).filter((e=>!e.isTeamGuest&&e.isPageGuest)).length),[g]),{name:v,icon:M,ownerIds:C,memberCount:w}=(0,j.VK)((()=>{const e=g.filter((e=>(0,nn.zz)(e.role))).map((e=>{let{userId:t}=e;return t})),t=g.filter((e=>(0,nn.Jy)(e.role))).length;return{name:null==a?void 0:a.getName(),icon:null==a?void 0:a.getIcon(),ownerIds:e,memberCount:t}}),[g,a]),I=0!==s?i.workspaceRow:{...i.workspaceRow,borderTop:"none"};return(0,L.jsx)("div",{style:I,children:(0,L.jsxs)(on.rj,{children:[(0,L.jsx)(on.r8,{row:1,col:1,colEnd:5,children:(0,L.jsxs)(Qs.X2,{gap:12,alignItems:"center",grow:1,children:[(0,L.jsx)(Mt.Z,{disabled:!0,icon:M,isEmptyPage:!1,title:v,size:cn,isLarge:!0}),(0,L.jsxs)(Qs.sg,{gap:4,children:[(0,L.jsx)(F.q,{styleName:"Heading-17px/Regular",children:v}),(0,L.jsx)(F.q,{styleName:"Body-12px/Regular",colorName:"secondary",children:w>0?(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.workspace.memberCount",defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",values:{memberCount:w}}):(0,L.jsx)(z.Z,{style:i.byline})})]})]})}),(0,L.jsx)(on.r8,{row:1,col:5,children:(0,L.jsxs)(Qs.sg,{gap:8,children:[(0,L.jsx)(E.Z,{isSmall:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.workspaceOwners",defaultMessage:"Workspace owners"})}),(0,L.jsx)(Qs.X2,{children:p?(0,L.jsx)(z.Z,{style:i.owners}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(R.e,{num:C.length,abbreviateNumber:!1}),(0,L.jsx)(hn,{ownerIds:C})]})})]})}),(0,L.jsx)(on.r8,{row:1,col:6,children:(0,L.jsxs)(Qs.sg,{gap:8,children:[(0,L.jsx)(E.Z,{isSmall:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.members",defaultMessage:"Members"})}),p?(0,L.jsx)(z.Z,{style:i.number}):(0,L.jsx)(R.e,{num:w,abbreviateNumber:!1})]})}),(0,L.jsx)(on.r8,{row:1,col:7,children:(0,L.jsxs)(Qs.sg,{gap:8,children:[(0,L.jsx)(E.Z,{isSmall:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.guests",defaultMessage:"Guests"})}),p?(0,L.jsx)(z.Z,{style:i.number}):(0,y.$K)(b)?(0,L.jsx)(R.e,{num:b,abbreviateNumber:!1}):(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.guests.undefined",defaultMessage:"Unknown"})]})}),(0,L.jsx)(on.r8,{row:1,col:8,children:(0,L.jsxs)(Qs.sg,{gap:8,children:[(0,L.jsx)(E.Z,{isSmall:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.teamspaces",defaultMessage:"Teamspaces"})}),c?(0,L.jsx)(z.Z,{style:i.number}):(0,y.$K)(l)?(0,L.jsx)(R.e,{num:l,abbreviateNumber:!1}):(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsWorkspacesOverview.teams.undefined",defaultMessage:"Unknown"})]})})]})})}function hn(e){let{ownerIds:t}=e;const s=fn(),n=(0,f.O7)(),a=(t??[]).slice(0,un),o=(0,j.VK)((()=>a.map((e=>new se.U6(n,{table:Le.KJ,id:e},{userId:e})))),[a,n]);return(0,L.jsx)("div",{style:s.ownerAvatars,children:o.map((e=>(0,L.jsx)(Ze.Z,{userStore:e,style:s.avatar,size:dn,avatarShouldShowShadow:!0,hasTooltip:!0},e.id)))})}function fn(){return(0,M.yK)((e=>({workpacesBox:{marginTop:6,borderRadius:6,border:`1px solid ${e.stroke.deemphasized}`},workspaceRow:{padding:"12px 16px",borderTop:`1px solid ${e.stroke.deemphasized}`},avatar:{width:dn,height:dn,borderRadius:dn,marginRight:-ln,position:"relative"},ownerAvatars:{display:"flex",alignItems:"center",position:"relative",flexDirection:"row-reverse",marginLeft:4+ln,marginTop:-2,transform:"translateZ(0)"},number:{borderRadius:4,height:24,width:40},byline:{borderRadius:4,height:14,width:80},owners:{borderRadius:4,height:24,width:100}})),[])}function xn(e){let{organizationId:t}=e;const s=ct({organizationId:t});return s?(0,L.jsxs)(nt,{children:[(0,L.jsx)(it,{title:(0,L.jsx)(h.FormattedMessage,{id:"organizationHome.title",defaultMessage:"Home"})}),(0,L.jsxs)(Qs.sg,{gap:16,children:[(0,L.jsx)(tn,{organizationStore:s}),(0,L.jsx)(en,{organizationStore:s}),(0,L.jsx)(mn,{organizationId:s.id,renderHeading:()=>(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:(0,L.jsx)(h.FormattedMessage,{id:"organizationHome.workspaces.title",defaultMessage:"Workspaces in organization"})})})]})]}):null}var bn=s(86517),yn=s(47969),vn=s(29369);const jn=(0,h.defineMessages)({organizationOwnerLabel:{id:"organizationMember.owner.label",defaultMessage:"Organization owner"}});var Mn=s(79944),Cn=s(88775);const Sn={members:[],filters:{},cursor:void 0,loading:!1,error:void 0,hasNextPage:!0};var wn=function(e){return e.OrganizationMember="organization-member",e.Loading="loading",e}(wn||{});const In=[{id:"1",isClickable:!1,type:wn.Loading},{id:"2",isClickable:!1,type:wn.Loading},{id:"3",isClickable:!1,type:wn.Loading}],kn=[{id:"actor",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.userColumn.header",defaultMessage:"User"}),renderCell:e=>e.type===wn.Loading?(0,L.jsx)(De,{}):(0,L.jsx)(Be,{userId:e.organizationMember.userId}),widthData:{width:70},sortable:!0},{id:"role",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.roleColumn.header",defaultMessage:"Highest role"}),renderCell:e=>e.type===wn.Loading?(0,L.jsx)(we.H,{}):(0,L.jsx)(Tn,{organizationMember:e.organizationMember}),widthData:{width:70},sortable:!0},{id:"spaces",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.spacesColumn.header",defaultMessage:"Workspaces"}),renderCell:e=>e.type===wn.Loading?(0,L.jsx)(Se.z,{}):(0,L.jsx)(Rn,{organizationMember:e.organizationMember}),widthData:{width:70},sortable:!0},{id:"groups",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.groupsColumn.header",defaultMessage:"Groups"}),renderCell:e=>e.type===wn.Loading?(0,L.jsx)(Se.z,{}):(0,L.jsx)(On,{organizationMember:e.organizationMember}),widthData:{width:70},sortable:!0},{id:"teamspaces",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.teamsColumn.header",defaultMessage:"Teamspaces"}),renderCell:e=>e.type===wn.Loading?(0,L.jsx)(Se.z,{}):(0,L.jsx)(Un,{organizationMember:e.organizationMember}),widthData:{width:70},sortable:!0}];function zn(e){let{organizationStore:t}=e;const s=(0,M.yK)((e=>(0,Me.b)({columnRenderInfo:kn,theme:e,containerMarginTop:0})),[]),{loadNextPageOfOrganizationMembers:a,members:o,loading:i}=function(e){let{organizationStore:t}=e;const s=(0,f.O7)(),{updateCacheWithRecordMap:a}=(0,n.useContext)(ie.V),[o,i]=(0,n.useState)(Sn),r=(0,n.useRef)(!1),l=(0,n.useRef)(Boolean(t.id)),d=(0,n.useRef)({}),c=(0,n.useCallback)((async()=>{if(!t.id)return;const e=o.loading,n=o.error;if(o.hasNextPage&&!e&&!n){i((e=>({...e,loading:!0}))),d.current=o.filters;try{const e=await S.getMembersInOrganization(s,{organizationId:t.id,cursor:o.cursor,filters:o.filters});if("success"!==e.type){if("failed"===e.type)throw e.error;return(0,y.t1)(e)}a({data:e.data}),i((t=>{const s=[...t.members,...e.data.members];return{...t,members:s,loading:!1,error:void 0,cursor:e.data.nextCursor,hasNextPage:e.data.hasNextPage}}))}catch(r){const e=(0,re.t)(r);i((t=>({...t,loading:!1,error:e})))}}}),[s,t.id,o,a]);(0,n.useEffect)((()=>{l.current||r.current||!Boolean(t.id)||(c(),r.current=!0)}),[t,c]),(0,n.useEffect)((()=>{le.Xy(d.current,o.filters)||c()}),[o.filters,c]);const u=(0,n.useCallback)((e=>{i((t=>({...t,filters:{...t.filters,...e}})))}),[]);return{loadNextPageOfOrganizationMembers:c,members:o.members,filters:o.filters,loading:o.loading,error:o.error,hasNextPage:o.hasNextPage,cursor:o.cursor,setFilters:u}}({organizationStore:t}),r=o.map((e=>({organizationMember:e,id:e.userId,isClickable:!1,type:wn.OrganizationMember}))),l=i?[...r,...In]:r;return(0,L.jsx)(Me.D,{columnRenderInfo:kn,rows:l,renderNoRowsComponent:()=>(0,L.jsx)(Fn,{loading:!1}),styles:s,onLoadMore:a})}function Fn(e){const t=(0,M.yK)((()=>({text:{marginTop:15,marginBottom:40,textAlign:"center"}})),[]);return(0,L.jsx)(E.Z,{isSmall:!0,style:t.text,children:!e.loading&&(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.empty",defaultMessage:"No members found."})})}function Tn(e){let{organizationMember:t}=e;const s=(0,h.useIntl)(),n=function(e){if("editor"===e.organizationRole)return jn.organizationOwnerLabel;const t=e.spacesInfo.length>0?e.spacesInfo[0].role:"none";return(0,bn.ZH)(t)}(t);return(0,L.jsx)(E.Z,{children:s.formatMessage(n)})}function Rn(e){let{organizationMember:t}=e;const s=t.spacesInfo.map((e=>({key:e.spaceId,action:()=>{},render:t=>(0,L.jsx)(Nn,{...t,spaceId:e.spaceId,userRole:e.role})})));return(0,L.jsx)(Se.N,{title:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.spacesColumn.dropdownTitle",defaultMessage:"{count, plural, one {{count} workspace} other {{count} workspaces}}",values:{count:t.spacesInfo.length}}),items:s,itemMaxWidth:500})}function Nn(e){const{spaceId:t}=e,s=(0,h.useIntl)(),n=Ln(),a=Qt({spaceId:t}),o=(0,j.VK)((()=>{if(a)return{name:a.getName(),icon:a.getIcon(),numMembers:a.getMemberCountFromPublicSpaceData(),plan:a.getSubscriptionTier()}}),[a]);return o?(0,L.jsxs)("div",{style:n.container,children:[(0,L.jsx)("div",{style:n.iconContainer,children:(0,L.jsx)(Mt.Z,{disabled:!0,icon:o.icon,isEmptyPage:!1,size:28,title:o.name,isLarge:!0,emojiSize:24,isRaw:!1})}),(0,L.jsxs)("div",{style:n.textContainer,children:[(0,L.jsx)(E.Z,{style:n.name,children:o.name}),(0,L.jsx)(E.Z,{style:n.byline,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.workspaceItem.planAndMembersCount",defaultMessage:"{plan} Â· {numMembers, plural, one {{numMembers} member} other {{numMembers} members}}",values:{plan:o.plan,numMembers:o.numMembers}})})]}),(0,L.jsx)("div",{children:(0,L.jsx)(E.Z,{children:s.formatMessage((0,bn.ZH)(e.userRole))})})]}):null}function On(e){let{organizationMember:t}=e,s=0;for(const a of t.spacesInfo)s+=a.userGroupIds.length;if(0===s)return(0,L.jsx)(E.Z,{children:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.groupsColumn.noGroups",defaultMessage:"No groups"})});const n=[];for(const a of t.spacesInfo)0!==a.userGroupIds.length&&n.push({key:a.spaceId,action:()=>{},render:e=>(0,L.jsx)(_n,{...e,spaceId:a.spaceId,userGroupIds:a.userGroupIds})});return(0,L.jsx)(Se.N,{title:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.groupsColumn.dropdownTitle",defaultMessage:"{groupsCount, plural, one {{groupsCount} total group} other {{groupsCount} total groups}}",values:{groupsCount:s}}),items:n,itemMaxWidth:500})}function _n(e){const{spaceId:t,userGroupIds:s}=e,n=(0,M.yK)((()=>({container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",gap:12,overflow:"hidden",padding:5},textContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",width:"100%"},iconContainer:{alignSelf:"center"}})),[]),a=Qt({spaceId:t}),o=(0,j.VK)((()=>{if(!a)return;const e=a.getPermissionGroups().filter((e=>s.includes(e.id)));return{name:a.getName(),icon:a.getIcon(),userPermissionGroups:e}}),[a,s]);return a&&o?(0,L.jsxs)("div",{style:n.container,children:[(0,L.jsx)("div",{style:n.iconContainer,children:(0,L.jsx)(Mt.Z,{disabled:!0,icon:o.icon,isEmptyPage:!1,size:28,title:o.name,isLarge:!0,emojiSize:24,isRaw:!1})}),(0,L.jsx)("div",{style:n.textContainer,children:(0,L.jsx)(F.q,{styleName:"Body-14px/Semibold",children:o.name})}),(0,L.jsx)("div",{children:(0,L.jsx)(Mn.O,{spaceStore:a,groups:o.userPermissionGroups,onGroupClick:()=>{}})})]}):null}function Un(e){let{organizationMember:t}=e,s=0;for(const a of t.spacesInfo)s+=a.userTeamIds.length;if(0===s)return(0,L.jsx)(E.Z,{children:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.teamsColumn.noTeams",defaultMessage:"No teams"})});const n=[];for(const a of t.spacesInfo){if(0===a.userTeamIds.length)continue;const e=a.role;"none"!==e&&n.push({key:a.spaceId,action:()=>{},render:s=>(0,L.jsx)(An,{...s,spaceId:a.spaceId,userTeamIds:a.userTeamIds,userId:t.userId,role:(0,yn.qF)(e)})})}return(0,L.jsx)(Se.N,{title:(0,L.jsx)(h.FormattedMessage,{id:"organizationMembersTable.teamsColumn.dropdownTitle",defaultMessage:"{teamsCount, plural, one {{teamsCount} total team} other {{teamsCount} total teams}}",values:{teamsCount:s}}),items:n,itemMaxWidth:500})}function Ln(){return(0,M.yK)((()=>({container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",gap:12,overflow:"hidden",padding:5},textContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",width:"100%"},name:{fontSize:14,fontWeight:500},iconContainer:{alignSelf:"center"},byline:{lineHeight:1.3,fontSize:12,opacity:.5}})),[])}function An(e){const{spaceId:t,userTeamIds:s,userId:a,role:o}=e,i=Ln(),r=(0,f.O7)(),{organizationOwnerRecordCache:l}=(0,n.useContext)(ie.V),d=(0,j.VK)((()=>{if(!t)return;const e=new se.H2(r,{id:t,table:Q.bx},{inMemoryRecordCache:l});return{name:e.getName(),icon:e.getIcon()}}),[t,l,r]),c=(0,j.VK)((()=>s.map((e=>new se.zX(r,{id:e,table:vn.e0},{inMemoryRecordCache:l})))),[s,l,r]);return d&&c?(0,L.jsxs)("div",{style:i.container,children:[(0,L.jsx)("div",{style:i.iconContainer,children:(0,L.jsx)(Mt.Z,{disabled:!0,icon:d.icon,isEmptyPage:!1,size:28,title:d.name,isLarge:!0,emojiSize:24,isRaw:!1})}),(0,L.jsx)("div",{style:i.textContainer,children:(0,L.jsx)(E.Z,{style:i.name,children:d.name})}),(0,L.jsx)("div",{children:(0,L.jsx)(Cn.ZP,{teamStores:c,member:{userId:a,role:o}})})]}):null}var Zn=function(e){return e.Members="members",e}(Zn||{});const Pn=[{name:Zn.Members,tab:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.people.members.title",defaultMessage:"Members"})}];function Bn(e){const{organizationId:t,subtab:s}=e,a=(0,f.O7)(),o=(0,n.useMemo)((()=>function(e){Zn.Members;return Zn.Members}()),[s]),i=ct({organizationId:t});if(!i)return null;return(0,L.jsxs)(nt,{children:[(0,L.jsx)(it,{title:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.people.title",defaultMessage:"People"})}),(0,L.jsx)(rt,{tabConfig:{tabs:Pn,currentTabName:o,updateTab:function(e){v.c4({environment:a,url:(0,x.a5)({organizationId:t,tabRoute:b.qR,properties:{subtab:e}})})}}}),(0,L.jsx)(Dn,{currentTab:o,organizationStore:i})]})}function Dn(e){const{organizationStore:t}=e;if(e.currentTab===Zn.Members)return(0,L.jsx)(zn,{organizationStore:t});(0,y.t1)(e.currentTab)}var qn=s(42402);function Vn(e){let{onClick:t,children:s,style:n}=e;const a=(0,M.yK)((e=>({icon:{width:18,height:18,fill:e.lightIconColor,marginLeft:6},button:{marginLeft:-6,maxWidth:"max-content"}})),[]),o=n?{...a.button,...n}:a.button;return(0,L.jsxs)(rn.Z,{isSmall:!0,onClick:t,shouldShrink:!0,style:o,children:[s,(0,Ne.R)(a.icon)]})}function En(e){return"none"===e||"everyone"!==e&&void(void 0!==e&&(0,y.t1)(e))}function Hn(e){return!0===e?"none":!1===e?"everyone":void(void 0!==e&&(0,y.t1)(e))}function Kn(e){return(0,L.jsx)(qn.Z,{onClick:()=>!1,children:e})}const Wn={name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.publishSites.title",defaultMessage:"Publish Sites"}),getDescription:e=>{let{publishedSitesCount:t,type:s}=e;return"space"===s?(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.publishSites.space.description",defaultMessage:"Pages can be published to the web, and visible to people outside the workspace. This workspace has <publishedsiteslink> {publishedSitesCount, plural, one {1 published site} other {{publishedSitesCount} published sites}}</publishedsiteslink>",values:{publishedsiteslink:Kn,publishedSitesCount:t}}):"organization"===s?(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.publishSites.organization.description",defaultMessage:"Pages can be published to the web, and visible to people outside the workspace. Your organization has <publishedsiteslink> {publishedSitesCount, plural, one {1 published site} other {{publishedSitesCount} published sites}}</publishedsiteslink>",values:{publishedsiteslink:Kn,publishedSitesCount:t}}):void(0,y.t1)(s)},getOptions:ga,getValueFromStore:e=>Hn(e.getDisablePublicAccess()),onSelectValue:e=>({disable_public_access:En(e)})},Gn={name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.exportPages.title",defaultMessage:"Export Pages"}),getDescription:()=>(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.exportPages.description",defaultMessage:"Pages can be exported as Markdown, CSV, or PDF"}),getOptions:ga,getValueFromStore:e=>Hn(e.getDisableExport()),onSelectValue:e=>({disable_export:En(e)})},$n={name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.duplicatePages.title",defaultMessage:"Duplicate pages to other workspaces"}),getDescription:()=>(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.duplicatePages.description",defaultMessage:"Pages can be duplicated to other workspaces using the <b>Move to</b> or <b>Duplicate to</b> actions",values:{b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,L.jsx)("b",{children:t})}}}),getOptions:ga,getValueFromStore:e=>Hn(e.getDisableMoveToSpace()),onSelectValue:e=>({disable_move_to_space:En(e)})};function Jn(e){return(0,L.jsx)(qn.Z,{onClick:()=>!1,children:e})}function Yn(e){return(0,L.jsx)(qn.Z,{onClick:()=>!1,children:e})}const Xn={name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.guestInvites.title",defaultMessage:"Guest Invites"}),getDescription:e=>{let{guestCount:t,guestRequestCount:s,type:n}=e;return"space"===n?(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.guestInvites.space.description",defaultMessage:"This workspace currently has <gueststablink>{guestCount, plural, one {1 guest} other {{guestCount} guests}}</gueststablink> and <guestrequesttablink> {guestRequestCount, plural, one {1 guest request} other {{guestRequestCount} guest requests}}</guestrequesttablink>",values:{gueststablink:Jn,guestCount:t,guestrequesttablink:Yn,guestRequestCount:s}}):"organization"===n?(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.guestInvites.organization.description",defaultMessage:"Your organization currently has <gueststablink> {guestCount, plural, one {1 guest} other {{guestCount} guests}}</gueststablink> and <guestrequesttablink> {guestRequestCount, plural, one {1 guest request} other {{guestRequestCount} guest requests}}</guestrequesttablink>",values:{gueststablink:Jn,guestCount:t,guestrequesttablink:Yn,guestRequestCount:s}}):void(0,y.t1)(n)},getOptions:()=>[{key:"everyone",label:ia},{key:"request",label:oa},{key:"none",label:ra}],getValueFromStore:e=>function(e){let{store:t,guestRequestStore:s}=e;const n=t.getDisableGuests(),a=(s||t).getEnableGuestInviteRequest();return!1===n?"everyone":!0===n&&!0===a?"request":!0===n?"none":void 0}({store:e}),onSelectValue:e=>"none"===e?{disable_guests:!0,enable_guest_invite_requests:!1}:"request"===e?{disable_guests:!0,enable_guest_invite_requests:!0}:"everyone"===e?{disable_guests:!1,enable_guest_invite_requests:!1}:void 0===e?{disable_guests:void 0,enable_guest_invite_requests:void 0}:void(0,y.t1)(e)},Qn={name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.memberRequests.title",defaultMessage:"Member requests"}),getDescription:()=>(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.memberRequests.description",defaultMessage:"Existing members can request to add new members",values:{b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,L.jsx)("b",{children:t})}}}),getOptions:ma,getValueFromStore:e=>{const t=e.getDisableMembershipRequests();return!0===t?"no":!1===t?"yes":void(void 0!==t&&(0,y.t1)(t))},onSelectValue:e=>"yes"===e?{disable_membership_requests:!1}:"no"===e?{disable_membership_requests:!0}:void 0===e?{disable_membership_requests:void 0}:void(0,y.t1)(e)},ea={name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.joinRequests.title",defaultMessage:"Join requests"}),getDescription:()=>(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.joinRequests.description",defaultMessage:"Anyone with a teamspace invite link can request to join the workspace",values:{b:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,L.jsx)("b",{children:t})}}}),getOptions:ga,getValueFromStore:e=>Hn(e.getDisableExternalMembershipRequests()),onSelectValue:e=>({disable_external_membership_requests:En(e)})};function ta(e){return(0,L.jsx)(qn.Z,{onClick:()=>!1,children:e})}const sa={name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.integrationRestrictions.title",defaultMessage:"Members can add integrations"}),getDescription:e=>{let{approvedIntegrationsCount:t,type:s}=e;return"space"===s?(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.integrationRestrictions.space.description",defaultMessage:"Set whether members can add any integrations, or only approved connections. This workspace has <approvedintegrationslink> {approvedIntegrationsCount, plural, one {1 approved integration} other {{approvedIntegrationsCount} approved integrations}}</approvedintegrationslink>",values:{approvedintegrationslink:ta,approvedIntegrationsCount:t}}):"organization"===s?(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.integrationRestrictions.organization.description",defaultMessage:"Set whether members can add any integrations, or only approved connections. Your organization has <approvedintegrationslink> {approvedIntegrationsCount, plural, one {1 approved integration} other {{approvedIntegrationsCount} approved integrations}}</approvedintegrationslink>",values:{approvedintegrationslink:ta,approvedIntegrationsCount:t}}):void(0,y.t1)(s)},getOptions:()=>[{key:"approved",label:la},{key:"none",label:da}],getValueFromStore:e=>{const t=e.getIntegrationRestrictions();return"approved_only"===t||"approved_or_built_by_notion"===t?"approved":"none"===t?"none":void(void 0!==t&&(0,y.t1)(t))},onSelectValue:e=>"approved"===e?{integration_restrictions:"approved_only"}:"none"===e||void 0===e?{integration_restrictions:void 0}:void(0,y.t1)(e)},na={name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.notionIntegrations.title",defaultMessage:"Auto-approve integrations built by Notion"}),getDescription:()=>(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.notionIntegrations.description",defaultMessage:"View <notionintegrationslink>all integrations built by Notion</notionintegrationslink>",values:{notionintegrationslink:e=>(0,L.jsx)(qn.Z,{onClick:()=>!1,children:e})}}),getOptions:ma,getValueFromStore:e=>{const t=e.getIntegrationRestrictions();return"approved_or_built_by_notion"===t?"yes":"approved_only"===t||"none"===t?"no":void(void 0!==t&&(0,y.t1)(t))},onSelectValue:e=>"yes"===e?{integration_restrictions:"approved_or_built_by_notion"}:"no"===e||void 0===e?{integration_restrictions:"approved_only"}:void(0,y.t1)(e)},aa=(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.value.letSpaceOwnersDecide",defaultMessage:"Let workspace owners decide"}),oa=(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.value.byRequest",defaultMessage:"By request only"}),ia=(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.value.everyone",defaultMessage:"Everyone"}),ra=(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.value.noOne",defaultMessage:"No one"}),la=(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.value.onlyApproved",defaultMessage:"Only from approved list"}),da=(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.value.noRestrictions",defaultMessage:"No restrictions"}),ca=(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.value.yes",defaultMessage:"Yes"}),ua=(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.setting.value.no",defaultMessage:"No"});function ga(){return[{key:"everyone",label:ia},{key:"none",label:ra}]}function ma(){return[{key:"yes",label:ca},{key:"no",label:ua}]}function pa(e){let{headerMessage:t,store:s,getItem:n}=e;return(0,L.jsxs)(Qs.sg,{gap:16,children:[(0,L.jsx)(F.q,{colorName:"secondary",styleName:"Body-14px/Regular",children:t}),(0,L.jsx)(pe.Z,{size:1}),(0,L.jsx)(ha,{store:s,getItem:n}),(0,L.jsx)(pe.Z,{size:1}),(0,L.jsx)(fa,{store:s,getItem:n}),(0,L.jsx)(pe.Z,{size:1}),(0,L.jsx)(xa,{store:s,getItem:n})]})}function ha(e){let{store:t,getItem:s}=e;const n=t.pointer.table;return(0,L.jsxs)(Qs.sg,{gap:12,children:[(0,L.jsx)(F.q,{styleName:"Heading-17px/Medium",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.security.organizationSettings.publishingExporting.title",defaultMessage:"Publishing & exporting content"})}),(0,L.jsx)(ba,{store:t,config:Wn,messageArgs:{publishedSitesCount:12,type:n},getItem:s}),(0,L.jsx)(ba,{store:t,config:Gn,messageArgs:{type:n},getItem:s}),(0,L.jsx)(ba,{store:t,config:$n,messageArgs:{type:n},getItem:s})]})}function fa(e){let{store:t,getItem:s}=e;const n=t.pointer.table;return(0,L.jsxs)(Qs.sg,{gap:12,children:[(0,L.jsxs)(Qs.sg,{gap:8,children:[(0,L.jsx)(F.q,{styleName:"Heading-17px/Medium",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.security.organizationSettings.invitations.title",defaultMessage:"Inviting members & guests"})}),(0,L.jsx)(F.q,{colorName:"secondary",styleName:"Body-14px/Regular",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.security.organizationSettings.invitations.description",defaultMessage:"You can make certain features request-only. Requests can be approved by a workspace or organization owner. You can view all requests <requestslink>here</requestslink>",values:{requestslink:e=>(0,L.jsx)(qn.Z,{onClick:()=>!1,children:e})}})})]}),(0,L.jsx)(ba,{store:t,config:Xn,messageArgs:{guestCount:12,guestRequestCount:12,type:n},getItem:s}),(0,L.jsx)(ba,{store:t,config:Qn,messageArgs:{type:n},getItem:s}),(0,L.jsx)(ba,{store:t,config:ea,messageArgs:{type:n},getItem:s})]})}function xa(e){let{store:t,getItem:s}=e;const n=t.pointer.table,a=(0,j.VK)((()=>sa.getValueFromStore(t)),[t]);return(0,L.jsxs)(Qs.sg,{gap:12,children:[(0,L.jsx)(F.q,{styleName:"Heading-17px/Medium",children:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.security.organizationSettings.integrations.title",defaultMessage:"Integrations"})}),(0,L.jsx)(ba,{store:t,config:sa,messageArgs:{approvedIntegrationsCount:12,type:n},getItem:s}),"approved"===a&&(0,L.jsx)(ba,{store:t,config:na,messageArgs:{type:n},getItem:s})]})}function ba(e){let{store:t,config:s,messageArgs:n,getItem:a}=e;return(0,L.jsx)(P,{padding:8,shouldPaddingOverflowGrid:!0,title:s.name,byline:s.getDescription(n),item:a({store:t,config:s})})}function ya(e){let{organizationStore:t}=e;const{spaceIds:s}=(0,n.useContext)(N.g),a=(0,f.O7)(),o=()=>{v.c4({environment:a,url:(0,x.a5)({organizationId:t.id,tabRoute:b.J7})})},i=(0,j.VK)((()=>null==t?void 0:t.getName()),[t]),r=(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.security.organizationSettings.description",defaultMessage:"Organization owners can enforce certain security settings for {workspaceCount, plural, one {the <workspaceslink>1 workspace</workspaceslink>} other {all <workspaceslink>{workspaceCount} workspaces</workspaceslink>}} in {organizationName}. Once a setting is enforced, workspace owners will not be able to change it. <guidelink>Learn more</guidelink>.",values:{workspaceCount:s.length,workspaceslink:e=>(0,L.jsx)(qn.Z,{onClick:o,children:e}),organizationName:i,guidelink:e=>(0,L.jsx)(qn.Z,{href:"",external:!0,children:e})}});return(0,L.jsx)(pa,{headerMessage:r,store:t,getItem:e=>{let{config:s}=e;return(0,L.jsx)(va,{organizationStore:t,config:s})}})}function va(e){var t;let{organizationStore:s,config:n}=e;const a=n.getOptions(),o=(0,j.VK)((()=>n.getValueFromStore(s)),[s,n]),i=null===(t=a.find((e=>e.key===o)))||void 0===t?void 0:t.label,r=aa;return(0,L.jsx)(Vn,{onClick:()=>!1,style:{marginLeft:20},children:i?(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",children:i}):(0,L.jsx)(F.q,{styleName:"Body-14px/Medium",colorName:"secondary",children:r})})}var ja=function(e){return e.OrganizationSettings="organization-settings",e.ByWorkspace="by-workspace",e}(ja||{});const Ma=[{name:ja.OrganizationSettings,tab:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.security.subTab.organizationSettings.title",defaultMessage:"Organization Settings"})},{name:ja.ByWorkspace,tab:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.security.subTab.byWorkspace.title",defaultMessage:"By Workspace"})}];function Ca(e){let{organizationId:t,subtab:s,queryParams:a}=e;const o=(0,f.O7)(),i=(0,n.useMemo)((()=>function(e){if("by-workspace"===e)return ja.ByWorkspace;return ja.OrganizationSettings}(s)),[s]),r=ct({organizationId:t});if(!r)return null;return(0,L.jsx)(nt,{children:(0,L.jsxs)(it,{title:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.security.title",defaultMessage:"Security"}),children:[(0,L.jsx)(rt,{tabConfig:{tabs:Ma,currentTabName:i,updateTab:e=>{v.c4({environment:o,url:(0,x.a5)({organizationId:t,tabRoute:b.HI,properties:{subtab:e},queryParams:a})})}}}),(0,L.jsx)(Sa,{currentTab:i,organizationStore:r})]})})}function Sa(e){switch(e.currentTab){case ja.OrganizationSettings:return(0,L.jsx)(ya,{organizationStore:e.organizationStore});case ja.ByWorkspace:return(0,L.jsx)("div",{children:"By Workspace"});default:(0,y.t1)(e.currentTab)}}var wa=s(29302),Ia=s(21213),ka=s(74194),za=s(68785),Fa=s(58297);function Ta(e){let{isOpen:t,handleClose:s,currentOrganizationName:n,organizationId:a}=e;return(0,L.jsx)(he.Z,{open:t,onDismiss:s,showCloseIcon:!0,preventHideChildrenWhileOpening:!0,render:()=>(0,L.jsx)(Ra,{currentOrganizationName:n,handleClose:s,organizationId:a})})}function Ra(e){let{currentOrganizationName:t,handleClose:s,organizationId:a}=e;const o=(0,M.yK)((e=>({modalBody:{padding:20,minWidth:300,display:"flex",alignItems:"center",flexDirection:"column"},nameInput:{marginTop:24,marginBottom:24},icon:{height:36,width:36,fill:e.mediumIconColor,marginBottom:8},submitButton:{marginBottom:8,width:"100%"}})),[]),i=(0,f.O7)(),{updateCacheWithRecordMap:r}=(0,n.useContext)(ie.V),[l,d]=(0,n.useState)(t),[c,u]=(0,n.useState)(!1),g=(0,n.useCallback)((e=>{d(e.target.value)}),[]),m=(0,n.useCallback)((async e=>{if(!e)return;u(!0);const t=await S.updateOrganization(i,{organizationId:a,name:e});"success"===t.type?r({data:t.data}):w.showErrorMessage((0,I.wf)(k.default.getIntl(),t)),u(!1),s()}),[s,i,a,r]);return(0,L.jsxs)("div",{style:o.modalBody,children:[(0,Ia.T)(o.icon),(0,L.jsx)(F.q,{styleName:"Heading-17px/Medium",colorName:"primary",children:(0,L.jsx)(h.FormattedMessage,{id:"updateOrganizationNameModal.title",defaultMessage:"Change organization name"})}),(0,L.jsx)(ka.Z,{value:l,onChange:g,style:o.nameInput}),(0,L.jsx)(Fa.Z,{onClick:()=>m(l),isLarge:!0,disabled:!l,style:o.submitButton,children:c?(0,L.jsx)(za.Z,{}):(0,L.jsx)(h.FormattedMessage,{id:"updateOrganizationNameModal.changeName",defaultMessage:"Change name"})}),(0,L.jsx)(rn.Z,{onClick:s,isGray:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"updateOrganizationNameModal.cancel",defaultMessage:"Cancel"})})]})}function Na(e){let{organizationId:t}=e;const s=ct({organizationId:t}),{organizationName:a,organizationMembership:o}=(0,j.VK)((()=>({organizationName:null==s?void 0:s.getName(),organizationMembership:null==s?void 0:s.getMembership()})),[s]),[i,r]=(0,n.useState)(!1),l=null==o?void 0:o.filter((e=>(0,nn.zz)(e.role)));return(0,L.jsxs)(Qs.sg,{gap:12,children:[(0,L.jsxs)(Qs.sg,{gap:4,children:[(0,L.jsx)(E.Z,{isSmall:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettings.organizationName",defaultMessage:"Organization name"})}),(0,L.jsx)(Vn,{onClick:()=>r(!0),children:a}),(0,L.jsx)(Ta,{currentOrganizationName:a,organizationId:t,isOpen:i,handleClose:()=>r(!1)})]}),(0,L.jsxs)(Qs.sg,{gap:4,children:[(0,L.jsx)(E.Z,{isSmall:!0,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettings.organizationOwners",defaultMessage:"Organization owners"})}),(0,L.jsx)(Qs.X2,{children:null==l?void 0:l.map((e=>{let{user_id:t}=e;return(0,L.jsx)(Oa,{userId:t},t)}))})]})]})}function Oa(e){let{userId:t}=e;const s=(0,f.O7)(),n=(0,M.yK)((e=>({userTag:{border:`1px solid ${e.stroke.deemphasized}`,borderRadius:3,padding:"2px 6px",marginRight:8,marginTop:4,marginBottom:4,background:e.contentBackground,fontSize:14,lineHeight:1.2}})),[]),a=new se.U6(s,{table:Le.KJ,id:t},{userId:t});return(0,L.jsx)(wa.Z,{userStore:a,style:n.userTag})}var _a=s(43169),Ua=s(86249),La=s(5478);function Aa(e){let{organizationId:t}=e;return(0,L.jsxs)("div",{children:[(0,L.jsx)(F.q,{styleName:"Heading-17px/Medium",as:"h2",children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.title",defaultMessage:"Verified email domains and users"})}),(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",colorName:"secondary",as:"p",children:"[Copy WIP] Your organization can have multiple email domains. Email domains can be used to TKTKTK. Once you associate a verified email domain with your organization, you can manage all Notion accounts created using an email address with that email domain."}),(0,L.jsx)(qa,{organizationId:t})]})}const Za={height:53,display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%",gap:4};var Pa=function(e){return e.Domain="domain",e.Loading="loading",e}(Pa||{});const Ba=[{id:"domain",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.domain",defaultMessage:"Email domain"}),renderCell:e=>e.type===Pa.Domain?(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",as:"span",customStyles:Za,children:`@${e.verification.domain}`}):(0,L.jsx)(we.H,{titleStyles:{width:"100%"}}),widthData:{widthPercent:30,minWidth:80},sortable:!1},{id:"status",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.status",defaultMessage:"Email domain status"}),renderCell:e=>e.type===Pa.Domain?(0,L.jsx)(Ua.zq,{status:La.YF.Success}):(0,L.jsx)(we.H,{}),widthData:{widthPercent:24,minWidth:60},sortable:!1},{id:"usersCount",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.usersCount",defaultMessage:"All verified users"}),renderCell:e=>e.type===Pa.Domain?(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",as:"span",customStyles:Za,children:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.usersCount.cellCount",defaultMessage:"{formattedAmount} {usersCount, plural, one {verified user} other {verified users}}",values:{usersCount:e.usersCount,formattedAmount:(0,L.jsx)(R.e,{num:e.usersCount,abbreviateNumber:!1})}})}):(0,L.jsx)(we.H,{}),widthData:{widthPercent:24,minWidth:60},sortable:!1},{id:"loginMethod",headerTitle:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod",defaultMessage:"Login methods"}),renderCell:e=>e.type===Pa.Domain?(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",as:"span",customStyles:Za,children:Va(e.loginMethod)}):(0,L.jsx)(we.H,{}),widthData:{widthPercent:24,minWidth:60},sortable:!1}],Da=[{id:"1",isClickable:!1,type:Pa.Loading},{id:"2",isClickable:!1,type:Pa.Loading}];function qa(e){let{organizationId:t}=e;const s=(0,f.O7)(),[{status:n,value:a}]=(0,C.r5)((async()=>{const e=await S.getVerifiedDomainsForOrganization(s,{organizationId:t});if("success"===e.type)return e.data;if("failed"===e.type)throw e.error;return(0,y.t1)(e)}),[s,t]),o=a?a.domainData.map((e=>({id:e.verification.domain,verification:e.verification,usersCount:e.usersCount,loginMethod:e.loginMethod,isClickable:!1,type:Pa.Domain}))):[],i="resolved"!==n?Da:o,r=(0,M.yK)((e=>(0,Me.b)({columnRenderInfo:Ba,theme:e,containerMarginTop:0})),[]);return(0,L.jsx)(Me.D,{hideHeaderRowPadding:!0,showRowBorders:!0,allowHorizontalScroll:!0,columnRenderInfo:Ba,rows:i,renderNoRowsComponent:()=>null,styles:r})}function Va(e){switch(e){case _a.b.ConfiguredSSO:return(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod.methodConfiguredSSO",defaultMessage:"SAML SSO or email"});case _a.b.EnforcedSSO:return(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod.methodEnforcedSSO",defaultMessage:"Only SAML SSO"});case _a.b.Standard:return(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod.methodStandard",defaultMessage:"Email"});case _a.b.NotAvailable:return(0,L.jsx)(h.FormattedMessage,{id:"organizationSettingsDomainsOverview.table.loginMethod.methodNotAvailable",defaultMessage:"Not yet available"});default:(0,y.t1)(e)}}function Ea(e){let{organizationId:t}=e;return t?(0,L.jsxs)(nt,{children:[(0,L.jsx)(it,{title:(0,L.jsx)(h.FormattedMessage,{id:"organizationSettings.title",defaultMessage:"Organization settings"})}),(0,L.jsxs)(Qs.sg,{gap:16,children:[(0,L.jsx)(Na,{organizationId:t}),(0,L.jsx)(mn,{organizationId:t}),(0,L.jsx)(Aa,{organizationId:t})]})]}):null}function Ha(e){let{organizationStore:t}=e;return(0,L.jsx)(mn,{hideHeaderSection:!0,organizationId:t.id,spacePageSize:10})}function Ka(e){let{organizationId:t}=e;const s=ct({organizationId:t});return s?(0,L.jsxs)(nt,{children:[(0,L.jsx)(it,{title:(0,L.jsx)(h.FormattedMessage,{id:"organizationWorkspaces.title",defaultMessage:"Workspaces"})}),(0,L.jsx)(F.q,{styleName:"Body-14px/Regular",colorName:"secondary",as:"p",children:"[Copy WIP] An organization can have multiple workspaces. You can create new workspaces in your organization or claim existing ones that have been created with a verified email address."}),(0,L.jsx)(Ha,{organizationStore:s})]}):null}const Wa={home:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0},security:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0},people:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0},accounts:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0},audit_log:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0},analytics:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0},organization_settings:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0},content_search:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0},workspaces:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0},domains:e=>{let{environment:t,currentUserStore:s,organizationId:n}=e;return!0}},Ga={home:{tab:{icon:u.z,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.home",defaultMessage:"Home"})},scene:e=>(0,L.jsx)(xn,{...e})},security:{tab:{icon:c.I,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.security",defaultMessage:"Security"})},scene:e=>(0,L.jsx)(Ca,{subtab:e.properties.subtab,...e})},people:{tab:{icon:p.O,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.people",defaultMessage:"People"})},scene:e=>(0,L.jsx)(Bn,{subtab:e.properties.subtab,...e})},accounts:{tab:{icon:o.p,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.accounts",defaultMessage:"Accounts"})},scene:e=>(0,L.jsx)(mt,{subtab:e.properties.subtab,...e})},audit_log:{tab:{icon:l.N,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.audit_log",defaultMessage:"Audit log"})},scene:e=>(0,L.jsx)($s,{...e,spaceId:e.queryParams["space-id"]})},content_search:{tab:{icon:r.p,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.contentSearch",defaultMessage:"Content Search"})},scene:e=>(0,L.jsx)(Xs,{spaceId:e.queryParams["space-id"],...e})},analytics:{tab:{icon:a.z,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.contentAnalytics",defaultMessage:"Analytics"})},scene:e=>(0,L.jsx)(es,{spaceId:e.queryParams["space-id"],subtab:e.properties.subtab,...e})},organization_settings:{tab:{icon:g.r,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.organization_settings",defaultMessage:"Organization"})},scene:e=>(0,L.jsx)(Ea,{...e})},workspaces:{tab:{icon:i.n,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.workspaces",defaultMessage:"Workspaces"})},scene:e=>(0,L.jsx)(Ka,{...e})},domains:{tab:{icon:m.n,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.organization.tabNames.domains",defaultMessage:"Domains"})},scene:e=>(0,L.jsx)("div",{children:"domains"})}},$a={members:e=>{let{environment:t,currentUserStore:s,workspaceId:n}=e;return!0},security:e=>{let{environment:t,currentUserStore:s,workspaceId:n}=e;return!0}},Ja={members:{tab:{icon:p.O,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.workspace.tabNames.members",defaultMessage:"Members"})},scene:e=>(0,L.jsx)("div",{children:"members"})},security:{tab:{icon:d.H,name:(0,L.jsx)(h.FormattedMessage,{id:"settingsConsole.workspace.tabNames.security",defaultMessage:"Settings"})},scene:e=>(0,L.jsx)("div",{children:"security"})}}},73150:(e,t,s)=>{s.d(t,{b:()=>c});var n=s(67294),a=s(480),o=s(86628),i=s(89101),r=s(8055),l=s(77080),d=s(85893);function c(e){return function(t){const s=(0,a.O7)(),c=(0,o.VK)((()=>l.default.checkGate("admin_console_enabled")),[]);return(0,n.useEffect)((()=>{c||r.c4({environment:s,url:i._j.root})}),[s,c]),c?(0,d.jsx)(e,{...t}):null}}},50659:(e,t,s)=>{s.d(t,{G$:()=>i,MF:()=>r,Z3:()=>o});var n=s(77080);const a=4;function o(e){let{isMobile:t}=e;const s=n.default.checkGate("sidebar_redesign");return{...!t&&{borderRadius:s?12:3}}}function i(e){let{isMobile:t}=e;return t?{}:{...o({isMobile:t}),display:"flex",marginLeft:a,marginRight:a,width:`calc(100% - ${2*a}px)`,transition:"background 100ms ease-out"}}function r(){return{paddingLeft:14-a,paddingRight:14-a}}},35314:(e,t,s)=>{s.d(t,{e:()=>i});var n=s(67294),a=s(86628),o=s(77794);function i(){const[e,t]=(0,n.useState)(0),[s]=(0,n.useState)((()=>new o.E)),i=(0,n.createRef)();return(0,n.useEffect)((()=>{if(i.current)return s.observe(i.current),()=>{s.destroy()}}),[i,s]),(0,a.VK)((()=>{e!==s.rect.state.width&&t(s.rect.state.width)}),[e,s.rect]),[i,e]}},59016:(e,t,s)=>{s.d(t,{S:()=>o});var n=s(86628),a=s(80444);function o(){return(0,n.VK)((()=>{const{currentSpaceStore:e}=a.default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())||null}),[])}},40745:(e,t,s)=>{s.d(t,{M:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("arrowDown",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},80721:(e,t,s)=>{s.d(t,{W:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},32566:(e,t,s)=>{s.d(t,{k:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},50780:(e,t,s)=>{s.d(t,{E:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("editPropertyType",{viewBox:"0 0 16 16 ",svg:(0,a.jsx)("path",{d:"M11.5615 4.84473L12.2998 4.11328C12.6689 3.74414 12.6826 3.34082 12.3545 3.00586L12.0879 2.73926C11.7529 2.4043 11.3428 2.43848 10.9736 2.79395L10.2354 3.52539L11.5615 4.84473ZM3.22168 13.1641L10.9053 5.4873L9.59277 4.16797L1.90918 11.8516L1.23926 13.4512C1.16406 13.6562 1.37598 13.875 1.57422 13.7998L3.22168 13.1641ZM3.92578 13.8066H14.1045C14.4736 13.8066 14.7744 13.499 14.7744 13.1367C14.7744 12.7676 14.4736 12.4668 14.1045 12.4668H5.27246L3.92578 13.8066Z"})})},55964:(e,t,s)=>{s.d(t,{N:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("eyePadded",{viewBox:"0 0 24 24",svg:(0,a.jsx)("path",{d:"M12 17.9912C17.6055 17.9912 21.3857 13.4727 21.3857 12.0713C21.3857 10.6699 17.5986 6.1582 12 6.1582C6.47656 6.1582 2.60742 10.6699 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.2715 7.63184 7.4707 12 7.4707C16.3613 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 13.0283 16.3613 16.6787 12 16.6787ZM12 15.7559C14.0508 15.7559 15.6914 14.0811 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C9.94238 8.39355 8.29492 10.0137 8.30176 12.0713C8.31543 14.0811 9.94238 15.7559 12 15.7559ZM12 13.2607C11.3369 13.2607 10.7969 12.7275 10.7969 12.0713C10.7969 11.415 11.3369 10.8818 12 10.8818C12.6631 10.8818 13.1963 11.415 13.1963 12.0713C13.1963 12.7275 12.6631 13.2607 12 13.2607Z"})})},27714:(e,t,s)=>{s.d(t,{N:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("link",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M7.69922 10.8945L8.73828 9.84863C7.91797 9.77344 7.34375 9.51367 6.91992 9.08984C5.76465 7.93457 5.76465 6.29395 6.91309 5.14551L9.18262 2.87598C10.3379 1.7207 11.9717 1.7207 13.127 2.87598C14.2891 4.04492 14.2822 5.67188 13.1338 6.82031L11.958 7.99609C12.1768 8.49512 12.2451 9.10352 12.1289 9.62988L14.0908 7.6748C15.7725 6 15.7793 3.62109 14.084 1.92578C12.3887 0.223633 10.0098 0.237305 8.33496 1.91211L5.95605 4.29785C4.28125 5.97266 4.26758 8.35156 5.96289 10.0469C6.36621 10.4434 6.90625 10.7441 7.69922 10.8945ZM8.30078 5.13184L7.26855 6.17773C8.08203 6.25293 8.66309 6.51953 9.08008 6.93652C10.2422 8.09863 10.2422 9.73242 9.08691 10.8809L6.81738 13.1504C5.66211 14.3057 4.03516 14.3057 2.87305 13.1504C1.71094 11.9883 1.71777 10.3545 2.87305 9.20605L4.04199 8.03027C3.83008 7.53125 3.75488 6.92969 3.87109 6.39648L1.91602 8.35156C0.234375 10.0264 0.227539 12.4121 1.92285 14.1074C3.61816 15.8027 5.99707 15.7891 7.67188 14.1143L10.0439 11.7354C11.7256 10.0537 11.7324 7.6748 10.0371 5.98633C9.64062 5.58301 9.10059 5.28223 8.30078 5.13184Z"})})},16184:(e,t,s)=>{s.d(t,{Q:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("lockedFilled",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M4.69141 14.6338H11.3018C12.2178 14.6338 12.6689 14.1826 12.6689 13.1914V8.08496C12.6689 7.18945 12.293 6.72461 11.541 6.64941V4.96094C11.541 2.36328 9.81152 1.1123 7.99316 1.1123C6.18164 1.1123 4.45215 2.36328 4.45215 4.96094V6.67676C3.74805 6.78613 3.32422 7.2373 3.32422 8.08496V13.1914C3.32422 14.1826 3.77539 14.6338 4.69141 14.6338ZM5.75098 4.83105C5.75098 3.22461 6.76953 2.35645 7.99316 2.35645C9.2168 2.35645 10.2422 3.22461 10.2422 4.83105V6.64258L5.75098 6.64941V4.83105Z"})})},22686:(e,t,s)=>{s.d(t,{f:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("person",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},14734:(e,t,s)=>{s.d(t,{X:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,a.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,a.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})},56996:(e,t,s)=>{s.d(t,{z:()=>o});s(67294);var n=s(45238),a=s(85893);const o=(0,n.IU)("sidebarHome",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.54446 3.06854C9.8066 2.84385 10.1934 2.84385 10.4556 3.06854L15.7064 7.56922C16.0832 7.89219 16.3 8.36369 16.3 8.85996V14.6C16.3 15.5389 15.5389 16.3 14.6 16.3H11.75C11.3634 16.3 11.05 15.9866 11.05 15.6V11.7H8.95001V15.6C8.95001 15.9866 8.63661 16.3 8.25001 16.3H5.40001C4.46113 16.3 3.70001 15.5389 3.70001 14.6V8.85996C3.70001 8.36369 3.91687 7.89219 4.29367 7.56922L9.54446 3.06854ZM10 4.52198L5.20477 8.63218C5.13828 8.68918 5.10001 8.77238 5.10001 8.85996V14.6C5.10001 14.7657 5.23433 14.9 5.40001 14.9H7.55001V11.5C7.55001 10.8373 8.08727 10.3 8.75001 10.3H11.25C11.9128 10.3 12.45 10.8373 12.45 11.5V14.9H14.6C14.7657 14.9 14.9 14.7657 14.9 14.6V8.85996C14.9 8.77238 14.8617 8.68918 14.7952 8.63218L10 4.52198Z"})})}}]);