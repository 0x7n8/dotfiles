"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1909],{45257:(e,t,i)=>{i.d(t,{Z:()=>l});i(67294);var n=i(480),o=i(24405),s=i(42853),r=i(64921),a=i(85893);function l(e){const{icon:t,title:i,on:l,hasDiff:c,wrapStyle:u,innerStyle:p,hideChevron:g}=e,m=(0,o.Fg)(),h=(0,n.O7)();return(0,a.jsxs)("div",{style:{borderRadius:14,marginRight:6,display:"inline-flex",...c&&{position:"relative"},...u},children:[(0,a.jsxs)(r.Z,{disabled:e.disabled,style:d(Boolean(l),m,p,h.device.isMobile),hoveredStyle:l?{background:m.outlineBlueButtonHoveredBackground}:void 0,pressedStyle:l?{background:m.outlineBlueButtonPressedBackground}:void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,i,!g&&(0,s.i)({width:10,marginLeft:4,marginTop:1,fill:l?m.blueColor:m.lightIconColor})]}),c&&(0,a.jsx)("div",{style:{position:"absolute",top:-2,right:-2,background:"dark"===m.mode?m.accentColors.orange[500]:m.accentColors.orange[300],border:`1px solid ${m.contentBackground}`,width:9,height:9,borderRadius:9}})]})}function d(e,t,i,n){return{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:n?28:24,lineHeight:n?"28px":"24px",padding:"0 8px",border:`1px solid ${t.outlineButtonBorder}`,color:t.mediumTextColor,...e&&{color:t.blueColor,border:`1px solid ${t.filterPillBorder}`,background:t.filterPillBackground},...i}}},39849:(e,t,i)=>{i.d(t,{N:()=>l,Z:()=>d});i(67294);var n=i(24405),o=i(31701),s=i(37810),r=i(85893);const a={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:s.Z.fontWeight.semibold,borderRadius:4,color:o.ZP.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"};let l=function(e){return e[e.Red=0]="Red",e[e.Gray=1]="Gray",e}({});const d=function(e){let{count:t,color:i,style:o,numberStyle:s}=e;const d=(0,n.Fg)(),u=i===l.Red;return!t||t<=0?null:(0,r.jsx)("div",{style:{...a,...o,...t>99&&{width:void 0,padding:2},background:u?d.redBadgeBackground:d.lightIconColor},children:(0,r.jsx)(c,{count:t,numberStyle:s})})};function c(e){let{count:t,numberStyle:i}=e;return t?1===t?(0,r.jsx)("span",{style:{marginLeft:-.5,...i},children:"1"}):t>99?(0,r.jsx)("span",{style:{letterSpacing:-.5,...i},children:"99+"}):t>9?(0,r.jsx)("span",{style:{letterSpacing:-.5,marginLeft:-.5,...i},children:t}):(0,r.jsx)("span",{style:{...i},children:t}):null}},255:(e,t,i)=>{i.d(t,{Z:()=>a});i(67294);var n=i(480),o=i(53465),s=i(73063),r=i(85893);const a=function(e){const t=(0,n.O7)(),i={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:a,disabled:l}=e,{device:d}=t,c=d.isMobile?{...i.removeFilterButton,...i.removeFilterButtonMobile}:i.removeFilterButton;return(0,r.jsx)(s.Z,{icon:o.X,onClick:a,disabled:l,disableBackground:!0,style:c})}},12740:(e,t,i)=>{i.d(t,{Z:()=>A});i(57658);var n=i(67294),o=i(480),s=i(86628),r=i(24405),a=i(6695),l=i(9999),d=i(69651),c=i(21202),u=i(19889),p=i(9291),g=i(53965),m=i(7032),h=i(37810),f=(i(95477),i(66890)),b=i(80444),x=i(77556),y=i(88632),v=i(77080),C=i(19671),M=i(6258),S=i(76117),j=i(88893),T=i(88280),k=i(97039),w=i(78030),B=i(45653),Z=i(29551),I=i(99036),L=(i(51365),i(33929)),F=(i(61766),i(13023),i(24118)),R=(i(53876),i(12867),i(85893));F.Ae;function O(e){return(0,s.VK)((()=>{if(!e)return{collectionStore:void 0,schema:void 0,format:void 0};const t=e.getAssociatedCollectionStore();let i,n;return i=t?t.getSchema():I.Kc(L.default.getIntl()),t&&(n=a.iB(t.getFormat(),i,void 0,a.j5.Collection)),{collectionStore:t,schema:i,format:n}}),[e])}const P=["Title","Pronoun","Teams (via Teams DB)","Office","Manager","Languages (Fluency)","Tenure"],U={"Teams (via Teams DB)":"Teams","Languages (Fluency)":"Languages"};function A(e){let{targetUserStore:t}=e;const i=(0,r.yK)((e=>({wrapper:{minWidth:100,maxWidth:300},profile:{padding:"10px 12px 12px 10px"},content:{padding:"8px 10px 10px"},breadcrumb:{color:e.text.secondary},profileTitle:{paddingLeft:20,fontSize:18,lineHeight:1.25,fontWeight:h.Z.fontWeight.semibold,color:e.text.primary},profileSubtitle:{paddingLeft:20,paddingTop:2,fontSize:h.Z.fontSize.UISmall.desktop,color:e.icon.primary,paddingBottom:1},profileMeetingContainer:{display:"flex",alignItems:"center",paddingLeft:20,paddingTop:2,cursor:"pointer"},profileMeetingLeftIcon:{},profileMeetingText:{paddingLeft:4,paddingRight:4,fontSize:h.Z.fontSize.UISmall.desktop,lineHeight:1.25,color:e.text.primary},profileMeetingRightIcon:{},profileKeyRow:{minWidth:80},profileKeyText:{textTransform:"capitalize",fontWeight:500},description:{padding:"6px 8px 12px 20px",fontSize:h.Z.fontSize.UISmall.desktop,color:e.icon.primary,borderTop:`1px solid ${e.regularDividerColor}`}})),[]),l=(0,s.VK)((()=>b.default.state.currentSpaceStore),[]),d=(0,s.VK)((()=>b.default.state.currentUserStore),[]),u=(0,s.VK)((()=>!!t&&t.isDefined()),[t]),p=(0,s.VK)((()=>{if(!t)return;const e=t.getEmail();if(!e)return;const i=v.default.getConfigKey("notion_people_block_id","data")[e];if(!i)return;return M.G.createChildStore(t,{table:c.iU,id:(0,m.Mt)(i)})}),[t]),{collectionStore:g,schema:y,format:S}=O(p),j=function(e){let{collectionStore:t,format:i,schema:n,userPeopleCollectionPage:o}=e;return(0,s.VK)((()=>{var e;if(!(t&&i&&n&&o))return;const s=a.iB(i,n,void 0,a.j5.Collection),r=null==s||null===(e=s.collection_page_properties)||void 0===e?void 0:e.filter((e=>{var t;const i=null===(t=n[e.property])||void 0===t?void 0:t.name;return void 0!==i&&P.includes(i)}));if(!r)return;const l={};return r.forEach((e=>{var i;l[(null===(i=n[e.property])||void 0===i?void 0:i.name)||""]=(0,R.jsx)(k.Z,{store:o,property:e.property,locked:!0,disabled:!0,format:w.C.Page,onTab:()=>{},onUntab:()=>{},tableWrap:!1,blockPropertyValueOverlayStore:C.Z,collectionStore:t})})),l}),[t,n,i,o])}({collectionStore:g,format:S,schema:y,userPeopleCollectionPage:p}),T=(0,o.O7)(),B=(0,n.useMemo)((()=>new x.Z(T)),[T]);(0,n.useEffect)((()=>{g&&B.setContext({type:"collectionPage",collectionStore:g})}),[B,g]);const I=(0,s.VK)((()=>!!(t&&d&&u)&&t.id===d.id),[t,d,u]);return t&&u&&l?p&&B&&j?(0,R.jsx)("div",{style:i.wrapper,children:(0,R.jsx)(f.L1,{value:B,children:(0,R.jsxs)(Z.Ht,{children:[(0,R.jsx)(Z.gq,{gap:3,alignItems:"center",style:i.profile,children:(0,R.jsx)(N,{userStore:t,styles:i})}),(0,R.jsxs)("div",{style:i.description,children:[(0,R.jsx)(_,{userProfile:j,styles:i}),I?(0,R.jsx)(Z.gq,{gap:1,alignItems:"center",children:(0,R.jsx)(V,{spaceStore:l,limit:5,styles:i})}):void 0]})]})})}):(0,R.jsx)("div",{style:i.wrapper,children:(0,R.jsxs)(Z.Ht,{children:[(0,R.jsx)(Z.gq,{gap:3,alignItems:"center",style:i.profile,children:(0,R.jsx)(N,{userStore:t,styles:i})}),I?(0,R.jsx)("div",{style:i.description,children:(0,R.jsx)(Z.gq,{gap:1,alignItems:"center",children:(0,R.jsx)(V,{spaceStore:l,limit:5,styles:i})})}):void 0]})}):null}function N(e){let{userStore:t,styles:i}=e;const n=(0,p.useIntl)(),{name:o,email:r,firstName:a}=(0,s.VK)((()=>{var e;return{name:t.getFullName(n),email:t.getEmail(),firstName:null===(e=t.getFullName(n))||void 0===e?void 0:e.split(" ")[0]}}),[t,n]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(B.Z,{userStore:t,size:70,borderStyle:"none"}),(0,R.jsxs)(Z.Ht,{gap:1,children:[(0,R.jsx)("div",{style:i.profileTitle,children:o}),(0,R.jsx)("div",{style:i.profileSubtitle,children:r}),a?(0,R.jsxs)("div",{style:i.profileMeetingContainer,onClick:()=>{window.open(`https://calendar.notion.so/meet-with/${r}`,"_blank")},children:[(0,R.jsx)("div",{style:i.profileMeetingLeftIcon,children:(0,d.C)({width:12,height:12})}),(0,R.jsx)("div",{style:i.profileMeetingText,children:(0,R.jsx)(p.FormattedMessage,{id:"people.profile.setMeeting",defaultMessage:"Meet with {name}",values:{name:a}})}),(0,R.jsx)("div",{style:i.profileMeetingRightIcon,children:(0,l.J)({width:12,height:12})})]}):void 0]})]})}function _(e){let{userProfile:t,styles:i}=e;return t?(0,R.jsx)(R.Fragment,{children:P.filter((e=>t[e])).map((e=>(0,R.jsxs)(Z.gq,{gap:1,alignItems:"center",children:[(0,R.jsx)(Z.Ht,{children:(0,R.jsx)(Z.gq,{style:i.profileKeyRow,children:(0,R.jsx)("div",{style:i.profileKeyText,children:U[e]?U[e]:e})})}),(0,R.jsx)(Z.Ht,{style:{transform:"scale(0.9)",transformOrigin:"center left"},children:t[e]})]},e)))}):null}function V(e){let{spaceStore:t,limit:i,styles:n}=e;const{userSimilarityList:o}=(0,s.VK)((()=>{const e=T.subscriptionDataStoreInstance.state,n=e?j.CM(e):[],o=S.p.state||{},s=n.map((e=>{const t=o[e.userId];return{id:e.userId,similarity:t||0}})).sort(((e,t)=>t.similarity-e.similarity)).slice(0,i),r=[],a=g.yW(s.map((e=>{const i=M.U6.createChildStore(t,{table:u.KJ,id:e.id});return r.push({id:e.id,similarity:e.similarity,userStore:i}),i.isReady()})));return{isOnline:y.Z.state.online,subscriptionDataStoreData:e,userSimilarityData:S.p.state||{},visibleUsersLoaded:a,visibleUsers:n,userSimilarityList:r}}),[t,i]);return t&&o&&0!==o.length?(0,R.jsxs)(Z.gq,{gap:1,alignItems:"center",style:{paddingTop:4},children:[(0,R.jsx)(Z.Ht,{children:(0,R.jsx)(Z.gq,{style:n.profileKeyRow,children:(0,R.jsx)("div",{style:n.profileKeyText,children:"Coworkers"})})}),(0,R.jsx)(Z.Ht,{children:(0,R.jsx)(Z.gq,{gap:5,children:(0,R.jsx)("div",{children:(0,R.jsx)("div",{style:{display:"flex",position:"relative",float:"right"},children:o.map((e=>(0,R.jsx)("div",{style:{marginLeft:1.5},children:(0,R.jsx)(B.Z,{userStore:e.userStore,size:18})},e.id)))})})})})]}):null}},27386:(e,t,i)=>{i.d(t,{Um:()=>u,ZP:()=>p,kN:()=>c});i(67294);var n=i(480),o=i(24405),s=i(34859),r=i(91754),a=i(61519),l=i(53336),d=i(85893);function c(e){return e?18:60}function u(){return(0,d.jsx)(a.Z,{size:37})}const p=function(e){let{children:t,controlRow:i,bannerText:a,controlRowPaddingTopBottom:u,removeBoxShadow:p,contentPaddingLeftRight:g,controlRowPaddingLeftRight:m,getPaddingTopBottom:h,disableScroller:f}=e;const b=(0,o.Fg)(),x=(0,n.O7)(),{device:y}=x,v=h?h():y.isMobile?18:36;return f?(0,d.jsxs)("div",{style:{paddingLeft:c(y.isMobile),paddingRight:c(y.isMobile)},children:[(0,d.jsx)("div",{style:{paddingTop:v,paddingBottom:v},children:t}),i&&(0,d.jsx)("div",{style:{paddingTop:u,paddingBottom:u,boxShadow:`0 -1px 0 ${b.regularDividerColor}`},children:i})]}):(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",backgroundColor:b.cardContentBackground},children:[a&&(0,d.jsx)(r.Z,{styleKey:r.v.Blue,isMobile:!1,children:a}),(0,d.jsx)(l.Z,{type:s.Z.All,style:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:g??c(y.isMobile),paddingRight:g??c(y.isMobile),paddingTop:a?15:v,paddingBottom:a?22:v},children:t}),i&&(0,d.jsx)("div",{style:{flexGrow:0,flexShrink:0,paddingLeft:m??c(y.isMobile),paddingRight:m??c(y.isMobile),paddingTop:u,paddingBottom:u,boxShadow:p?void 0:`0 -1px 0 ${b.regularDividerColor}`},children:i})]})}},55422:(e,t,i)=>{i.d(t,{L:()=>R,Z:()=>L});i(57658);var n=i(67294),o=i(480),s=i(86628),r=i(24405),a=i(36591),l=i(42853),d=i(9291),c=i(1898),u=i(61045),p=i(11368),g=i(60709),m=i(23570),h=i(44041),f=i(91694),b=i(52275),x=i(31945),y=i(78140),v=i(28992),C=i(32163),M=i(63296),S=i(89728),j=i(72495),T=i(24006),k=i(26388),w=i(64369),B=i(27386),Z=i(23189),I=i(85893);function L(e){const{title:t,caption:i,captionStyle:a,isMobile:l,upsellOptions:d,type:c,shouldHighlight:g}=e,b=(0,o.O7)(),{paddingLeftCSS:x,paddingRightCSS:y}=(0,s.VK)((()=>b.WindowSizeStore.state),[b]),[v,C]=(0,n.useState)(!1),M=(0,n.useCallback)((()=>C(!0)),[C]),S=(0,n.useCallback)((()=>C(!1)),[C]),j=(0,n.useContext)(p.Ue),T=(0,n.useRef)(null);(0,n.useEffect)((()=>{g&&T.current&&u.bx({element:T.current,scrollers:{verticalScroller:null==j?void 0:j.verticalScroller},vertical:{reveal:"closest"},horizontal:void 0,animate:!0})}),[g,T,null==j?void 0:j.verticalScroller]);const L=(0,n.useMemo)((()=>{if(l){if("dropdown"===c)return{display:"flex",flexDirection:"column"};if("toggleToButton"===e.type&&e.isOn||"custom"===e.type&&!0===e.useFlexboxStyle)return{}}return{display:"flex",alignItems:"center",justifyContent:"space-between"}}),[l,c,e]),R=(0,r.yK)((t=>({container:{...L,paddingLeft:l?x:void 0,paddingRight:l?y:void 0,cursor:v&&!e.disabled?"pointer":e.disabled?"not-allowed":"default",...g?{backgroundColor:t.buttonHoveredBackground,marginLeft:-1*(0,B.kN)(l),marginRight:-1*(0,B.kN)(l),paddingLeft:(0,B.kN)(l),paddingRight:(0,B.kN)(l),marginTop:-1*(0,m.f)(l)/2,marginBottom:-1*(0,m.f)(l)/2,paddingTop:(0,m.f)(l)/2,paddingBottom:(0,m.f)(l)/2}:{}},description:{display:"flex",flexDirection:"column",marginRight:"10%"},captionStyle:{...a},title:{display:"flex",flexDirection:"row"}})),[l,x,y,g,v,a,e.disabled,L]),O="toggle"===e.type||"toggleToButton"===e.type||"custom"===e.type&&!e.disableSettingsItemClick,P=(0,I.jsxs)("div",{ref:T,style:R.container,onClick:()=>{if(!(e.disabled||"custom"===e.type&&e.disableSettingsItemClick))return d&&d.shouldUpsell?h.y(b,{from:d.analyticsName,for:d.subscriptionTier}):void("toggle"===e.type?e.onToggle():"toggleToButton"===e.type?e.onClick():"custom"===e.type&&e.customButton&&n.isValidElement(e.customButton)&&e.customButton.props.onClick&&"function"==typeof e.customButton.props.onClick&&e.customButton.props.onClick())},onMouseEnter:O?M:void 0,onMouseLeave:O?S:void 0,children:[(0,I.jsxs)("div",{style:R.description,children:[(0,I.jsxs)(Z.Z,{smallMarginBottom:!0,disabled:e.disabled,isCritical:e.isCritical,children:[(0,I.jsxs)("div",{style:R.title,children:[t,e.badge]}),d&&d.shouldUpsell&&(0,I.jsx)(f.Z,{subscriptionTier:d.subscriptionTier,analyticsName:d.analyticsName,onClick:()=>h.y(b,{from:d.analyticsName,for:d.subscriptionTier}),desktopStyle:{display:"inline-block",marginLeft:8,marginTop:-3}})]}),(0,I.jsx)(w.Z,{style:R.captionStyle,isSmall:!0,isMultiline:!0,children:i})]}),(0,I.jsx)(F,{...e})]});return e.tooltipLabel?(0,I.jsx)(k.ZP,{placement:k.ug.Bottom,alignment:k.v2.Center,disableTooltip:e.disableTooltip,renderTooltip:()=>e.tooltipLabel,render:e=>(0,I.jsx)("div",{...e,children:P})}):P}function F(e){return"toggle"===e.type?(0,I.jsx)(T.Z,{on:e.isOn,disabled:e.disabled}):"dropdown"===e.type?(0,I.jsx)(R,{...e}):"custom"===e.type?(0,I.jsx)(I.Fragment,{children:e.customButton}):"toggleToButton"===e.type?e.isOn?(0,I.jsx)("div",{style:{marginTop:12},children:(0,I.jsx)(M.Z,{isLarge:!0,onClick:e.onClick,style:e.buttonStyle,disabled:e.disabled,children:e.buttonLabel})}):(0,I.jsx)(T.Z,{on:!1,onClick:e.onClick,disabled:e.disabled}):void(0,c.t1)(e)}function R(e){var t;const{isMobile:i,title:n,upsellOptions:o,currentOption:s,options:c,info:u,onSelectOption:p,menuStyle:m,buttonStyle:h}=e,f=null===(t=c.find((e=>{let{key:t}=e;return t===s})))||void 0===t?void 0:t.label,M=(0,r.yK)((e=>({button:{marginTop:12,marginBottom:4,marginRight:i?"auto":void 0,paddingLeft:i?12:8,paddingRight:i?12:8,height:i?44:28,border:i?`1px solid ${e.outlineButtonBorder}`:void 0,...h},icon:{width:10,marginLeft:4,fill:e.lightIconColor}})),[i,h]),T=Boolean(o&&o.shouldUpsell)||e.disabled;return(0,I.jsx)(x.ZP,{popupType:i?x.Z4.SlideUp:x.Z4.Popup,placementToOrigin:x.pO.Right,renderOrigin:e=>(0,I.jsxs)(S.Z,{...e,isLarge:!0,style:{...M.button,opacity:T?.4:1},disabled:T,children:[f,(0,l.i)(M.icon)]}),render:e=>{let t;t=i?{menuType:g.og.Modal,title:n,right:(0,I.jsx)(d.FormattedMessage,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:e.close}:{menuType:g.og.Popup,width:250,...m};const o=[{key:"settings-item-section",render:e=>(0,I.jsx)(j.Z,{...e}),items:c.map((t=>{let{key:n,label:o,caption:s}=t;return{key:n,action:()=>{p(n),e.close()},render:e=>(0,I.jsx)(b.Z,{...e,title:o,caption:s,shouldWrapCaption:!0,right:f===o?(0,I.jsx)("div",{style:{width:i?16:14},children:(0,a.e)()}):void 0})}}))}];if(u){const e=u.map((e=>{let{key:t,label:i}=e;return{key:t,action:()=>{},render:e=>(0,I.jsx)(v.Z,{...e,shouldWrapCaption:!0,caption:i})}}));o.push({key:"info-item-section",render:e=>(0,I.jsx)(j.Z,{...e,topBorder:!0}),items:e})}return(0,I.jsx)(y.Z,{...t,children:(0,I.jsx)(C.Z,{type:C.i.Vertical,sections:o,initialFocus:void 0})})}})}},66957:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(67294),o=i(480),s=i(86628),r=i(24405),a=i(60709),l=i(89728),d=i(85893);function c(e){let{tabs:t,selectedIndex:i,onChange:c,separatorIndexes:u,right:p,style:g,rightStyle:m,tabStyle:h,tabTitleStyle:f,tabBorderStyle:b,selectedTabStyle:x,readOnly:y,hideTabBorder:v}=e;const C=(0,n.useContext)(a.Xp),{device:M,WindowSizeStore:S}=(0,o.O7)(),{safePaddingLeft:j,safePaddingRight:T}=(0,s.VK)((()=>({safePaddingLeft:S.getSafePaddingLeftCSS(16),safePaddingRight:S.getSafePaddingRightCSS(16)})),[S]),k=(0,r.yK)((e=>{const t={paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.mediumTextColor,...h},i=`inset 0 -1px 0 ${e.regularDividerColor}`,n=C.menuType===a.og.Popup,o={fontSize:16,paddingTop:2,paddingLeft:n?16:j,paddingRight:n?16:T,zIndex:2,height:44,background:e.popoverBackground};return{container:{overflowY:"visible",overflowX:"auto",display:"flex",width:"100%",position:"relative",boxShadow:v?void 0:i,...M.isMobile?o:{fontSize:14,paddingLeft:8,paddingRight:8,zIndex:1},...g},separator:{display:"inline-flex",alignItems:"center",margin:"0 4px",paddingBottom:4,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.regularDividerColor},mobile:{},tab:t,selectedTab:{...t,position:"relative",color:e.regularTextColor,...x},border:{borderBottom:`2px solid ${e.regularTextColor}`,position:"absolute",bottom:0,left:8,right:8,...b},rightContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:e.mediumTextColor,...m}}}),[C.menuType,M.isMobile,m,j,T,x,g,b,h,v]);return(0,d.jsxs)("div",{className:"hide-scrollbar",style:k.container,children:[t.map(((e,t)=>{const o=t===i;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsxs)("div",{style:o?k.selectedTab:k.tab,children:[(0,d.jsx)(l.Z,{style:f,onClick:()=>c(t),disabled:y,mobileFeedback:M.isMobile,children:e}),o&&(0,d.jsx)("div",{style:k.border})]},`tabButton-${t}`),u&&u.includes(t)&&(0,d.jsx)("div",{style:k.separator,className:"notranslate",children:"|"},`${t}-separator`)]},t)})),p&&(0,d.jsx)("div",{style:k.rightContainer,children:p})]})}const u=n.memo(c)},94865:(e,t,i)=>{i.r(t),i.d(t,{default:()=>le});var n=i(67294),o=i(83355),s=i(480),r=i(86628),a=i(49085),l=i(1464),d=i(98519),c=i(9291),u=i(53965),p=i(37850),g=i(1898),m=i(19719),h=i(17659),f=i(12457),b=i(43250),x=i(60709),y=i(51811),v=i(5162),C=i(80444),M=i(4761),S=i(84708),j=i(23063),T=i(36488),k=i(68785),w=i(78140),B=i(89728),Z=i(43145),I=i(30506),L=i(83785),F=i(82598),R=i(24405),O=i(6637),P=i(73063),U=i(26388),A=i(85893);function N(e){let{location:t}=e;const i=(0,c.useIntl)(),o=(0,s.O7)(),{currentTab:a,showOnlyUnreadNotifications:l,isCurrentTabEmpty:d}=(0,r.VK)((()=>{const{currentTab:e,isCurrentTabEmpty:t}=M.ZP.state;return{currentTab:e,showOnlyUnreadNotifications:"mentions"===e&&M.ZP.state.showOnlyUnreadNotifications,isCurrentTabEmpty:t}}),[]),u=(0,n.useCallback)((async()=>{if(l)M.ZP.update((e=>({...e,showOnlyUnreadNotifications:!1,unreadNotificationIds:[]}))),m.U0(o,{toggled_to:"off"});else{const e=await h.Qy({environment:o});M.ZP.update((t=>({...t,showOnlyUnreadNotifications:!0,unreadNotificationIds:e}))),m.U0(o,{toggled_to:"on"})}}),[o,l]),p=(0,R.yK)((e=>({mobileTopBarIcon:{height:18,width:18,fill:l?void 0:e.regularTextColor},webUpdatesModalIcon:{height:17,width:17},desktopInboxPanelIcon:{height:18,width:18,...!l&&{fill:e.regularTextColor}}})),[l]);if("mentions"!==a)return null;const f=!l&&d,b=l?(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Show all notifications",id:"updatesModal.unreadNotificationsFilterButton.allTooltip"}):(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Show unread notifications only",id:"updatesModal.unreadNotificationsFilterButton.unreadTooltip"}),x=l?i.formatMessage({defaultMessage:"Show all notifications",id:"updatesModal.unreadNotificationsFilterButton.allTooltipAriaLabel"}):i.formatMessage({defaultMessage:"Show unread notifications only",id:"updatesModal.unreadNotificationsFilterButton.unreadTooltipAriaLabel"});let y,v;switch(t){case"mobileTopBar":y=void 0,v=p.mobileTopBarIcon;break;case"webUpdatesModal":y=!!l||void 0,p.webUpdatesModalIcon;break;case"desktopInboxPanel":y=!!l||void 0,v=p.desktopInboxPanelIcon;break;default:(0,g.t1)(t)}return(0,A.jsx)(U.ZP,{disableTooltip:f,renderTooltip:()=>b,render:e=>(0,A.jsx)(P.Z,{icon:O.I,isBlue:l,hovered:y,iconStyle:v,disabled:f,onClick:u,ariaLabel:x,...e})})}const _=n.memo(N);var V=i(37810),D=i(18514),E=i(19034),K=i(74523),z=i(39849),W=i(66957),H=i(52867),q=i(5686),$=i(50770),Y=i(63296);function G(e){let{}=e;const t=(0,s.Fy)(),i=(0,s.O7)(),o=(0,r.VK)((()=>(0,$.H7)(i)),[i]),a=(0,r.VK)((()=>M.n_.state),[]),l=(0,r.VK)((()=>{const{currentTab:e,isCurrentTabEmpty:t}=M.ZP.state;if("mentions"!==e||t)return;const{containsBothReadAndUnreadNotifications:i,containsUnreadNotifications:n,showOnlyUnreadNotifications:o}=M.ZP.state;return{containsBothReadAndUnreadNotifications:i,containsUnreadNotificationsAccordingToUpdatesStore:n,showOnlyUnreadNotifications:o}}),[]),d=(0,r.VK)((()=>E.Z.getUnreadCountForCurrentSpace().mentions>0),[]),u=(0,n.useCallback)((()=>{m.Xf(i),h.go(i)}),[i]),p=(0,n.useCallback)((()=>{if(!l)return;const{containsBothReadAndUnreadNotifications:e,showOnlyUnreadNotifications:t}=l;let n="none";t?n="unread":e&&(n="read"),m.zD(i,{readFilter:n}),h.rG(i,"mentions",n)}),[i,l]),g=(0,R.yK)((e=>{const i={opacity:1,flex:1,height:t.isMobile?32:27,...o&&{fontSize:14}};return{headerWithBottomBorder:{borderBottom:a?void 0:`1px solid ${e.regularDividerColor}`},container:{display:"flex",marginTop:o&&!t.isMobile?0:12,marginLeft:16,marginRight:16,paddingBottom:12,gap:8},buttons:i,buttonsWithLoweredOpacity:{...i,opacity:.7}}}),[t.isMobile,a,o]);if(!l)return null;const{containsBothReadAndUnreadNotifications:f,containsUnreadNotificationsAccordingToUpdatesStore:b,showOnlyUnreadNotifications:x}=l,y=b||d;return(0,A.jsx)("div",{style:g.headerWithBottomBorder,children:(0,A.jsxs)("div",{style:g.container,children:[(0,A.jsx)(U.ZP,{disableTooltip:y,renderTooltip:e=>(0,A.jsx)("div",{...e,children:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"All notifications have been marked as read.",id:"updatesModal.spaceUpdatesTab.markAllReadButton.disabledTooltip"})}),render:e=>(0,A.jsx)(Y.Z,{onClick:u,style:y?g.buttons:g.buttonsWithLoweredOpacity,isSmall:!t.isMobile,disabled:!y,icon:o?q.J:void 0,...e,children:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Mark all as read",id:"updatesModal.spaceUpdates.mentionsTab.markAllReadButtonTitle"})})}),(0,A.jsx)(Y.Z,{onClick:p,style:g.buttons,isSmall:!t.isMobile,icon:o?H.H:void 0,children:x?(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Archive unread",id:"updatesModal.spaceUpdates.mentionsTab.archiveUnreadButtonTitle"}):f?(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Archive read",id:"updatesModal.spaceUpdates.mentionsTab.archiveReadButtonTitle"}):(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Archive all",id:"updatesModal.spaceUpdates.mentionsTab.archiveAllButtonTitle"})})]})})}const X=n.memo(G);var Q=i(3712);const J=(0,i(45238).IU)("refresh",{viewBox:"0 0 24 20",svg:(0,A.jsx)("path",{d:"M0.19663 9.99023C-0.184229 10.5273-0.00844799 11.0059 0.694677 11.0059L2.04233 11.0059C2.56968 15.9766 6.85679 19.9219 11.9447 19.9219C14.9232 19.9219 17.6185 18.5645 19.4544 16.4551C19.8158 16.0352 19.7669 15.5078 19.3861 15.2344C19.0052 14.9609 18.5365 15.0586 18.224 15.4199C16.7103 17.168 14.4642 18.2617 11.9447 18.2617C7.68686 18.2617 4.22007 15.1074 3.72202 11.0059L5.1771 11.0059C5.87046 11.0059 6.04624 10.5273 5.67515 10L3.48765 6.88477C3.17515 6.43555 2.7064 6.42578 2.38413 6.88477ZM4.44468 3.4668C4.07358 3.88672 4.12241 4.4043 4.51304 4.67773C4.8939 4.95117 5.35288 4.86328 5.67515 4.50195C7.19858 2.76367 9.44468 1.66016 11.9447 1.66016C16.1927 1.66016 19.6595 4.81445 20.1673 8.92578L18.7123 8.92578C18.0189 8.92578 17.8431 9.39453 18.2142 9.93164L20.4017 13.0469C20.7142 13.4961 21.183 13.5059 21.5052 13.0469L23.683 9.94141C24.0736 9.39453 23.888 8.92578 23.1849 8.92578L21.847 8.92578C21.3099 3.95508 17.0326 0 11.9447 0C8.96616 0 6.28061 1.34766 4.44468 3.4668Z"})});function ee(e){let{location:t,onClick:i}=e;const n=(0,c.useIntl)(),o=(0,r.VK)((()=>M.ZP.state.currentTab),[]),s=(0,R.yK)((e=>({mobileTopBarIcon:{height:18,width:18,fill:e.regularTextColor},webUpdatesModalIcon:{height:17,width:17}})),[]);if("allPages"!==o)return null;let a;switch(t){case"mobileTopBar":a=s.mobileTopBarIcon;break;case"webUpdatesModal":a=s.webUpdatesModalIcon;break;default:(0,g.t1)(t)}return(0,A.jsx)(U.ZP,{renderTooltip:()=>(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Refresh",id:"updatesModal.allUpdatesRefreshButton.refreshButtonDescription"}),render:e=>(0,A.jsx)(P.Z,{icon:J,iconStyle:a,onClick:i,ariaLabel:n.formatMessage({defaultMessage:"Refresh",id:"updatesModal.allUpdatesRefreshButton.refreshButtonDescriptionAriaLabel"}),...e})})}const te=n.memo(ee);var ie=i(92955);function ne(e){let{orderedTabConfigs:t,onClickRefreshAllTab:i}=e;const o=(0,s.Fy)(),a=(0,s.O7)(),{currentTab:l,currentTabIndex:d}=(0,r.VK)((()=>{const{currentTab:e}=M.ZP.state,i=t.findIndex((t=>t.tab===e));return{currentTab:e,currentTabIndex:i}}),[t]),u=(0,n.useMemo)((()=>t.map(((e,t)=>{if(e.showSeparatorBefore)return t-1})).filter(g.$K)),[t]),p=(0,r.VK)((()=>E.Z.getUnreadCountForCurrentSpace().mentions>0),[]),m=(0,n.useCallback)((e=>{const i=t[e],n=null==i?void 0:i.tab;n&&l!==n&&h.G7({environment:a,newTab:n,shouldTrack:!0})}),[l,a,t]),f=(0,R.yK)((()=>({mentionsContainer:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:p?V.Z.fontWeight.medium:void 0},tabBarRightStyle:{justifyContent:"space-between"},helpButton:{marginLeft:0,...o.isMobile&&{marginTop:-1}},unreadMentionsBadge:{marginLeft:6},actionButtons:{display:"flex",justifyContent:"center",gap:6}})),[o.isMobile,p]),x=z.N.Red,y={mentions:(0,A.jsxs)("div",{style:f.mentionsContainer,className:b.I2F,children:[(0,A.jsx)("div",{children:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Inbox",id:"updatesModal.mentionsTab.title"})}),(0,A.jsx)(ie.Z,{type:"currentSpace",color:x,style:f.unreadMentionsBadge})]}),allPages:(0,A.jsx)("div",{className:b.gjL,children:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"All",id:"updatesModal.allUpdatesTab.title"})}),archive:(0,A.jsx)("div",{className:b.HKr,children:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Archived",id:"updatesModal.archiveTab.title"})})},v=t.map((e=>y[e.tab])),C="webUpdatesModal",S=!o.isMobile&&(0,A.jsxs)("div",{style:f.actionButtons,children:[(0,A.jsx)(te,{location:C,onClick:i}),(0,A.jsx)(_,{location:C}),(0,A.jsx)(Q.Z,{location:C})]}),j=(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(U.ZP,{render:e=>(0,A.jsx)(K.Z,{href:(0,D.UY)("guides.notifications"),analyticsFrom:"inbox_tabs_link",style:f.helpButton,...e}),renderTooltip:()=>(0,A.jsx)(c.FormattedMessage,{id:"updatesButton.learnMoreAboutInboxLink",defaultMessage:"Learn more about notifications"})}),S]});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(W.Z,{tabs:v,selectedIndex:d,onChange:m,separatorIndexes:u,right:j,rightStyle:f.tabBarRightStyle}),"mentions"===l&&(0,A.jsx)(X,{})]})}const oe=n.memo(ne);var se=i(56258);const re=[{tab:"mentions"},{tab:"archive"},{tab:"allPages",showSeparatorBefore:!0}];class ae extends o.Z{constructor(){super(...arguments),this.storeTypes={refreshCountStore:a.default.createClass(0)},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleRefreshAll=()=>{var e;(e=this.stores.refreshCountStore).setState(e.state+1)},this.handleRefreshAllThrottled=u.Ds(this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleRefreshAll,1e3,{leading:!0})}willUnmount(){var e;e=this.environment,m.nI(e),h.G7({environment:e,newTab:"mentions",shouldTrack:!1})}renderComponent(){const{device:e}=this.environment;let t;const i=(0,A.jsx)(oe,{onClickRefreshAllTab:this.handleRefreshAllThrottled,orderedTabConfigs:re});if(e.isMobile){const n="mobileTopBar";t={menuType:x.og.Modal,title:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Updates",id:"updatesModal.mobileMenu.title"}),width:this.props.format===y.EX.RenderAsPage?"100vw":void 0,renderAsPage:this.props.format===y.EX.RenderAsPage,right:[(0,A.jsx)(te,{onClick:this.handleRefreshAllThrottled,location:n},"InboxRefreshAllTabButton"),(0,A.jsx)(_,{location:n},"InboxFilterForUnreadButton"),(0,A.jsx)("span",{style:{width:8}},"paddingSpan"),(0,A.jsx)(Q.Z,{location:n},"InboxNotificationSettingsButton")],left:[ce(),e.isPhone&&(0,v.Y)("supportsNativeHome")&&this.props.format===y.EX.RenderAsPage&&!(0,v.Y)("supportsNativeInbox")?void 0:(0,l.k)({fill:this.theme.regularTextColor,width:26,height:26})],onClickLeft:this.props.onClose,header:i,whiteBackground:!0}}else t={menuType:x.og.Popup,header:i,height:"auto"};return(0,A.jsx)(I.Z,{onSwipeLeft:()=>function(e){const t=re.findIndex((e=>e.tab===M.ZP.state.currentTab));if(-1===t)return;const i=re[t+1].tab;void 0!==i&&h.G7({environment:e,newTab:i,shouldTrack:!0})}(this.environment),onSwipeRight:()=>function(e){const t=re.findIndex((e=>e.tab===M.ZP.state.currentTab));if(-1===t)return;const i=re[t-1].tab;void 0!==i&&h.G7({environment:e,newTab:i,shouldTrack:!0})}(this.environment),render:e=>(0,A.jsxs)(w.Z,{...t,...e,className:b.C18,children:[(0,A.jsx)(Z.Z,{onChange:(e,t)=>{let{offsetFromTop:i}=t;M.n_.setState(i<=0)}}),(0,A.jsx)(T.Z,{capture:!0,allowUndo:!0,allowEsc:!0,allowMobileAutoScroll:!0,render:()=>this.props.format===y.EX.RenderAsPage?(0,A.jsx)(pe,{refreshCountStore:this.stores.refreshCountStore}):(0,A.jsx)(ue,{refreshCountStore:this.stores.refreshCountStore})})]})})}}ae.displayName="UpdatesPopup";const le=ae;function de(){return(0,A.jsx)(F.Z,{icon:d.k,title:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"You've read everything",id:"updatesModal.spaceUpdatesTab.emptyUnreadMentionsTabTitle"}),message:(0,A.jsxs)("div",{children:[(0,A.jsx)(c.FormattedMessage,{defaultMessage:"You have more notifications in your inbox.",id:"updatesModal.spaceUpdatesTab.emptyUnreadMentionsTabMessage"}),(0,A.jsx)("div",{style:{height:12}}),(0,A.jsx)(B.Z,{isBlue:!0,onClick:()=>{"mentions"===M.ZP.state.currentTab&&M.ZP.setState({...M.ZP.state,showOnlyUnreadNotifications:!1,unreadNotificationIds:[]})},children:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"See all",id:"updatesModal.spaceUpdatesTab.emptyUnreadMentionsTabButton"})})]})})}function ce(){if((0,v.Y)("supportsNativeHome"))return(0,A.jsx)(f.Z,{show:void 0!==M.ZP.state.loadingId,showDelay:400,showHold:0,render:e=>e?(0,A.jsx)(k.Z,{style:{width:14}}):(0,A.jsx)("div",{style:{width:14}})})}function ue(e){let{refreshCountStore:t}=e;const i=(0,r.VK)((()=>M.ZP.state),[]),{currentSpaceStore:n,mainEditorCurrentBlockStore:o}=(0,r.VK)((()=>C.default.state),[]),s=(0,r.VK)((()=>t.state),[t]),a=i.currentTab;if("allPages"===a)return n&&o?(0,A.jsx)(S.Z,{spaceId:n.id,empty:()=>(0,A.jsx)(F.Z,{message:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Updates on pages in your workspace will appear here.",id:"updatesModal.allPagesTab.emptyPrompt"}),title:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"No new updates",id:"updatesModal.allPagesTab.emptyPromptTitle"})}),source:"notifications_tab"},`all-pages-${s}`):null;if("mentions"===a){const e=i.showOnlyUnreadNotifications;return(0,A.jsx)(se.Z,{type:"mentions",empty:e?(0,A.jsx)(de,{}):(0,A.jsx)(F.Z,{message:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"You'll be notified here for @mentions, page activity, requests, and page invites.",id:"updatesModal.spaceUpdatesTab.allArchivedRequests"}),title:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"You're all caught up",id:"updatesModal.spaceUpdatesTab.allArchivedTitle"})}),source:"notifications_tab",tab:"inbox"},"mentions")}if("archive"===a)return(0,A.jsx)(se.Z,{type:"archive",empty:(0,A.jsx)(F.Z,{message:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Any Inbox updates you archived will show up here.",id:"updatesModal.archiveTab.emptyPrompt"}),title:(0,A.jsx)(c.FormattedMessage,{defaultMessage:"No archived updates",id:"updatesModal.archiveTab.emptyPromptTitle"})}),source:"notifications_tab",tab:"archive"},"archive");(0,g.t1)(a)}function pe(e){let{refreshCountStore:t}=e;const i=(0,s.O7)();return(0,A.jsx)(L.Z,{fetch:async()=>{await p.Vs(0),await C.default.waitUntil((()=>void 0!==C.default.state.currentSpaceStore))},loading:()=>(0,A.jsx)(n.Fragment,{}),willRender:()=>{var e;null===(e=i.mobileNative)||void 0===e||e.markTransitionReady({type:"updates"})},render:()=>(0,A.jsx)(j.Z,{isVisible:!0,enterAnimationStyle:{opacity:0},animationStyle:{opacity:1},blockRenderQueueOnEnter:!0,render:()=>(0,A.jsx)(ue,{refreshCountStore:t})})})}},97680:(e,t,i)=>{i.d(t,{Z:()=>b});var n=i(67294),o=i(480),s=i(86628),r=i(66897),a=i(9291),l=i(1898),d=i(98742),c=i(4023),u=i(52275),p=i(26388),g=i(70301),m=i(45653),h=i(85893);const f=n.forwardRef(((e,t)=>{const{actor:i,userTitle:n,useEmailAsTooltip:f,tooltip:b,tooltipPlacement:x}=e,y=(0,o.O7)(),v=(0,a.useIntl)(),C=(0,s.VK)((()=>i.asActor&&i.isUser()?i.email:void 0),[i]),M=f&&C?C:b,S=y.device.isMobile?24:20;let j;return(0,r.YU)(i)?j=(0,h.jsx)(g.Z,{botValue:null==i?void 0:i.asActor,size:S}):(0,r.$S)(i)?j=(0,h.jsx)(m.Z,{userValue:null==i?void 0:i.asActor,size:S}):(0,r.Iq)(i)?j=(0,h.jsx)(m.Z,{userValue:void 0,size:S}):(0,l.t1)(i),(0,h.jsx)(p.ZP,{ref:t,placement:x??c.u.Bottom,alignment:c.v.Start,textWrap:!0,render:t=>(0,h.jsx)(u.Z,{...(0,d.Z)(t,e),icon:j,title:n??(0,r.$4)(v,i),className:"notranslate",right:e.right}),disableTooltip:!M,renderTooltip:()=>M})}));f.displayName="UserMenuItem";const b=f},92559:(e,t,i)=>{i.d(t,{Z:()=>r});i(67294);var n=i(24405),o=i(31701),s=i(85893);function r(){const e=(0,n.yK)((()=>({blockContext:{flexShrink:0,display:"flex",width:3,borderRadius:4,marginLeft:2,marginRight:8,minHeight:24,background:o.DB}})),[]);return(0,s.jsx)("div",{style:e.blockContext})}},92955:(e,t,i)=>{i.d(t,{Z:()=>l});i(67294);var n=i(86628),o=i(1898),s=i(19034),r=i(39849),a=i(85893);function l(e){const{type:t,...i}=e,l=(0,n.VK)((()=>{switch(t){case"currentSpace":return s.Z.getUnreadCountForCurrentSpace().mentions;case"otherSpaces":return s.Z.getUnreadMentionsCountForOtherSpaces();case"allSpaces":return s.Z.getTotalUnreadMentionsCount();default:(0,o.t1)(t)}}),[t]);return(0,a.jsx)(r.Z,{count:l,...i})}},8319:(e,t,i)=>{i.d(t,{z:()=>D,Z:()=>K});var n=i(67294),o=i(83355),s=i(480),r=i(86628),a=i(47453),l=i(9291),d=i(53965),c=i(1898),u=i(45257),p=i(75024),g=i(49085);class m extends g.default{getInitialState(){return{isMenuOpen:!1,inputTemporaryValue:"",indexToReplace:void 0,popupOriginRect:void 0}}}const h=m;var f=i(52275),b=i(89728),x=i(53437),y=i(58297),v=i(72495),C=i(75689),M=i(91642),S=i(68626),j=i(52629),T=i(23586),k=i(60709),w=i(29798),B=i(72087),Z=i(78140),I=i(32163),L=i(43765),F=i(40721),R=i(47082),O=i(85893);const P={input:{marginTop:8,marginLeft:8,marginRight:8,boxSizing:"border-box",width:"auto"},menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}};const U=function(e){let{labelText:t,value:i,renderResultMenuItem:o,onConfirm:a,items:l,performRequest:d,onDismiss:c,onChange:u,renderToken:p,onRemove:g,onClear:m,disabled:h}=e;const f=(0,s.O7)(),b=(0,r.qz)(void 0,w.Z),x=(0,r.qz)(void 0,B.Z),y=(0,n.useCallback)(((e,n,s)=>(0,O.jsx)(V,{error:e,data:n,ready:s,labelText:t,value:i,renderResultMenuItem:o,onConfirm:a,menuListStore:b})),[t,i,o,a,b]),v={query:i,current:l};return(0,O.jsx)(Z.Z,{..._(f,c,t,i,l,u,p,g,m,h),children:(0,O.jsx)(T.Z,{debounce:100,requestStore:x,request:v,performRequest:d,render:y})})};function A(e){const{device:t}=e;return t.isMobile}function N(e){let{labelText:t,value:i,items:n,disabled:o,onChange:r,renderToken:a,onRemove:l,onClear:c}=e;const u=(0,s.O7)(),p=n.map((e=>a(e,{onRemove:()=>l(e)})));return(0,O.jsx)(R.Z,{focus:!A(u)||void 0,focusAfterAnimation:!0,format:R.U.FilterValue,tokens:p,placeholder:t.tokenInputPlaceholder,onRemoveLastToken:()=>function(e,t){const i=d.Z$(e);i&&t(i)}(n,l),onClearButtonClick:c,value:i,onChange:r,showClearButton:!0,disabled:Boolean(o),style:P.inputMenu})}function _(e,t,i,n,o,s,r,a,l,d){if(A(e)){return{menuType:k.og.Modal,title:i.title,right:(0,O.jsx)(F.DoneMenuText,{}),onClickRight:t,header:(0,O.jsx)(N,{labelText:i,value:n,items:o,disabled:d,onChange:s,renderToken:r,onRemove:a,onClear:l})}}return{menuType:k.og.Popup,onClickOutside:t,header:(0,O.jsx)(N,{labelText:i,value:n,items:o,disabled:d,onChange:s,renderToken:r,onRemove:a,onClear:l}),...P.menu}}function V(e){let{error:t,data:i,ready:o,labelText:s,value:a,renderResultMenuItem:d,onConfirm:c,menuListStore:u}=e;const p=(0,r.qz)(u,w.Z),g=(0,n.useCallback)((e=>(0,O.jsx)(v.Z,{...e,title:s.resultSectionTitle,loading:!o})),[s,o]);if(t)return S.log({level:"error",from:s.componentDebugName,type:"requestFailed",error:(0,j.Ui)(t),data:{miscDataToConvertToString:{query:a}}}),(0,O.jsx)(g,{children:(0,O.jsx)(L.Z,{title:(0,O.jsx)(l.FormattedMessage,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!i)return(0,O.jsx)(g,{children:(0,O.jsx)(L.Z,{title:(0,O.jsx)(l.FormattedMessage,{defaultMessage:"Loading…",id:"search.inputMenu.loading.message"})})});if(i&&0===i.length)return(0,O.jsx)(g,{children:(0,O.jsx)(L.Z,{title:(0,O.jsx)(l.FormattedMessage,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const m={key:"results",items:i.map((e=>function(e,t,i){return{key:e,action:()=>i(e),render:i=>t(e,i)}}(e,d,c))),render:g};return(0,O.jsx)(I.Z,{type:I.i.Vertical,store:p,initialFocus:0,sections:[m]})}let D=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});class E extends o.Z{constructor(){super(...arguments),this.animationFrameRef={current:void 0},this.originRef=n.createRef(),this.storeTypes={componentStore:h},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleMenuClose=e=>Q(this.stores.componentStore,this.props.onMenuDismiss,e),this.scheduleMeasurement=(e,t)=>{this.animationFrameRef.current=requestAnimationFrame(function(e,t,i){return n=>{if(!i)return;if(!i.current)return;const o=e?e(t.state):t.state;t.setState({...o,popupOriginRect:i.current.getBoundingClientRect()})}}(t,this.stores.componentStore,this.originRef))}}didMount(){window.addEventListener("resize",this.scheduleMeasurement)}willUnmount(){window.removeEventListener("resize",this.scheduleMeasurement),this.animationFrameRef.current&&(cancelAnimationFrame(this.animationFrameRef.current),this.animationFrameRef.current=void 0)}didUpdate(e){(e.items.length!==this.props.items.length||e.mode!==this.props.mode)&&this.scheduleMeasurement()}renderComponent(){const{device:e}=this.environment,{mode:t}=this.props;return e.isMobile?(0,O.jsx)(ne,{searchTokenFilterProps:this.props,componentStore:this.stores.componentStore}):this.renderDesktop(t)}renderDesktop(e){const{title:t,disabled:i}=this.props,{componentStore:{state:n}}=this.stores,o=i||n.isMenuOpen;let s;const r=(()=>e===D.Section?(s=t,this.renderSectionOrigin()):e===D.Button?this.renderButtonOrigin():e===D.Pill?this.renderPillOrigin():void(0,c.t1)(e))();return(0,O.jsxs)(M.Z,{title:s,marginAfter:e===D.Section,style:$(this.environment,this.props.mode).sectionMenuItem,children:[e!==D.Pill&&this.renderFilters({disableFilters:o,showLabel:!1}),r,(0,O.jsx)(x.ZP,{popupType:x.ZP.PopupType.Popup,placementToOrigin:x.ZP.Placement.Bottom,alignmentToOrigin:x.ZP.Alignment.Start,open:G(this.stores.componentStore),originRect:n.popupOriginRect,render:()=>(0,O.jsx)(ie,{searchTokenFilterProps:this.props,componentStore:this.stores.componentStore}),onDismiss:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleMenuClose,keepFocus:!0,preventScaleTransition:!0})]})}renderButtonOrigin(){const{icon:e,title:t,disabled:i,focused:n}=this.props,o=$(this.environment,this.props.mode),s=H(this.theme),r={...o.menuItem,...s.buttonMenuItem};return(0,O.jsx)("div",{ref:this.originRef,style:o.menuItemWrapper,children:(0,O.jsx)(f.Z,{disabled:i||G(this.stores.componentStore),icon:e(o.icon),title:t,focused:n,onClick:e=>oe(this.scheduleMeasurement,void 0,this.props.onMenuOpen),style:r})})}renderPillOrigin(){const{icon:e,title:t,disabled:i,iconStyles:n}=this.props,o=$(this.environment,this.props.mode),s=this.props.mode===D.Pill&&this.props.hasItemsSelected;return(0,O.jsx)("div",{ref:this.originRef,style:o.menuItemWrapper,children:(0,O.jsx)(u.Z,{on:s,icon:e({...o.icon,...n}),title:(0,O.jsx)("span",{children:t}),onClick:e=>oe(this.scheduleMeasurement,void 0,this.props.onMenuOpen),wrapStyle:{opacity:i?.4:1}})})}renderSectionOrigin(){const{addItemLabel:e,disabled:t}=this.props,i=$(this.environment,this.props.mode),o=H(this.theme);return(0,O.jsxs)(n.Fragment,{children:[(0,O.jsx)("div",{ref:this.originRef,style:i.menuItemWrapper}),(0,O.jsx)(f.Z,{disabled:t||G(this.stores.componentStore),icon:(0,a.R)(i.iconSmall),title:e,focused:!1,onClick:e=>oe(this.scheduleMeasurement,void 0,this.props.onMenuOpen),style:{...i.appendListItemButton,...o.appendListItemButton}})]})}renderFilters(e){const{items:t,renderFilter:i}=this.props,{device:n}=this.environment,o=t.map(((t,o)=>(0,O.jsx)("li",{children:i(t,{disabled:e.disableFilters,onRemove:()=>q(t,this.props.items,this.props.onChange),onClick:()=>n.isMobile?Y(this.stores.componentStore):oe(this.scheduleMeasurement,o,this.props.onMenuOpen)})},`${t}_${o}`)));return(0,O.jsx)("ul",{style:p.mK,children:o})}}E.displayName="SearchTokenFilter";const K=E;function z(e,t,i){i(t.filter((t=>t!==e)))}function W(e){e([])}function H(e){return{buttonMenuItem:{color:e.mediumTextColor},appendListItemButton:{color:e.lightTextColor}}}function q(e,t,i){z(e,t,i)}function $(e,t){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:p.yv(e,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===t?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}function Y(e){e.setState({...e.state,isMenuOpen:!0})}function G(e){return e.state.isMenuOpen}function X(e){e.setState({...e.state,inputTemporaryValue:"",indexToReplace:void 0})}function Q(e,t,i){X(e),e.setState({...e.state,isMenuOpen:!1,indexToReplace:void 0}),t&&t(i)}function J(e,t,i,n,o){const{indexToReplace:s}=o.state;"number"==typeof s&&s<t.length?function(e,t,i,n){n(i.slice(0,e).concat(t,i.slice(e+1)))}(s,e,t,i):t.includes(e)&&D.Pill?z(e,t,i):function(e,t,i){const n=t.concat(e);i(d.jj(n))}(e,t,i),n||X(o)}function ee(e){let{disableFilters:t,icon:i,title:n,mode:o,componentStore:r}=e;const a=$((0,s.O7)(),o);return(0,O.jsx)(f.Z,{disabled:t,focused:!1,icon:i({...a.icon}),title:n,onClick:e=>Y(r)})}function te(e){let{disableFilters:t,title:i,items:o,renderItemForSummary:r,mode:a,onChange:l,componentStore:d}=e;const c=(0,s.O7)(),u=(0,n.useCallback)((()=>Y(d)),[d]),g=$(c,a),m={...p.mK,...g.summary},h=o.length-1,f=(0,O.jsx)("ul",{style:m,children:o.map(((e,t)=>(0,O.jsx)("li",{style:g.summaryItem,children:(0,O.jsxs)(n.Fragment,{children:[r(e),t!==h&&","," "]})},e)))});return(0,O.jsx)(C.Z,{disabled:t,onClick:u,onClickClear:()=>W(l),label:i,title:f})}function ie(e){let{searchTokenFilterProps:t,componentStore:i}=e;const{items:o,onChange:s,keepInputOnItemConfirm:a,onMenuDismiss:d,renderToken:c,renderFooter:u,allowApplyBatchSelection:p}=t,g=(0,n.useCallback)((e=>J(e,o,s,a,i)),[o,s,a,i]),m=(0,n.useCallback)((e=>Q(i,d,e)),[i,d]),h=(0,n.useCallback)((e=>function(e,t){const{target:i}=e;t.setState({...t.state,inputTemporaryValue:String(i.value)})}(e,i)),[i]),f=(0,r.VK)((()=>i.state),[i]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(U,{...t,value:f.inputTemporaryValue,onChange:h,onDismiss:m,onConfirm:g,onClear:()=>{!function(e){e.setState({...e.state,inputTemporaryValue:""})}(i),W(s)},onRemove:e=>q(e,o,s),renderToken:c}),u&&(0,O.jsxs)(v.Z,{topBorder:!0,style:{padding:6,justifyContent:"space-between",display:"flex"},children:[(0,O.jsx)(b.Z,{onClick:()=>{W(s)},children:(0,O.jsx)(l.FormattedMessage,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),p&&(0,O.jsx)(y.Z,{onClick:()=>{Q(i,d,"applyButton")},children:(0,O.jsx)(l.FormattedMessage,{id:"searchTokenFilter.applyButton",defaultMessage:"Apply"})})]})]})}function ne(e){let{searchTokenFilterProps:t,componentStore:i}=e;const{mode:o,onMenuDismiss:s,disabled:a,title:l,items:d,renderItemForSummary:c,onChange:u,icon:p}=t,g=(0,n.useCallback)((e=>Q(i,s,e)),[i,s]),m=(0,n.useCallback)((()=>(0,O.jsx)(ie,{searchTokenFilterProps:t,componentStore:i})),[t,i]),h=(0,r.VK)((()=>G(i)),[i]),f=a||h,b=o===D.Section?(0,O.jsx)(te,{title:l,items:d,renderItemForSummary:c,mode:o,onChange:u,componentStore:i,disableFilters:f}):(0,O.jsx)(ee,{icon:p,title:l,mode:o,componentStore:i,disableFilters:f});return(0,O.jsx)(x.ZP,{popupType:x.ZP.PopupType.SlideUp,open:h,origin:b,render:m,onDismiss:g,keepFocus:!0})}function oe(e,t,i){i&&i(),e(void 0,(e=>({...e,isMenuOpen:!0,indexToReplace:t})))}},75689:(e,t,i)=>{i.d(t,{Z:()=>c});i(67294);var n=i(480),o=i(24405),s=i(37810),r=i(52275),a=i(24006),l=i(255),d=i(85893);const c=function(e){const{disabled:t,label:i,title:s,onClick:a,isToggle:l,isToggleActive:c,onClickClear:g,...m}=e,h=(0,o.Fg)(),f=(0,n.O7)(),b=function(e){return{menuItemLabel:{color:e.lightTextColor}}}(h),x=u(f),y=(0,d.jsx)("span",{style:b.menuItemLabel,children:i});return(0,d.jsx)(r.Z,{focused:!1,...m,inline:l,disabled:t,icon:y,title:s,right:(0,d.jsx)(p,{disabled:!!t,isToggle:!!l,isToggleActive:!!c,onClick:a,onClickClear:g}),onClick:a,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:x.menuItem,desktopIconStyle:x.menuItemLabel})};function u(e){return{menuItem:{background:void 0,minHeight:void 0,fontSize:e.device.isMobile?s.Z.fontSize.UISmall.mobile:s.Z.fontSize.UIRegular.desktop,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}function p(e){let{disabled:t,isToggle:i,isToggleActive:o,onClick:s,onClickClear:r=(()=>{})}=e;const c=u((0,n.O7)()).rightWrapper;return i?(0,d.jsx)("div",{style:c,children:(0,d.jsx)(a.Z,{on:!!o,onClick:s})}):(0,d.jsx)(l.Z,{disabled:t,onClick:r})}},91642:(e,t,i)=>{i.d(t,{Z:()=>s});i(67294);var n=i(72495),o=i(85893);const s=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:i,marginAfter:s,desktopStyle:r,desktopTitleStyle:a,...l}=e,d=(s||r)&&{...s&&t.marginAfter,...r},c=a?{...t.desktopTitleStyle,...a}:t.desktopTitleStyle;return(0,o.jsx)(n.Z,{isTitleUppercase:!0,disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:d,desktopTitleStyle:c,shouldShowBottomDivider:!1,title:i,...l})}},22165:(e,t,i)=>{i.d(t,{C:()=>v,V:()=>y});i(67294);var n=i(480),o=i(86628),s=i(24405),r=i(97439),a=i(9291),l=i(28020),d=i(43250),c=i(16746),u=i(74948),p=i(38676),g=i(24042),m=i(23063),h=i(73063),f=i(58261),b=i(26388),x=i(85893);function y(e){let{}=e;const t=(0,n.O7)(),i=(0,n.Fy)(),s=(0,a.useIntl)(),d=(0,o.VK)((()=>!p.sidebarMouseEnteredStore.state),[]),m=(0,o.VK)((()=>g.Z.state.isShowingTabBar||!1),[]),h=(0,o.VK)((()=>l.tu.state),[]),f=s.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"});return(0,x.jsx)(v,{shouldHide:i.isElectronMac&&h||m||d,icon:r.D,caption:f,onClick:()=>{u.setExpand({environment:t,isExpanded:!1,from:"topbar_sidebar_unexpand_button"}),c.Z.isVisible()&&u.close()},keyboardShortcutName:"toggleSidebar",isElectron:i.isElectron})}function v(e){const t=(0,n.Fy)(),i=(0,s.yK)((e=>({keyboardShortcut:{color:e.mediumInvertedTextColor}})),[]),o=e.isElectron&&!e.shouldHide?1:0,r=e.shouldHide?0:1,a=e.keyboardShortcutName;return(0,x.jsx)(b.ZP,{disableTooltip:e.shouldHide,renderTooltip:()=>(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:e.caption}),a&&(0,x.jsx)(f.Z,{style:i.keyboardShortcut,name:a})]}),originGap:6,render:i=>(0,x.jsx)(m.Z,{isVisible:!0,animationStyle:{opacity:r},enterAnimationStyle:{opacity:o},render:()=>(0,x.jsx)(h.Z,{ariaLabel:e.caption,disabled:e.shouldHide,icon:e.icon,style:{position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...e.style},iconStyle:{width:16,height:16},mobileFeedback:t.isMobile,onClick:e.onClick,className:d.Mfh,...i})})})}},36420:(e,t,i)=>{i.d(t,{n:()=>l,y:()=>a});i(21703);var n=i(67294),o=(i(77744),i(26249));let s,r;function a(e){s=s??new Map,r=r??function(e){let t=!1,i=[];return new ResizeObserver((n=>{i=i.concat(n),t||(t=!0,window.requestAnimationFrame((()=>{const n=new Set;[...i].reverse().filter((e=>{const t=n.has(e.target);return n.add(e.target),!t})).forEach((t=>{const i=e.get(t.target);null==i||i.forEach((e=>{const i=t.borderBoxSize[0];e({width:i.inlineSize,height:i.blockSize})}))})),i=[],t=!1})))}))}(s);const[t,i]=(0,n.useState)(void 0),a=(0,n.useCallback)((e=>{i((t=>(0,o.Z)(t,e)?t:e))}),[]);return(0,n.useLayoutEffect)((()=>{const t=e.current;if(!t)return;r.observe(t);const i=[...s.get(t)??[],a];return s.set(t,i),()=>{r.unobserve(t);const e=(s.get(t)??[]).filter((e=>e!==a));0===e.length?s.delete(t):s.set(t,e)}}),[a,e]),t}function l(e){const{children:t,onSizeChange:i}=e,o=(0,n.useRef)(null),s=a(o);(0,n.useEffect)((()=>{i&&s&&i(s)}),[s,i]);const r=n.Children.only(t);return n.cloneElement(r,{ref:o})}},83420:(e,t,i)=>{i.d(t,{TL:()=>u,nc:()=>c,ue:()=>d});var n=i(66897),o=i(54368),s=i(77420),r=i(19889),a=i(1898),l=i(6258);function d(e){const{parentStore:t,pointer:i}=e,o=(0,l.Kv)(t,i).getValue();if(o)return(0,n.LU)({table:i.table,value:o})}function c(e){const{parentStore:t,pointer:i}=e;return i.table===s.cZ?l.Qx.createChildStore(t,i):i.table===r.KJ?l.U6.createChildStore(t,i):i.table===o.y0?l.fg.createChildStore(t,i):void(0,a.t1)(i)}function u(e){return e.table===s.cZ?(0,n.ON)(e.getValue()):e.table===r.KJ?(0,n.m3)(e.getValue()):e.table===o.y0?(0,n.I4)(e.getValue()):void(0,a.t1)(e)}},34700:(e,t,i)=>{function n(e){return"drag"in e&&e.drag?{WebkitAppRegion:"drag"}:"noDrag"in e&&e.noDrag?{WebkitAppRegion:"no-drag"}:{}}i.d(t,{X:()=>n})},20095:(e,t,i)=>{i.d(t,{AQ:()=>p,EB:()=>c,MR:()=>u});i(57658);var n=i(72141),o=i(53965),s=i(19584),r=i(88893),a=i(88280),l=i(46654);const d=6e4;function c(e){if(e&&e.blockId)return e.blockId}function u(e,t){const i=e.currentUser.id;if(t.userId===i)return!0;{const e=Date.now();return Boolean(t.present&&t.activityTimestampNearestMinuteMs&&e-t.activityTimestampNearestMinuteMs<=d)}}function p(e,t){const i=a.subscriptionDataStoreInstance.state,{remotePresenceData:d,rootStore:c}=t.state;if(!c||!c.canEdit()||!i)return[];let u=[];d&&o.M6(d,(e=>{e&&e.userId&&u.push(e)}));const{pageId:p,lastViewTime:g,lastExitTime:m,omittedUserIds:h,...f}=e.state;o.M6(f,(e=>{e.isDefined()&&u.push({userId:e.getUserId(),activityTimestampNearestMinuteMs:(0,s.ud)(e.getVisitedAt()),present:!1})})),u=o.mN(u,(e=>e.userId));const b=(0,l.YO)(c).map((e=>{let{permissionItem:t}=e;return t})).filter(n.jg).map((e=>e.user_id)),x=(0,r.CM)(i).map((e=>e.userId)),y=o.G0(b,x),v=new Set(h);return u=u.filter((e=>!!y.includes(e.userId)&&!(!e.present&&v.has(e.userId)))),u=o.MR(u,(e=>{let{activityTimestampNearestMinuteMs:t}=e;return t?-t:0})),u}},23570:(e,t,i)=>{function n(e){return e?32:18}i.d(t,{f:()=>n})},57538:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(57883),o=i(1898);function s(e){switch(e){case"all":return{following:!0,followSettings:(0,n.yI)({explicitly_set_by_user:!0})};case"important":return{following:!0,followSettings:(0,n.GC)({explicitly_set_by_user:!0})};case"comments":return{following:!0,followSettings:(0,n.r$)({explicitly_set_by_user:!0})};case"none":return{following:!1,followSettings:(0,n.vU)({explicitly_set_by_user:!0})};default:(0,o.t1)(e)}}},87199:(e,t,i)=>{i.d(t,{h:()=>s,k:()=>o});var n=i(9291);const o=(0,n.defineMessages)({paymentMethodUnverified:{id:"subscriptions.paymentMethodUnverified",defaultMessage:"Your payment is being processed. Please try again when your payment has completed."},otherPaymentMethod:{id:"subscriptions.otherPaymentMethod",defaultMessage:"Other"},adminOnlyAction:{id:"subscriptions.adminOnlyAction",defaultMessage:"Only workspace owners can perform this action."},iosSubscriptionRestriction:{id:"subscriptions.iosSubscriptionRestriction",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."}}),s=(0,n.defineMessages)({trialTitle:{id:"nudges.trial.title",defaultMessage:"Notion for collaboration"},trialDescription:{id:"nudges.trial.description",defaultMessage:"Get 14 days of unlimited content creation with others"},trialCta:{id:"nudges.trial.cta",defaultMessage:"Try it for free"},trialTooltip:{id:"nudges.trial.tooltip",defaultMessage:"Use Notion as much as you want, with as many people as you like. You’ll receive a reminder when your trial is ending, and can cancel anytime."},approachingBlockLimitTitle:{id:"nudges.approachingBlockLimit.title",defaultMessage:"Upgrade to go unlimited"},approachingBlockLimitDescription:{id:"nudges.approachingBlockLimit.description",defaultMessage:"Continue using Notion to collaborate with others"},approachingBlockLimitCta:{id:"nudges.approachingBlockLimit.cta",defaultMessage:"Upgrade plan"},approachingBlockLimitTooltip:{id:"nudges.approachingBlockLimit.tooltip",defaultMessage:"You’re reaching the maximum number of free blocks given on your plan ({percent}%). You won’t be able to create more content unless you upgrade to the Plus plan."},reachedBlockLimitTitle:{id:"nudges.reachedBlockLimit.title",defaultMessage:"Keep using Notion"},reachedBlockLimitDescription:{id:"nudges.reachedBlockLimit.description",defaultMessage:"{spaceName} has used 100% of the free blocks in the workspace"},reachedBlockLimitCta:{id:"nudges.reachedBlockLimit.cta",defaultMessage:"Upgrade plan"},reachedBlockLimitTooltip:{id:"nudges.reachedBlockLimit.tooltip",defaultMessage:"You’ve reached the maximum number of free blocks for your plan (100%). You won’t be able to create more content unless you upgrade to the Plus plan."}})},44041:(e,t,i)=>{i.d(t,{y:()=>v});i(67294);var n=i(47425),o=i(9291),s=i(86572),r=i(47307),a=i(33929),l=i(52533),d=i(80444),c=i(92083),u=i(39343),p=i(87199),g=i(70060),m=i(88893),h=i(35057),f=i(88280),b=i(81023),x=i(64891),y=i(85893);async function v(e,t){var i;s.sA(e,{from:t.from,for_subscription_tier:t.for,addOnFeature:t.addOnFeature});if((0,h.QM)()&&["block_limit_sidebar","block_limit_settings","block_limit_banner"].includes(t.from)&&!t.addOnFeature&&(0,g.XA)(e))return void c.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0});if(!t.addOnFeature&&(0,n.QM)(t.for))return;const v=(0,l.S$)({environment:e})&&"personal"===t.for;if(e.device.isMobileNative){if("ai"===t.addOnFeature){const t=(0,l.Y2)({environment:e})?(0,y.jsx)(o.FormattedMessage,{id:"upsellActions.noIAPForAIWithExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Visit on desktop to purchase Notion AI and go unlimited."}):(0,y.jsx)(o.FormattedMessage,{id:"upsellActions.noIAPForAIWithoutExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Unfortunately, additional AI responses cannot be purchased on this platform."});return void r.showErrorMessage(t)}if(!v)return}const C=d.default.state.currentSpaceStore;if(!C)return;if(!C.canAdmin())return;await b.bi(e);const M=f.subscriptionDataStoreInstance.state;if(!M)return;if("unsubscribed_admin"!==M.type&&"subscribed_admin"!==M.type)return void(t.dontOpenPlansOnCancel||c.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0}));if(m.ri(M))return void r.showErrorMessage(a.default.formatMessage(p.k.paymentMethodUnverified));if(m.Q6(M)){const e=(0,y.jsx)(o.FormattedMessage,{id:"upsellActions.referToSalesRep",defaultMessage:"This workspace is part of a managed account. Please contact your account representative to discuss any changes to your subscription."});return void r.showErrorMessage(e)}if(v)return void(e.mobileNative&&C.id&&e.mobileNative.openUpgradeModal(C.id));if("revenueCat"===(null===(i=M.customerData)||void 0===i?void 0:i.activeSubscriptionPlatform)){const e=(0,y.jsx)(o.FormattedMessage,{id:"upsellActions.switchPlanFromInAppPurchase",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."});return void r.showErrorMessage(e)}const S=m.XX(M);if(t.addOnFeature&&(0,u.Fk)(S)){const e=(0,y.jsx)(o.FormattedMessage,{id:"upsellActions.noAddOnPurchaseDuringFreeTrial",defaultMessage:"Unfortunately, additional {addOn, select, ai {AI responses} other {features}} cannot be purchased while a workspace is on a free trial.",values:{addOn:t.addOnFeature}});r.showErrorMessage(e)}else{if(S&&m.MM(M))return t.addOnFeature?void x.af({environment:e,from:t.from,view:"add_ons",addOnFeature:t.addOnFeature,billingInterval:S.interval,pageSection:t.pageSection}):void x.af({environment:e,from:t.from,view:"plans",temporarySubscriptionTier:t.for,billingInterval:S.interval,pageSection:t.pageSection});{const i=(0,g.px)(e,t.for)?"ai_fifty_percent":void 0;b.I0(e,{subscriptionTier:t.for,from:t.from,addOnFeature:t.addOnFeature,coupon:i,isTrial:t.isTrial})}}}},91694:(e,t,i)=>{i.d(t,{Z:()=>h});i(67294);var n=i(480),o=i(86628),s=i(24405),r=i(47425),a=i(9291),l=i(31701),d=i(1898),c=i(37810),u=i(74136),p=i(26388),g=i(44041),m=i(85893);const h=function(e){let{subscriptionTier:t,mobileStyle:i,desktopStyle:h,analyticsName:f,onClick:b}=e;const x=(0,s.Fg)(),y=(0,n.O7)(),{device:v}=y,C=v.isIOS&&v.isNative,M=(0,o.VK)((()=>function(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?l.ZP.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:c.Z.fontWeight.medium};default:return{}}}(t,x)),[t,x]);if(C)return null;let S;return"personal"===t?S=(0,m.jsx)(a.FormattedMessage,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,r.eR)(t)?S=(0,m.jsx)(a.FormattedMessage,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,r.NG)(t)?S=(0,m.jsx)(a.FormattedMessage,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,r.wP)(t)?S=(0,m.jsx)(a.FormattedMessage,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,d.t1)(t),v.isMobile?(0,m.jsx)(u.Z,{mobileStyle:i,children:S}):(0,m.jsx)(p.ZP,{delayThreshold:120,placement:p.ug.Bottom,renderTooltip:()=>(0,m.jsxs)("div",{style:{maxWidth:500},children:[(0,m.jsx)(a.FormattedMessage,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"}),(0,m.jsx)("br",{}),(0,m.jsx)(a.FormattedMessage,{defaultMessage:"Click to learn more.",id:"upgradeButton.learnMore.tooltip"})]}),originGap:6,render:e=>(0,m.jsx)(u.Z,{desktopStyle:h,innerStyle:M,onClick:e=>function(e,t,i,n,o){g.y(n,{from:t,for:i}),o&&o(e)}(e,f,t,y,b),...e,children:S})})}},39343:(e,t,i)=>{i.d(t,{Fk:()=>a,U6:()=>d,nx:()=>l});var n=i(30120),o=i(13991),s=i(7057),r=i(95477);function a(e){return!(null==e||!e.trialEnd)&&e.trialEnd>=n.ou.now().toSeconds()}function l(e){const t=function(e){if(!a(e))return;const t=1e3*(null==e?void 0:e.trialEnd);return null!=e&&e.periodEnd&&e.periodEnd>=n.ou.now().toSeconds()&&e.periodEnd<t?e.periodEnd:t}(e);return t?(0,s.Yx)(t,"long",o.SP):void 0}function d(e){return e?r.default.trials[e.id].duration:r.default.trials.default.duration}},7189:(e,t,i)=>{i.d(t,{K:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,o.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},37652:(e,t,i)=>{i.d(t,{V:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("arrowLeft",{viewBox:"0 0 30 30",svg:(0,o.jsx)("polygon",{points:"29 14 4.813 14 13.406 5.406 12 4 1 15 12 26 13.406 24.594 4.813 16 29 16"})})},65422:(e,t,i)=>{i.d(t,{K:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("boltFilled",{svg:(0,o.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},82855:(e,t,i)=>{i.d(t,{E:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},1464:(e,t,i)=>{i.d(t,{k:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("chevronLeftRounded",{viewBox:"0 0 24 24",svg:(0,o.jsx)("path",{d:"M7.1875 11.8594C7.1875 12.0547 7.25781 12.2266 7.40625 12.375L13.6016 18.4297C13.7344 18.5703 13.9062 18.6406 14.1094 18.6406C14.5156 18.6406 14.8281 18.3359 14.8281 17.9297C14.8281 17.7266 14.7422 17.5547 14.6172 17.4219L8.92969 11.8594L14.6172 6.29688C14.7422 6.16406 14.8281 5.98438 14.8281 5.78906C14.8281 5.38281 14.5156 5.07812 14.1094 5.07812C13.9062 5.07812 13.7344 5.14844 13.6016 5.28125L7.40625 11.3438C7.25781 11.4844 7.1875 11.6641 7.1875 11.8594Z"})})},91315:(e,t,i)=>{i.d(t,{r:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},64275:(e,t,i)=>{i.d(t,{D:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("closeSmall",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z"})})},97439:(e,t,i)=>{i.d(t,{D:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("doubleChevronLeft",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M7.07031 13.8887C7.2207 14.0391 7.40527 14.1211 7.62402 14.1211C8.06836 14.1211 8.41699 13.7725 8.41699 13.3281C8.41699 13.1094 8.32812 12.9043 8.17773 12.7539L3.37207 8.05762L8.17773 3.375C8.32812 3.21777 8.41699 3.0127 8.41699 2.80078C8.41699 2.35645 8.06836 2.00781 7.62402 2.00781C7.40527 2.00781 7.2207 2.08984 7.07031 2.24023L1.73828 7.44922C1.56055 7.62012 1.46484 7.8252 1.46484 8.06445C1.46484 8.29688 1.55371 8.49512 1.73828 8.67969L7.07031 13.8887ZM13.1748 13.8887C13.3252 14.0391 13.5098 14.1211 13.7354 14.1211C14.1797 14.1211 14.5283 13.7725 14.5283 13.3281C14.5283 13.1094 14.4395 12.9043 14.2891 12.7539L9.4834 8.05762L14.2891 3.375C14.4395 3.21777 14.5283 3.0127 14.5283 2.80078C14.5283 2.35645 14.1797 2.00781 13.7354 2.00781C13.5098 2.00781 13.3252 2.08984 13.1748 2.24023L7.84961 7.44922C7.66504 7.62012 7.57617 7.8252 7.56934 8.06445C7.56934 8.29688 7.66504 8.49512 7.84961 8.67969L13.1748 13.8887Z"})})},90334:(e,t,i)=>{i.d(t,{O:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("ellipsis",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M2.887 9.014c.273 0 .52-.064.738-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.41 1.41 0 00-1.04-.417c-.264 0-.505.066-.724.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.307.394.526.526.219.128.46.192.725.192zm5.113 0a1.412 1.412 0 001.244-.718c.132-.219.198-.46.198-.725 0-.405-.14-.747-.423-1.025A1.386 1.386 0 008 6.129c-.264 0-.506.066-.725.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.308.394.526.526.22.128.46.192.725.192zm5.106 0c.265 0 .506-.064.725-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.394 1.394 0 00-1.026-.417 1.474 1.474 0 00-1.265.718c-.127.218-.19.46-.19.724 0 .265.063.506.19.725.133.219.308.394.527.526.223.128.47.192.738.192z"})})},13530:(e,t,i)=>{i.d(t,{s:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("historyForward",{viewBox:"0 0 14 14",svg:(0,o.jsx)("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})})},40350:(e,t,i)=>{i.d(t,{V:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("reactionAdd",{viewBox:"0 0 16 16",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M8.7207 12.0259C8.7207 12.4243 9.04492 12.7446 9.43945 12.7446H11.4199V14.7251C11.4199 15.1235 11.7441 15.4438 12.1426 15.4438C12.5371 15.4438 12.8613 15.1235 12.8613 14.7251V12.7446H14.8418C15.2363 12.7446 15.5605 12.4243 15.5605 12.0259C15.5605 11.6274 15.2363 11.3032 14.8418 11.3032H12.8613V9.32666C12.8613 8.92822 12.5371 8.604 12.1426 8.604C11.7441 8.604 11.4199 8.92822 11.4199 9.32666V11.3032H9.43945C9.04492 11.3032 8.7207 11.6274 8.7207 12.0259Z"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.02947 13.6952C8.43019 13.8731 7.79681 13.9688 7.14258 13.9688C3.46729 13.9688 0.439453 10.9409 0.439453 7.25928C0.439453 3.58398 3.46094 0.556152 7.14258 0.556152C10.8179 0.556152 13.8457 3.58398 13.8457 7.25928C13.8457 7.72257 13.7979 8.1755 13.7069 8.61336C13.439 8.02567 12.8508 7.61289 12.1648 7.60415C12.1724 7.49021 12.1763 7.37521 12.1763 7.25928C12.1763 4.47266 9.9292 2.22559 7.14258 2.22559C4.34961 2.22559 2.11523 4.47266 2.11523 7.25928C2.11523 10.0522 4.35596 12.2993 7.14258 12.2993C7.34385 12.2993 7.54226 12.2876 7.73717 12.2649C7.83478 12.9674 8.35636 13.53 9.02947 13.6952ZM6.02539 5.83105C6.02539 6.31982 5.67627 6.67529 5.28271 6.67529C4.88916 6.67529 4.55908 6.31982 4.55908 5.83105C4.55908 5.33594 4.88916 4.98047 5.28271 4.98047C5.67627 4.98047 6.02539 5.33594 6.02539 5.83105ZM9.73242 5.83105C9.73242 6.31982 9.3833 6.67529 8.99609 6.67529C8.60254 6.67529 8.26611 6.31982 8.26611 5.83105C8.26611 5.33594 8.59619 4.98047 8.99609 4.98047C9.38965 4.98047 9.73242 5.33594 9.73242 5.83105ZM9.37695 8.9668C9.37695 9.39844 8.48193 10.2808 7.14258 10.2808C5.79688 10.2808 4.90186 9.39844 4.90186 8.9668C4.90186 8.80811 5.06055 8.72559 5.21289 8.80176L5.22971 8.81029C5.68936 9.04333 6.22701 9.31592 7.14258 9.31592C8.01512 9.31592 8.53968 9.05921 8.99207 8.83782C9.01689 8.82568 9.04149 8.81364 9.06592 8.80176C9.21826 8.73193 9.37695 8.80811 9.37695 8.9668Z"})]})})},83065:(e,t,i)=>{i.d(t,{_:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("sendArrow",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M9.79883 18.5894C14.6216 18.5894 18.5894 14.6216 18.5894 9.79883C18.5894 4.96777 14.6216 1 9.79053 1C4.95947 1 1 4.96777 1 9.79883C1 14.6216 4.96777 18.5894 9.79883 18.5894ZM9.79883 14.3062C9.20947 14.3062 8.76953 13.9077 8.76953 13.3433V9.69922L8.86914 8.00586L8.25488 8.84424L7.3916 9.81543C7.23389 10.0063 6.98486 10.1143 6.72754 10.1143C6.21289 10.1143 5.84766 9.75732 5.84766 9.25928C5.84766 8.99365 5.92236 8.79443 6.12158 8.58691L8.96045 5.61523C9.19287 5.35791 9.4585 5.2417 9.79883 5.2417C10.1309 5.2417 10.4048 5.36621 10.6372 5.61523L13.4761 8.58691C13.667 8.79443 13.75 8.99365 13.75 9.25928C13.75 9.75732 13.3848 10.1143 12.8618 10.1143C12.6128 10.1143 12.3638 10.0063 12.2061 9.81543L11.3428 8.86914L10.7202 7.99756L10.8281 9.69922V13.3433C10.8281 13.9077 10.3799 14.3062 9.79883 14.3062Z"})})},44292:(e,t,i)=>{i.d(t,{d:()=>s});i(67294);var n=i(45238),o=i(85893);const s=(0,n.IU)("topbarUpdate",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.0781 18.1562C14.5078 18.1562 18.1641 14.5 18.1641 10.0781C18.1641 5.65625 14.5 2 10.0703 2C5.64844 2 2 5.65625 2 10.0781C2 14.5 5.65625 18.1562 10.0781 18.1562ZM10.0781 16.5469C6.49219 16.5469 3.625 13.6641 3.625 10.0781C3.625 6.49219 6.49219 3.61719 10.0703 3.61719C13.6562 3.61719 16.5391 6.49219 16.5469 10.0781C16.5547 13.6641 13.6641 16.5469 10.0781 16.5469ZM6.14062 11.0625H10.0703C10.4297 11.0625 10.7031 10.7891 10.7031 10.4375V5.32812C10.7031 4.97656 10.4297 4.70312 10.0703 4.70312C9.72656 4.70312 9.45312 4.97656 9.45312 5.32812V9.8125H6.14062C5.78906 9.8125 5.51562 10.0859 5.51562 10.4375C5.51562 10.7891 5.78906 11.0625 6.14062 11.0625Z"})})}}]);